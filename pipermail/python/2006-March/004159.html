<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2006-March/004159.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:25:44 GMT -->
<HEAD>
   <TITLE> [python] Prepis videa -- druha cast (bylo Guido video)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Prepis%20videa%20--%20druha%20cast%20%28bylo%20Guido%20video%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2006-March/004160.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2006-March/004161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Prepis videa -- druha cast (bylo Guido video)</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Prepis%20videa%20--%20druha%20cast%20%28bylo%20Guido%20video%29&In-Reply-To="
       TITLE="[python] Prepis videa -- druha cast (bylo Guido video)">PrikrylP na skil.cz
       </A><BR>
    <I>Pátek Bøezen 10 14:09:48 CET 2006</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-March/004160.html">[python] Prepis videa -- druha cast (bylo Guido video)
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-March/004161.html">[python] pyserial
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2006-March/date.html#4159">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/thread.html#4159">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/subject.html#4159">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/author.html#4159">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>...narychlo druhá èást (tady u¾ to dìlám trochu peèlivìji,
ne¾ první èást). Základní informace jsem slepil z obsahu
prezentovaných slajdù. Zkou¹el jsem to opsat pøesnì, ale
slajdy pøes video nejsou nejlépe èitelné, tak¾e tam mù¾ou
být chyby napøíklad v èíslech PEP. Do hranatých závorek
dávám vlastní poznámky.

Zdroj (10.3.2006): &quot;Google New York's Technical Speaker Series.&quot;

Guido van Rossum pøedná¹í v prostorách firmy Google ve
støedu 22. února 2006.

<A HREF="http://video.google.com/videoplay?docid=60331183357868340">http://video.google.com/videoplay?docid=60331183357868340</A>


Python 2.5
==========
- alfa verze v kvìtnu, release v záøí
  * alfa 1: 6. kvìtna 2006
  * alfa 2: 3. èervna 2006
  * alfa 3: 1. èervence 2006
  * beta 1: 29. èervence 2006
  * beta 2: 26. srpna 2006
  * rc 1:   16. záøí 2006
  * finální verze: 30. záøí 2006
  Mù¾e se to dokonce je¹tì urychlit.

- vìtev 2.4 taky není zatím mrtvá
  * 2.4.3 bude uvolnìna pøed 2.5a1
  * 2.4.4 zhruba jako finální 2.5

Co tam bude nového
==================
- Jazyk
  * absolutní/relativní import (PEP 328)
  * podmínìné výrazy (*PEP 308)
  * try/except/finally znovu spojenci (PEP 341)
  * výrazy s yield a vylep¹ení generátorù (PEP 342)
  * pøíkaz with (*PEP 343)
  * revidované výjimky (*PEP 352)
  * __index__ (*PEP 357)

- Implementace
  * AST pøekladaè [Abstract Syntax Tree]
  * velikost objektù bude vyjádøena typem ssize_t
    místo int (PEP 353)
  * vylep¹ení volby -m (*PEP 338)

(*) [neèitelná poznámka]

- Knihovna
  * any()/all()
  * ElementTree
  * a dal¹í


Absolutní/relativní import
==========================
    
Nìkdy nastanou situace, kdy jméno interního modulu (uvnitø
balíèku, tedy podadresáøe) koliduje s jménem standardního
modulu. Podle pravidel se nejdøíve hledá interní modul, co¾
ale brání mo¾nosti pou¾ití standardního modulu.

Øe¹ení spoèívá v oddìlení syntaxe pro absolutní a relativní
import. Nová syntaxe vede k zpìtné nekompatibilitì, tak¾e se
bude povolovat explicitnì pøes __future__. Pøíklady:

 import foo            # hledá se JEN v sys.path
 from . import foo     # hledá se JEN v aktuálním balíku
 from .. import foo    # hledá se v rodièovském balíku
 from .bar import foo  # hledá se v balíku bar
 from ..bar import foo # hledá se v sourozenci balíku bar [tomu moc nerozumím]

 atd. Povolen je libovolný poèet úvodních teèek.


Podmínìné výrazy
================
- Debatovalo se o tom pøed pár lety. Problematika znovu
  otevøena. Pou¾ívání obratu &quot;PODMÍNKA and VÝRAZ1 or VÝRAZ2&quot;
  vede k chybám pøi VÝRAZ1 vyhodnocený jako False.
- GvR navrhuje &quot;VÝRAZ1 if PODMÍNKA else VÝRAZ2&quot;
- Odmítnuta celá øada alternativ. (C styl je pova¾ován za
  pøíli¹ kryptický, pøidávání dal¹ích klíèových slov se také
  nezva¾uje.)
- Doporuèuje se pou¾ívat zøídka. Pou¾ívání klasické
  konstrukce if/else je èasto lep¹í. 

try/except/finally znovu spojenci
=================================

Momentálnì nelze pou¾ívat finally a except dohromady. GvR
mìl kdysi potí¾e s implementací a souèasné pou¾ití se mu
jevilo v nìkterých pøípadech nejednoznaèné. Java ukázala, ¾e
tam ¾ádná nejednoznaènost není.

Kdysi døíve Python konstrukci

  try:
      BLOK1
  except:
      BLOK2
  finally:
      BLOK3

... umo¾òoval, ale tato mo¾nost byla u novìj¹ích verzí
odstranìna. Po revizi bude tento syntaktický zápis znovu
povolen.


Vylep¹ení generátorù
====================

Inspirace pøípady pou¾ití generátorù pro vstup/výstupní
operace. Inspirace jazykem Ruby.

- yield mù¾e být pou¾it jako výraz
- yield bez argumentu je toté¾ jako &quot;yield None&quot;
- g.send(hodnota) za¹le generátoru hodnotu
- g.throw(výjimka) vyvolá výjimku [v kontextu pou¾ití yield]
- g.close() vyvolá GeneratorExit (a odchytí si ji)
- kdy¾ se generátor dostane do paøátù garbage collectoru, 
  provede se close()
- yield [zatím] nelze pou¾ít uvnitø try/finally


with
====

Netriviální zále¾itost, trocha magie; with jako blok,
správce kontextu (@contextmanager), zpracování výjimek.

Mutex jako inspirace i jako první kandidát pro vyu¾ití with.


Revidované výjimky
==================

- Standardní výjimky se stanou tøídami nového typu.
- Nová koøenová tøída: BaseException
  * Stane se bázovou tøídou pro KeyboardInterrupt a SystemExit.
    (Existují dobré dùvody, proè tyto dvì výjimky nemají mít
    bázovou tøídu Exception, ale právì BaseException.)
  * Stane se bázobou tøídou také pro Exception a v¹e pod
    touto tøídou.
- Ve verzích po 2.5
  * budou zakázány výjimky pou¾ívající øetìzce
  * v¹echny výjimky musí dìdit z BaseException
  * Mo¾ná bude odstranìna holá forma pøíkazu &quot;except:&quot;
  * Cíle bude mo¾né dosáhnout a¾ bìhem nìkolika meziverzí.

__index__
=========

Nový protokol: &quot;Pokud objekt reprezentuje index v
nestandardní reprezentaci, pak __index__() pøevádí tuto
nestandardní reprezentaci na standardní integer&quot;. Motivace
pochází s oblasti numerických výpoètù.


Pøekladaè zalo¾ený na abstraktních syntaktických stromech
=========================================================

Týká se vlastností implementace, nikoliv vlastností jazyka. 

Témìø se ho podaøilo vypustit u¾ v souvislosti s 2.4, ale
nebyl doladìný a blí¾il se naplánovaný termín vypu¹tìní
verze. 

* Co to je?
  - zcela nový pøekladaè bajtkódu
  - pou¾ívá ABSTRAKTNÍ syntaktické stromy místo KONKRÉTNÍCH
  
* Proè?  
  - nový pøekladaè se snadnìji upravuje
    (u¾iteènost se ji¾ prokázala pøi úpravách try/except/finally)
  - ke strukturám AST lze pøistupovat i s pythonovského kódu
    To znamená, ¾e lze pøímo prostøednicvím pythonovského
    kódu experimentovat z modifikacemi bajtkódu, pokusnì
    vytváøet nové varianty jazyka a podobnì. 
    
    
ssize_t
=======

Opìt zále¾itost implementace. ssize_t odpovídá celoèíselnému
znaménkovému typu, který zabírá stejný poèet bajtù jako
ukazatel v jazyce C. To znamená, ¾e napøíklad u 64bitového
kódu reprezentuje vìt¹í èísla, ne¾ typ long v jazyce C.


-m &lt;package&gt;.&lt;module&gt;
=====================

Pøímé spu¹tìní modulu v balíku. Vyu¾ije se napøíklad pøi
spou¹tìní regresních testù Pythonu, které jsou souèástí jeho
zdrojových textù.


Novinky v knihovnì 2.5
======================

* Nové zabudované funkce: any(), all()
  * if any(x &gt; 0 for x in S):  ...
  * if all(P(x) for x in S): ...
  * Umo¾òují pou¾ívat generátorové výrazy
    - ale pracují s libovolnými iterátory a iterable
  * Sémantika zkrácených výrazù (jako u and/or operátorù)
    - Zastaví pøi prvním nevyhovujícím pøípadu,
    - ale nevyhovující pøípad není zpøístupnìn, [proto¾e]
    - vedlo by to k mnoha podivnostem...
      * all() by muselo vracet True nebo pøípad, který vede
        k false.
        
* Nové moduly:
  - funkcional: partial()
  - hashlib: MD-5, SHA-1, -224, -256, -384, -512
  - cProfile: lep¹í profiler, rychlej¹í, men¹í re¾ie
  - [c]ElementTree: lep¹í XML API 
    * Fredrik Lundh, tøetí strana
    * ElementTree implementován v Pythonu
    * cElementTree je rychlej¹í
    * from xmlcore.etree import ElementTree
  
* Doufejme, ¾e také:
  - ctypes: volání libovolného C kódu z DLL nebo sdílené
            knihovny (sharelib)
  - wstiref [?]: infrastruktura pro standardní web framework
  - setuptools: snadná správa balíkù
  - bdist_msi, bdist_deb?, bdist_egg???: pro distutils
  
(konec)

pepr

Jan Suchý
&gt;<i> Ahoj, tady je Guido na¾ivo z konference Python in New York 
</I>&gt;<i> konané 22.2.2006.
</I>&gt;<i> V prvním videu mluví o vzniku jazyka a cílech návrhu, v 
</I>&gt;<i> druhém podrobnì 
</I>&gt;<i> o zmìnách, které budou ve verzi Pythonu 2.5 a 3.0, vèetnì 
</I>&gt;<i> pøedpokládaného data uvedení nové verze 2.5.
</I>&gt;<i> tak si o u¾ijte :-)
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://video.google.com/videoplay?docid=-7758421725489622662">http://video.google.com/videoplay?docid=-7758421725489622662</A>
</I>&gt;<i> <A HREF="http://video.google.com/videoplay?docid=60331183357868340">http://video.google.com/videoplay?docid=60331183357868340</A>
</I>
Jan Suchý
&gt;<i> Ahoj, tady je Guido na¾ivo z konference Python in New York 
</I>&gt;<i> konané 22.2.2006.
</I>&gt;<i> V prvním videu mluví o vzniku jazyka a cílech návrhu, v 
</I>&gt;<i> druhém podrobnì 
</I>&gt;<i> o zmìnách, které budou ve verzi Pythonu 2.5 a 3.0, vèetnì 
</I>&gt;<i> pøedpokládaného data uvedení nové verze 2.5.
</I>&gt;<i> tak si o u¾ijte :-)
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://video.google.com/videoplay?docid=-7758421725489622662">http://video.google.com/videoplay?docid=-7758421725489622662</A>
</I>&gt;<i> <A HREF="http://video.google.com/videoplay?docid=60331183357868340">http://video.google.com/videoplay?docid=60331183357868340</A>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-March/004160.html">[python] Prepis videa -- druha cast (bylo Guido video)
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-March/004161.html">[python] pyserial
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2006-March/date.html#4159">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/thread.html#4159">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/subject.html#4159">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-March/author.html#4159">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2006-March/004159.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:25:44 GMT -->
</html>
