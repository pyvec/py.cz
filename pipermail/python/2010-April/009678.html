<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2010-April/009678.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:45 GMT -->
<HEAD>
   <TITLE> [python] Python WSGI (zaèáteèník)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FPython_WSGI_%3D28za%3DE8%3DE1te%3DE8n%3DEDk%3D29%3F%3D&In-Reply-To=%3Cq2l67c97cd91004241647sf8bd2994u6bd9f26f832c7416%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2010-April/009676.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2010-April/009679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Python WSGI (zaèáteèník)</H1>
    <B>Petr Messner</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FPython_WSGI_%3D28za%3DE8%3DE1te%3DE8n%3DEDk%3D29%3F%3D&In-Reply-To=%3Cq2l67c97cd91004241647sf8bd2994u6bd9f26f832c7416%40mail.gmail.com%3E"
       TITLE="[python] Python WSGI (zaèáteèník)">petr.messner na gmail.com
       </A><BR>
    <I>Nedìle Duben 25 01:47:11 CEST 2010</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009676.html">[python] Python WSGI (zaèáteèník)
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009679.html">[python] Python WSGI (zaèáteèník)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-April/date.html#9678">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/thread.html#9678">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/subject.html#9678">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/author.html#9678">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2010/4/24 Thomix &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">thomixcz na gmail.com</A>&gt;:
...
&gt;<i>
</I>&gt;<i> Na zaèátek bych stra¹nì rád podìkoval za nádherné odezvy, které mì
</I>&gt;<i> pøivádìjí na tu dle mého správnou cestu. Moje projekty nav¹tìvuje více
</I>&gt;<i> ne¾ deset lidí. Celový traffik je 4TB mìsièné, be¾í na VPS (ubuntu a
</I>&gt;<i> debian). Zpracovávám databáze o velikosti 100 a více mb. Pøíjde mì ¾e
</I>&gt;<i> PHP je v tomto pøi velké náv¹tevnosti stra¹nì pomalé. Proto by mì
</I>&gt;<i> zajímalo zda není chyba pou¾ívat python frameworky na velké projekty.
</I>&gt;<i> Pokud ne v èem by jste mì doporuèili je dìlat ? Rád bych si právì
</I>&gt;<i> udìlal i vlastní administraci a nechtìl bych vyu¾ívat nìco co u¾ je.
</I>&gt;<i> Je¹tì jednou dìkuji :)
</I>
Èísla, která uvádí¹, jsou nìkolikaøádovì men¹í ne¾ tøeba weby
Seznam.cz, které jsou implementovány v Pythonu. Nechci (a asi ani
nemù¾u) popisovat, jaký framework je pro nì pou¾it, ale nebude to
výkonovì nic lep¹ího ani hor¹ího ne¾ nìjaký normálnì navr¾ený
Pythonový framework. A» u¾ ji¾ existující nebo co si sám èlovìk mù¾e
napsat.

Na druhou stranu tøeba Facebook je celý v PHP. Myslím, ¾e fakt, ¾e
Facebook nedávno vydal (opensourcoval) pøekladaè PHP do C++, a vùbec
existence rùzných PHP optimalizátorù a bytecode ke¹í trochu naznaèuje
jisté výkonové nedostatky PHP, ale ono PHP na tom není a¾ tak ¹patnì.
Naopak, pokud vím, je to jeden z nejrychlej¹ích interpreterù. Bohu¾el
v rukávu zrovna nemù¾u najít odkaz na nìjaký dùvìryhodný test.

Problém opìt není v rychlosti toho èi onoho, ale v tom, jak to celé
funguje - PHP skript i se v¹emi includovanými knihovnami se musí
naèíst, zparsovat a zinicializovat pøi ka¾dém HTTP po¾adavku. Toto se
u dlouhobì¾ící Pythonové aplikace dìje jen pøi spu¹tìní, obsluha
ka¾dého jednotlivého HTTP po¾adavku je pak o tento rozdíl rychlej¹í.
(Pojmem dlouhobì¾ící myslím, ¾e to nesmí¹ nakonfigurovat zrovna jako
CGI nebo nìjak podobnì, to pak o popsanou výhodu samozøejmì
pøichází¹.)

Kdy¾ u¾ má¹ webovou aplikaci nata¾enou v pamìti a ona tam zùstává
(tzn. není smazána na konci prvního po¾adavku, jako se to obvykle dìje
v PHP), mù¾e¹ s tím dìlat psí kusy. Mù¾e¹ si tøeba pøímo v pamìti (v
nìjakém objektu apod.) ke¹ovat data, vygenerované stránky, výsledky z
databáze... Pokud pou¾ije¹ ¹ablonovací engine (jako ¾e asi ano), bývá
obvyklé, ¾e obsahuje nìjaký loader, který také ke¹uje naètené ¹ablony.
Mù¾e¹ si v nìjakém poolu uchovávat i samotná databázová spojení (to v
PHP jde taky, øíká se tomu persistentní spojení, ale nìkdy to bývá
vypnuté).

Abych zaèal odpovídat nìjak konkrétnì:

&gt;<i> Pøíjde mì ¾e PHP je v tomto pøi velké náv¹tevnosti stra¹nì pomalé.
</I>
Viz vý¹e :) Zále¾í na tom, co konkrétnì ty PHP skripty dìlají.

&gt;<i> Proto by mì zajímalo zda není chyba pou¾ívat python frameworky na velké projekty.
</I>
Myslím, ¾e není. Existují nástroje, jako ab (Apache benchmarking tool)
nebo httperf, které ti zmìøí, kolik po¾adavkù za sekundu web zvládne.
Nevygenerují takovou zátì¾, jakou ti udìlají u¾ivatelé, ale pro
zmìøení, zda je to èi ono dostateènì rychlé, to je dobré. Koneènì,
v¹echno stejnì mù¾e hodnì (pozitivnì) ovlivnit ke¹ování na
proxy/webserveru.

&gt;<i> Rád bych si právì udìlal i vlastní administraci a nechtìl bych vyu¾ívat nìco co u¾ je.
</I>
Dìlej jak chce¹. Já dìlám také :) &quot;Velké&quot; frameworky na to mají
fíèury, jako je koncept controllerù, scaffolding, generování formuláøù
(s validací, naèítáním názvù sloupcù z databáze a tak). Ale zase to
dìlají dost obecnì a hlavnì tak, aby to ka¾dý mohl pou¾ít. Kdy¾ to
udìlá¹ podle sebe, mù¾e to mít pro tebe lep¹í výsledky. Podle mì je
dùle¾ité se v tom vyznat, vìdìt jak to funguje jinde, abys pøi
vynalézání vlastního kola nevynalezl nìco hranatého :) Jinak, pokud
zrovna otázku &quot;framework ano nebo ne&quot; nemusí¹ øe¹it se spolupracovníky
na projektu, se zadavatelem nebo s firemními zvyklostmi, je to asi
jedno.

PM
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009676.html">[python] Python WSGI (zaèáteèník)
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009679.html">[python] Python WSGI (zaèáteèník)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-April/date.html#9678">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/thread.html#9678">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/subject.html#9678">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/author.html#9678">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2010-April/009678.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:45 GMT -->
</html>
