<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2010-April/009681.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:45 GMT -->
<HEAD>
   <TITLE> [python] Python WSGI (zaèáteèník)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FPython_WSGI_%3D28za%3DE8%3DE1te%3DE8n%3DEDk%3D29%3F%3D&In-Reply-To=%3Ce4136127-99ba-472f-92f6-f7ae7cbf2864%40b23g2000yqn.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2010-April/009680.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2010-April/009682.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Python WSGI (zaèáteèník)</H1>
    <B>Thomix</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FPython_WSGI_%3D28za%3DE8%3DE1te%3DE8n%3DEDk%3D29%3F%3D&In-Reply-To=%3Ce4136127-99ba-472f-92f6-f7ae7cbf2864%40b23g2000yqn.googlegroups.com%3E"
       TITLE="[python] Python WSGI (zaèáteèník)">thomixcz na gmail.com
       </A><BR>
    <I>Nedìle Duben 25 10:48:00 CEST 2010</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009680.html">[python] Python WSGI (zaèáteèník)
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009682.html">[python] Python WSGI (zaèáteèník)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-April/date.html#9681">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/thread.html#9681">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/subject.html#9681">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/author.html#9681">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 25, 9:48 am, Jirka Vejrazka &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">jirka.vejra... na gmail.com</A>&gt; wrote:
&gt;<i> Ahoj,
</I>&gt;<i>
</I>&gt;<i>   4TB mesicne je v podstate nezajimavy udaj, to nic nerika o
</I>&gt;<i> narocnosti jednotlivych aplikaci nebo webu. To muze udelat bittorrent
</I>&gt;<i> s minimalnimi naroky na pamet a (skoro) nemeritelnou zatezi procesoru.
</I>&gt;<i>
</I>&gt;<i>   Zkust uvest zpracovane HTTP pozadavky za sekundu pri beznem provozu
</I>&gt;<i> a ve spicce, pak se tim da nejak pracovat. Ale obecne se da rict, ze
</I>&gt;<i> ani v pripade &quot;velkych&quot; cisel ti nikdo nerekne, ze nemas pouzit Python
</I>&gt;<i> nebo PHP. I na jednoduche VPS se da na beznem webu udelat velka
</I>&gt;<i> spousta optimalizaci a kesovani, ktere dokazou radove zvysit vykon.
</I>&gt;<i>
</I>&gt;<i>   Zkus napsat trochu vic o tom, jak ty tve weby vypadaji...
</I>&gt;<i>
</I>&gt;<i>    Jirka
</I>&gt;<i>
</I>&gt;<i> On 24/04/2010, Thomix &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">thomi... na gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; On Apr 24, 5:34 pm, Petr Messner &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">petr.mess... na gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Ahoj,
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; zkusím ti to nejdøív nìjak vysvìtlit, pak ti odpovím na tvé konkrétní
</I>&gt;<i> &gt;&gt; otázky a závìr je¹tì nìco pøidám. Sorry, vzhledem k formulaci a vlastnì
</I>&gt;<i> &gt;&gt; samotné existenci dotazu jsem se trochu více rozepsal.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Pro jistotu zde uvedu definici WSGI: je to lepidlo, pomocí kterého se
</I>&gt;<i> &gt;&gt; slepí webový server a webový framework/webová aplikace; je to proto, aby
</I>&gt;<i> &gt;&gt; ka¾dá aplikace/ka¾dý framework nemusel znovu a znovu implementovat HTTP,
</I>&gt;<i> &gt;&gt; FastCGI, CGI atd. Místo toho jen webserver nebo FastCGI server nebo CGI
</I>&gt;<i> &gt;&gt; handler (nebo cokoliv) jen poskytne WSGI rozhraní a aplikace/framework u¾
</I>&gt;<i> &gt;&gt; se tím nemusí zabývat.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Ale stále toho k zabývání se je¹tì spousta zbývá. WSGI je low-level a
</I>&gt;<i> &gt;&gt; nedìlá nic jiného, ne¾ co jsem právì popsal. Mohl bys WSGI vzít a pøidat
</I>&gt;<i> &gt;&gt; do nìj nìjaké hezèí zpracování uploadu souborù, mohl bys do nìj pøidat
</I>&gt;<i> &gt;&gt; spojení do databáze, logování atd., ale to u¾ by pak nebylo hezké
</I>&gt;<i> &gt;&gt; rozhraní, ale pìkný moloch. Byl by to webový framework. Úkolem WSGI není
</I>&gt;<i> &gt;&gt; být webovým frameworkem, ale umo¾nit webovým frameworkùm fungovat
</I>&gt;<i> &gt;&gt; nezávisle na tom, jestli budou spu¹tìny pøes CGI, FastCGI nebo nìjak
</I>&gt;<i> &gt;&gt; jinak.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Tak¾e:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; 1. pokud chce¹ v Pythonu dìlat weby, nedìlej je èistì ve WSGI, ale najdi
</I>&gt;<i> &gt;&gt; si knihovnu nebo framework, která bude øe¹it ty nejotravnìj¹í vìci (upload
</I>&gt;<i> &gt;&gt; souborù apod.) Mù¾e to být buï full-stack framework jako tøeba Django nebo
</I>&gt;<i> &gt;&gt; Pylons, nebo to mù¾e být knihovna, která dìlá primárnì právì jen tohle,
</I>&gt;<i> &gt;&gt; napø. Werkzeug, Paste WebOb, yaro, ... Je toho mraky. Mezi tím jsou je¹tì
</I>&gt;<i> &gt;&gt; dal¹í vìci, napø. CherryPy. A pak je¹tì speciality, jako Zope nebo
</I>&gt;<i> &gt;&gt; Twisted.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; 2. statistiky na webu bývají pochybné kvality, nejlep¹í je se o výkonu
</I>&gt;<i> &gt;&gt; nìèeho pøesvìdèit sám. Na co psát nìco ultra-efektivnì, kdy¾ tam stejnì
</I>&gt;<i> &gt;&gt; poleze jen deset lidí dennì - místo toho to dìlej tak, abys z toho mìl sám
</I>&gt;<i> &gt;&gt; radost a mìl s tím co nejménì práce. Na druhou stranu, pro jakýkoliv dobøe
</I>&gt;<i> &gt;&gt; nakonfigurovaný zpùsob nasazení webové aplikace by nemìl být problém
</I>&gt;<i> &gt;&gt; zvádnout stovky po¾adavkù za sekundu, a pokud bude po¾adavkù více, stejnì
</I>&gt;<i> &gt;&gt; pøi takovém provozu se u¾ asi dávno bude¹ poohlí¾et po dal¹ím ¾eleze.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; 3. ¾e nechce¹ pou¾ívat mod_python já osobnì chválím :) I kdy¾ pro to mám
</I>&gt;<i> &gt;&gt; jiné dùvody, ne¾ statistiky na webu. WSGI je univerzálnìj¹í. (Ne ¾e by v
</I>&gt;<i> &gt;&gt; mod_pythonu ne¹el pou¾ít WSGI handler, vìøím, ¾e je zde øeè o standardním
</I>&gt;<i> &gt;&gt; mod_python publisheru.) Mimochodem, abychom pøede¹li obvyklému poèáteènímu
</I>&gt;<i> &gt;&gt; zádrhelu - WSGI není to samé, co mod_wsgi. Jedno je rozhraní a druhé je
</I>&gt;<i> &gt;&gt; jedna z implementací tohoto rozhraní pro Apache.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; 4. proè ti nefunguje ten print samozøejmì nevím, ale vzhledem k tomu, ¾e
</I>&gt;<i> &gt;&gt; print vypisuje na standardní výstup, asi to bude tím, ¾e svoji aplikaci
</I>&gt;<i> &gt;&gt; spou¹tí¹ pomocí nìèeho, co ten standardní výstup zavírá. Tøeba kdybych já
</I>&gt;<i> &gt;&gt; pomocí printu nìco napsal, tak se mi to vypí¹e rovnou do konzole, kde je
</I>&gt;<i> &gt;&gt; webovka spu¹tìná (tedy ne u¾ivateli do prohlí¾eèe), a na serveru
</I>&gt;<i> &gt;&gt; standardní výstup bývá (kdy¾ není zavøený) pøesmìrovaný do /dev/null,
</I>&gt;<i> &gt;&gt; tak¾e se to zapí¹e ví¹ kam. Pou¾ívat print ve webové aplikaci lze jen na
</I>&gt;<i> &gt;&gt; ladìní, jinak je to asi stejný nesmysl jako pou¾ívat ho v GUI aplikacích.
</I>&gt;<i> &gt;&gt; Jo a jestli si chtìl napsat nìco jako print(&quot;&lt;html&gt;... kilobajty balastu
</I>&gt;<i> &gt;&gt; ...&lt;/html&gt;&quot;), tak pou¾ij ¹ablonu, je to o dost jednodu¹¹í a pøehlednìj¹í
</I>&gt;<i> &gt;&gt; :)
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Co by mìl být tvùj dal¹í krok - doporuèuji se podívat na Django. Je tu
</I>&gt;<i> &gt;&gt; dost pøíznivcù a u¾ivatelù Djanga, tak¾e i z tohoto pohledu je to
</I>&gt;<i> &gt;&gt; perspektivní.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Kdybys nechtìl jít do Djanga, tak se zkus tøeba podívat
</I>&gt;<i> &gt;&gt; <A HREF="nahttp://werkzeug.pocoo.org/arozklikni">nahttp://werkzeug.pocoo.org/arozklikni</A> si to &quot;click here to see ...&quot;, je
</I>&gt;<i> &gt;&gt; tam docela pìkná ukázka. Jak vidí¹, snadno získá¹ objekt Request, ve
</I>&gt;<i> &gt;&gt; kterém je v¹e co potøebuje¹, odpovìï vrací¹ objektem tøídy Response a co
</I>&gt;<i> &gt;&gt; dìlá¹ mezi tím je na tobì, to ti jako PHP programátorovi pøijde asi
</I>&gt;<i> &gt;&gt; bli¾¹í. Werkzeug není zrovna hodnì pou¾ívaná vìc, ale mì se líbí, lze na
</I>&gt;<i> &gt;&gt; ni demonstrovat, jak to dìlat snadno a bez frameworkového molochu, proto
</I>&gt;<i> &gt;&gt; to zde uvádím. Takových podobných nástrojù jako Werkzeug je více.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Vùbec pro PHP programátora bude asi nejvìt¹í problém to, ¾e dìlat nìco v
</I>&gt;<i> &gt;&gt; Pythonu nebo Ruby neznamená jen nauèit se jazyk a tøeba jen jeden zpùsob
</I>&gt;<i> &gt;&gt; jak to zprovoznit, ale u¾ pøi ètení prvního tutorialu se na tebe valí vìci
</I>&gt;<i> &gt;&gt; jako ORM, MVC, URL routing, testování, ideálnì je¹tì základy
</I>&gt;<i> &gt;&gt; Linuxu/BSD/.... Tím se nenech odradit.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Tak¾e pøeji hodnì ¹tìstí, ale stojí to za to :)
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; PM
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; PS. pøedpokládám, ¾e tvùj dal¹í dotaz do této konference bude, kde na to
</I>&gt;<i> &gt;&gt; najít hosting :)
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; On 24.4.2010, at 16:01, Thomix wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Zdravím,
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; u¾ nìkolik let programuju v php. Poslední dobou ¹ilhám po python pro
</I>&gt;<i> &gt;&gt; &gt; web. Nainstaloval jsem si modul WSGI a zkusil si par tutoriálù. Ov¹em
</I>&gt;<i> &gt;&gt; &gt; mám problém.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Napø.:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; def application(environ, start_response):
</I>&gt;<i> &gt;&gt; &gt;    status = '200 OK'
</I>&gt;<i> &gt;&gt; &gt;    output = 'hl'
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt;    response_headers = [('Content-type', 'text/plain'),
</I>&gt;<i> &gt;&gt; &gt;                        ('Content-Length', str(len(output)))]
</I>&gt;<i> &gt;&gt; &gt;    start_response(status, response_headers)
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt;    return [output]
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Tomuto celkem rozumím ale nechapu jak v tom více programovat ??? Kdy¾
</I>&gt;<i> &gt;&gt; &gt; si napí¹u print(&quot;neco&quot;); napi¹e to chybu a dále se to semnou nebaví.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Viz.:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; def application(environ, start_response):
</I>&gt;<i> &gt;&gt; &gt;    status = '200 OK'
</I>&gt;<i> &gt;&gt; &gt;    output = 'hl'
</I>&gt;<i> &gt;&gt; &gt;    print(&quot;neco&quot;);
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt;    response_headers = [('Content-type', 'text/plain'),
</I>&gt;<i> &gt;&gt; &gt;                        ('Content-Length', str(len(output)))]
</I>&gt;<i> &gt;&gt; &gt;    start_response(status, response_headers)
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt;    return [output]
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Nìjak nechápu v èem je problém. Mod_python nechci pou¾ívat z dùvodu
</I>&gt;<i> &gt;&gt; &gt; slabé odezvialesponò dle statistik co jsem èetl na internetu. Mohl by
</I>&gt;<i> &gt;&gt; &gt; mì prosím nìkdo objasnit alespoò základ psaní ve WSGI ?
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; &gt; Dìkuji :)
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; Python mailing list
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://www.py.cz/mailman/listinfo/python">Pyt... na py.cz</A>
</I>&gt;<i> &gt;&gt; &gt;<A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;<i>
</I>&gt;<i> &gt; Na zaèátek bych stra¹nì rád podìkoval za nádherné odezvy, které mì
</I>&gt;<i> &gt; pøivádìjí na tu dle mého správnou cestu. Moje projekty nav¹tìvuje více
</I>&gt;<i> &gt; ne¾ deset lidí. Celový traffik je 4TB mìsièné, be¾í na VPS (ubuntu a
</I>&gt;<i> &gt; debian). Zpracovávám databáze o velikosti 100 a více mb. Pøíjde mì ¾e
</I>&gt;<i> &gt; PHP je v tomto pøi velké náv¹tevnosti stra¹nì pomalé. Proto by mì
</I>&gt;<i> &gt; zajímalo zda není chyba pou¾ívat python frameworky na velké projekty.
</I>&gt;<i> &gt; Pokud ne v èem by jste mì doporuèili je dìlat ? Rád bych si právì
</I>&gt;<i> &gt; udìlal i vlastní administraci a nechtìl bych vyu¾ívat nìco co u¾ je.
</I>&gt;<i> &gt; Je¹tì jednou dìkuji :)
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Python mailing list
</I>&gt;<i> &gt; <A HREF="http://www.py.cz/mailman/listinfo/python">Pyt... na py.cz</A>
</I>&gt;<i> &gt;<A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>
Tady nejde ani tak o moje projekty, byla to pouze ukazka ze bych se
rad zbavil PHP a zacal v necem co ma budoucnost. Problem nastava v tom
ze pracuju jako programator PHP. V praci si muzu diktovat v cem bude
redakcni system naprogramovany, proto bych rad presel na python. Proto
nemam v lasce moc frameworky s jednotnou administraci. Sice si muzu
vybrat v cem to budu programovat ale kolega si diktuje jak bude
administrace vypadat. Doufal jsem ze Python si nejak sikovne poradi s
vecma jako php viz. $_GET[] nebo $_POST[]. Proto se treba divim proc
nefunguje print(&quot;&quot;); pro web ale pres konzoli ho rozjedu. Existuje
neco co by usnadnovalo praci s vecma jako je GET atd a pritom bych v
tom mohl delat i vlastni administraci a sablonovaci system ?

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009680.html">[python] Python WSGI (zaèáteèník)
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-April/009682.html">[python] Python WSGI (zaèáteèník)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-April/date.html#9681">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/thread.html#9681">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/subject.html#9681">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-April/author.html#9681">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2010-April/009681.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:45 GMT -->
</html>
