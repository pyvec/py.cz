<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2003-September/001410.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:29:01 GMT -->
<HEAD>
   <TITLE> [python] Vykon Pythonu v praxi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Vykon%20Pythonu%20v%20praxi&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2003-September/001407.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2003-September/001405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Vykon Pythonu v praxi</H1>
    <B>Zdenek Pavlas</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Vykon%20Pythonu%20v%20praxi&In-Reply-To="
       TITLE="[python] Vykon Pythonu v praxi">zdenek.pavlas na nextra.cz
       </A><BR>
    <I>Pondìlí Záøí 29 10:25:33 CEST 2003</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-September/001407.html">[python] Vykon Pythonu v praxi = psyco
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-September/001405.html">[python] pomozte pls
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2003-September/date.html#1410">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/thread.html#1410">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/subject.html#1410">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/author.html#1410">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Radim Kolar wrote:

&gt;<i> Import 30M souboru trval na P2/266 1 minutu. Pricemz CPU cas mezi
</I>&gt;<i> databazi a pythonem se delil v pomeru 80:20 (databaze sezrala tech 80),
</I>&gt;<i> v pripade Javy importeru to bylo asi 86:XX.
</I>
Spustte ten importni skript na jinem stroji nez kde bezi ta DB, a napiste
jej jako dva thready, propojene treba pomoci Queue(). Prvni thread bude
nacitat data a pripravovat zaznamy, druhy thread je bude vycitat z fronty
a uploadovat do DB. Tim zcasti zamaskujete tech 80% cekani na databazi,
v idealnim pripade to bude o 25% rychlejsi a brzda bude jen DB, a s tim
uz moc nenadelate.

Dobre je taky delat commity nikoliv po kazdem zaznamu ale dejmetomu
kazdych par tisic, ale to asi uz stejne delate.

&gt;<i> Zkusil jsem jeste rozdil python2.1 a python2.2 a zadnou meritelnou
</I>&gt;<i> zmenu v rychlosti jsem nezjistil; casove rozdily byly mensi nez chyba
</I>&gt;<i> mereni.
</I>
Mam podobne zkusenosti- normalni kod bezi zhruba furt stejne rychle.
Python2.2 umi napr. struct.unpack ('Q'), a v me aplikaci vyuziti tehle
'blbosti' pridalo dobrych 15% vykonu.. Podobne to bylo s dict.setdefault,
to kdyz se chytre vyuziva tak to taky hodne zrychli a hlavne zprehledni..

&gt;<i> Co ale bylo zajimave, ze Python jede velice podstatne rychleji na
</I>&gt;<i> Pentiu2 narozdil od Javy, kde je rozdil mezi stejne rychlym p1 a p2
</I>&gt;<i> nic moc. Takze doporucuju psat pythonskym programatorum min.
</I>&gt;<i> cpu=pentium2.
</I>
Hmm, ze by hrala roli velikost cache?

-- 
Zdenek Pavlas


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-September/001407.html">[python] Vykon Pythonu v praxi = psyco
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-September/001405.html">[python] pomozte pls
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2003-September/date.html#1410">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/thread.html#1410">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/subject.html#1410">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-September/author.html#1410">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2003-September/001410.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:29:01 GMT -->
</html>
