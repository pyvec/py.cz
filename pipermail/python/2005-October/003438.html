<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2005-October/003438.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:26:29 GMT -->
<HEAD>
   <TITLE> [python] Diskuse: &quot;Strucny seznam&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Diskuse%3A%20%22Strucny%20seznam%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2005-October/003436.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2005-October/003439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Diskuse: &quot;Strucny seznam&quot;</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Diskuse%3A%20%22Strucny%20seznam%22&In-Reply-To="
       TITLE="[python] Diskuse: &quot;Strucny seznam&quot;">PrikrylP na skil.cz
       </A><BR>
    <I>Ètvrtek Øíjen  6 15:40:32 CEST 2005</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-October/003436.html">[python] odstraneni radku v souboru
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-October/003439.html">[python] Diskuse: &quot;Strucny seznam&quot;
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2005-October/date.html#3438">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/thread.html#3438">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/subject.html#3438">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/author.html#3438">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>slacker
&gt;<i> Tipoval bych, ze tuto vlastnost prevzal Python z
</I>&gt;<i> fukncionalnich programovacich jazyku. No a pokud
</I>&gt;<i> je mi znamo, tak se teto konstrukci vzdy rikalo
</I>&gt;<i> &quot;generator seznamu&quot;. Takze termin &quot;strucny seznam&quot;
</I>&gt;<i> je asi opravdu trochu mimo.
</I>
Super! 

    Generátor seznamu

Nemám sice dobré znalosti z funkcionálních jazykù
a pøístup, který je pou¾it v Pythonu, nepova¾uji 
za výluènì funkcionální, nicménì jsem mìl na mysli
naprosto stejný pøeklad. Moje zdùvodnìní vychází 
pøímo z vlastností Pythonu (generátory) a z obecného
principu v programovacích jazycích (konstruktor):

1. Syntaktický zápis (pøípadnì prázdné)
   posloupnosti v hranatých závorkách je speciální
   formou konstruktoru seznamu. Vzniká nový objekt
   typu seznam a má urèenou poèáteèní hodnotu. 
   (Zatím bez souvislosti s list comprehension, 
   podobnì, jako se napøíklad apostrofùm v Pascalu 
   øíká konstruktor øetìzce.)
   
   lst1 = []
   lst2 = [ 1, 2, 3 ]
   
2. Vnitøek u list comprehension je èistokrevný 
   &quot;generator expression&quot; (viz 5.2.5 Generator
   expressions), co¾ je jen jiný zápis obecného
   generátoru. Výsledkem je objekt generátoru.
   Odkaz na nìj má vlastnosti iterátoru (podporuje
   metodu next()). 
   
3. Dohromady je to konstruktor seznamu krmený
   generátorem polo¾ek, tedy &quot;generátor seznamu&quot;.   
   

Ilustraèní pøíklady
===================

Nejdøíve výsledek list comprehension:

  &gt;&gt;&gt; lst = [ x for x in xrange(10) ]
  &gt;&gt;&gt; lst
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

Vnitøní &quot;generator expression&quot; pou¾itý jako obecný
generátor:

  &gt;&gt;&gt; g = (x for x in xrange(10))
  &gt;&gt;&gt; g
  &lt;generator object at 0x00928080&gt;
  &gt;&gt;&gt; for i in g:
  ...     print i
  ...
  0
  1
  2
  3
  4
  5
  6
  7
  8
  9
  &gt;&gt;&gt; g.next()
  Traceback (most recent call last):
    File &quot;&lt;stdin&gt;&quot;, line 1, in ?
  StopIteration

Konstrukci seznamu mù¾eme provést pomocí právì
takového generátoru:

  &gt;&gt;&gt; g = (x for x in xrange(10))
  &gt;&gt;&gt; lst = list(g)
  &gt;&gt;&gt; lst
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
  
Kdy¾ to zapí¹eme bez pomocné refrence g,
dostaneme:

  &gt;&gt;&gt; lst = list((x for x in xrange(10)))
  &gt;&gt;&gt; lst
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
                                             
Kdy¾ 'list((' nahradíme '[' a '))' nahradíme ']',
dostaneme pøesnì &quot;list comprehension&quot;. Jde
pravdìpodobnì jen o syntakticky jinou formu zápisu
tého¾.

pepr

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-October/003436.html">[python] odstraneni radku v souboru
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-October/003439.html">[python] Diskuse: &quot;Strucny seznam&quot;
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2005-October/date.html#3438">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/thread.html#3438">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/subject.html#3438">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-October/author.html#3438">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2005-October/003438.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:26:29 GMT -->
</html>
