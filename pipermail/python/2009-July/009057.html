<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2009-July/009057.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:19:24 GMT -->
<HEAD>
   <TITLE> [python] sprava pameti,trida
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20sprava%20pameti%2Ctrida&In-Reply-To=%3C4A55E3F4.1000506%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2009-July/009056.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2009-July/009054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] sprava pameti,trida</H1>
    <B>Petr Zlamal</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20sprava%20pameti%2Ctrida&In-Reply-To=%3C4A55E3F4.1000506%40gmail.com%3E"
       TITLE="[python] sprava pameti,trida">p.zlamal na gmail.com
       </A><BR>
    <I>Ètvrtek Èervenec  9 14:35:00 CEST 2009</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-July/009056.html">[python] sprava pameti,trida
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-July/009054.html">[python] sprava pameti,trida
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2009-July/date.html#9057">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/thread.html#9057">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/subject.html#9057">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/author.html#9057">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>V pythonu 2.5 jiz funguje spravne. Po del a se uvlni cela pamet

Petr Zlamal napsal(a):
&gt;<i> No me to funguje nejak divne (python 2.4.4) a v programu top:
</I>&gt;<i>
</I>&gt;<i> Python 2.4.4 (#2, Oct 22 2008, 20:20:22)
</I>&gt;<i> [GCC 4.1.2 20061115 (prerelease) (Debian 4.1.1-21)] on linux2
</I>&gt;<i> Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
</I>&gt;<i> &gt;&gt;&gt; import gc
</I>&gt;<i> &gt;&gt;&gt; a = [&quot;%d&quot; % i for i in xrange(0, 50000000)]   #17.1% pameti
</I>&gt;<i> &gt;&gt;&gt; del a                                                            
</I>&gt;<i>      #14.7% pameti
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; gc.collect()                                                      
</I>&gt;<i> #14.7% pameti                               
</I>&gt;<i> 0
</I>&gt;<i> &gt;&gt;&gt;             
</I>&gt;<i>
</I>&gt;<i> Petr Hlávka napsal(a):
</I>&gt;&gt;<i> Dobry den,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (v uvodu clanku pisou, ze popisovany problem by mel byt opraven od
</I>&gt;&gt;<i> verze 2.5), kdyz zkusim
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;&gt;&gt;<i> import gc
</I>&gt;&gt;&gt;&gt;&gt;<i> a = [&quot;%d&quot; % i for i in xrange(0, 5000000)]
</I>&gt;&gt;&gt;&gt;&gt;<i> del a
</I>&gt;&gt;&gt;&gt;&gt;<i> gc.collect()
</I>&gt;&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> tak python 2.2 naalokuje a nasledne uvolni 200 MB pameti - k volani
</I>&gt;&gt;<i> gc.collect() by doslo pozdeji automaticky taky. Je mozne, ze pro mensi
</I>&gt;&gt;<i> alokace pameti si interpretr necha pamet v bufferu a nebude ji ihned
</I>&gt;&gt;<i> vracet OS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   S pozdravem Petr Hlavka.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2009/7/8 Dan Pressl &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">nu.frix na gmail.com</A>&gt;:
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> At me nekdo zkusenejsi opravi, ale pokud vim, tak to rucne nelze.
</I>&gt;&gt;&gt;<i> Viz. <A HREF="http://evanjones.ca/python-memory.html">http://evanjones.ca/python-memory.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2009/7/8 Petr Zlamal &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">p.zlamal na gmail.com</A>&gt;:
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;&gt;<i> Pratele,
</I>&gt;&gt;&gt;&gt;<i> Potreboval bych poradit jak uvolnit pamet v pythonu, respektive jak
</I>&gt;&gt;&gt;&gt;<i> odstranit nepotrebnou instanci tridy z pameti. Zkousel jsem prikaz del. Po
</I>&gt;&gt;&gt;&gt;<i> provedeni &quot;del&quot; na instanci tridy je vsak pamet zaplnena furt stejne
</I>&gt;&gt;&gt;&gt;<i> (sledovano pomoci top v linuxu). Mozna na to jdu uplne spatne. Vi nekdo jak
</I>&gt;&gt;&gt;&gt;<i> provest uvolneni?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Dekuji
</I>&gt;&gt;&gt;&gt;<i> Vepro
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Python mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> ^nu.friX
</I>&gt;&gt;&gt;<i> aka Dan Pressl
</I>&gt;&gt;&gt;<i> Reality is useless &amp; F4Q DMNC!!!
</I>&gt;&gt;&gt;<i> Every syntax creates code. And code is poetry.
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Python mailing list
</I>&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;<i>
</I>
------------- dal¹í èást ---------------
HTML pøíloha byla odstranìna...
URL: &lt;<A HREF="http://www.py.cz/pipermail/python/attachments/20090709/5741339a/attachment.htm">http://www.py.cz/pipermail/python/attachments/20090709/5741339a/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-July/009056.html">[python] sprava pameti,trida
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-July/009054.html">[python] sprava pameti,trida
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2009-July/date.html#9057">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/thread.html#9057">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/subject.html#9057">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-July/author.html#9057">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2009-July/009057.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:19:24 GMT -->
</html>
