<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2009-February/008626.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:19:52 GMT -->
<HEAD>
   <TITLE> [python] round v python 3.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20round%20v%20python%203.0&In-Reply-To=%3C49873C3B.3040409%40atlas.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2009-February/008625.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2009-February/008627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] round v python 3.0</H1>
    <B>Jan Janech</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20round%20v%20python%203.0&In-Reply-To=%3C49873C3B.3040409%40atlas.sk%3E"
       TITLE="[python] round v python 3.0">devel na atlas.sk
       </A><BR>
    <I>Pondìlí Únor  2 19:32:27 CET 2009</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-February/008625.html">[python] round v python 3.0
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-February/008627.html">[python] round v python 3.0
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2009-February/date.html#8626">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/thread.html#8626">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/subject.html#8626">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/author.html#8626">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Samozrejme, ono to ide &quot;zapnut&quot; aj globalne pre instalaciu pythonu a nie 
pre jeden program. Nikdy by som nieco take vsak nespravil, lebo to moze 
narusit funkcnost programov zavislych na novom chovani fcie round.

Ak Vam to vsak nevadi, tak nech sa paci:

Subor sitecustomize.py v Lib adresari pythonu (/usr/lib/python2.x v 
linuxe, c:\Python2x\Lib vo windows) (neexistuje, treba vytvorit):

__builtins__['round'] = lambda num: math.floor(num+0.5) if num &gt;= 0 \
                                else -math.floor(-num+0.5)

Jan Janech

Tovim wrote:
&gt;<i> Reply to Jan Janech, Pavel Kosina
</I>&gt;<i> 
</I>&gt;<i> Právì jsem si pøeèetl v Googlu, ani jsem nevìdìl, ¾e to existuje: Na
</I>&gt;<i> zaokrouhlování jsou dvì metody, &quot;common&quot; a &quot;round-to-even&quot;. 
</I>&gt;<i> Jestli Python zaokrouhluje podle metody &quot;zaokrouhli na sudou&quot;, potom to má
</I>&gt;<i> dobøe. Chceme-li tedy mít zaokrouhlíno tak, jak jsme zvyklí, mìli bychom si
</I>&gt;<i> vytvoøit nìjaké udìlátko.
</I>&gt;<i> 
</I>&gt;<i> Jane Janechu, myslel jsem, ¾e kdy¾ napí¹i &quot;__builtins__.round = lambda num:
</I>&gt;<i> math.floor(num+0.5)&quot;,
</I>&gt;<i> tak si nìkam trvale zapí¹u opravenou verzi round.
</I>&gt;<i> Kýho výra. Chodí to jenom pro aktuální seanci.
</I>&gt;<i> Poraïte mi chlapci, jde-li to nìkam trvale zapsat.
</I>&gt;<i> Dìkuji. Tovim
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Ja som aj pisal, ze fcia round zostane aka je. Iba sa prida dalsia pre 
</I>&gt;<i> aritmeticke zaokruhlovanie. V pripade, ze chcete aktualizovat fciu 
</I>&gt;<i> round, tak treba spravit:
</I>&gt;<i> 
</I>&gt;<i> __builtins__.round = lambda num: math.floor(num+0.5)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Inak, som si vsimol, ze to zle zaokruhluje zaporne cisla, takze spravne 
</I>&gt;<i> bude:
</I>&gt;<i> 
</I>&gt;<i> math.round = lambda num: math.floor(num+0.5) if num &gt;= 0 else \
</I>&gt;<i>                          -math.floor(-num+0.5)
</I>&gt;<i> 
</I>&gt;<i> Jan Janech
</I>&gt;<i> 
</I>&gt;<i> Tovim wrote:
</I>&gt;&gt;<i> Olé, round(2.5) ji¾ dává 3; jenom 2 malièké poznámky:
</I>&gt;&gt;<i> V Python30 je round v hlavním modulu (nevolá se math).
</I>&gt;&gt;<i> Navr¾ená úprava platí jen pro aktuální seanci.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Myslím si, ¾e to je Pythonu bota, i kdy¾ se o tom nìkde bla bla bla pí¹e.
</I>&gt;&gt;<i> Tovim
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> import math
</I>&gt;&gt;<i> math.round = lambda num: math.floor(num+0.5)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> round sa bude stale spravat ako sa ma, a pribudne math.round na klasicke 
</I>&gt;&gt;<i> aritmeticke zaokruhlovanie.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jan Janech
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> azurIt wrote:
</I>&gt;&gt;&gt;<i> taktiez si myslim, ze je to velmi nestastne riesenie, mala sa pre toto
</I>&gt;&gt;<i> vytvorit nova funkcia. existuje tam aj nieco pre 'klasicke' zaokruhlovanie
</I>&gt;<i> ?
</I>&gt;&gt;&gt;<i> azur
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> -----Pôvodná správa-----
</I>&gt;&gt;&gt;&gt;<i> Od: Pavel Kosina [mailto:<A HREF="http://www.py.cz/mailman/listinfo/python">geon na post.cz</A>]
</I>&gt;&gt;&gt;&gt;<i> Komu: Konference PyCZ &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">python na py.cz</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> Predmet: Re: [python] round v python 3.0
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Dìkuji, ale stejnì je to zvlá¹tní. Nevím, nakolik se Python pou¾ívá více
</I>&gt;&gt;&gt;&gt;<i> k vìdeckým a statistickým výpoètùm ne¾ na bì¾nou matematiku. A i kdyby
</I>&gt;&gt;&gt;&gt;<i> -  tento zpùsob zaokrouhlování mohl zùstat nìkde v modulu math nebo
</I>&gt;&gt;&gt;&gt;<i> scientific (kdyby existoval). Pokud budeme mít extrémní pøípad ze samých
</I>&gt;&gt;&gt;&gt;<i> èísel 0,5 - 1,5 - 2,5- 3,5- apod tak se chyba hor¹í, proto¾e napø. nikdy
</I>&gt;&gt;&gt;&gt;<i> nedosáhneme na zaokrouhlení 1 -3 - 5  apod.-.-..... To s Vámi
</I>&gt;&gt;&gt;&gt;<i> nepolemizuji, jen pøemý¹lím nahlas.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;<i> geon
</I>&gt;&gt;&gt;&gt;<i> Pavel Kosina
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Stepan Wagner napsal(a), dne 1.2.2009 16:28:
</I>&gt;&gt;&gt;&gt;&gt;<i> citace ze stranky
</I>&gt;&gt;<i> <A HREF="http://en.wikipedia.org/wiki/Rounding#Round-to-even_method">http://en.wikipedia.org/wiki/Rounding#Round-to-even_method</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> &quot;&quot;&quot;When dealing with large sets of scientific or statistical data,
</I>&gt;&gt;&gt;&gt;&gt;<i> where trends are important, traditional rounding on average biases the
</I>&gt;&gt;&gt;&gt;&gt;<i> data upwards slightly. Over a large set of data, or when many
</I>&gt;&gt;&gt;&gt;&gt;<i> subsequent rounding operations are performed as in digital signal
</I>&gt;&gt;&gt;&gt;&gt;<i> processing, the round-to-even rule tends to reduce the total rounding
</I>&gt;&gt;&gt;&gt;&gt;<i> error, with (on average) an equal portion of numbers rounding up as
</I>&gt;&gt;&gt;&gt;&gt;<i> rounding down. This generally reduces upwards skewing of the
</I>&gt;&gt;&gt;&gt;&gt;<i> result.&quot;&quot;&quot;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Stepan
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> 2009/2/1 Pavel Kosina &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">geon na post.cz</A>&gt;:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Nevíte nìkdo, *proè* v Python 3.0 platí:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> round(0.5)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 0
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> round (1.5)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 2
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> round (2.5)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 2
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> round (3.5)
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> 4
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Jo, máme to napsané v manuálu, ¾e to takhle je
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://docs.python.org/3.0/library/functions.html#round,">http://docs.python.org/3.0/library/functions.html#round,</A> ale mì zajímá
</I>&gt;&gt;<i> proè
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> to je takto, a ne podle toho, jak se to uèí v 5. tøídì, tedy ¾e od
</I>&gt;&gt;<i> pìtky
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> vèetnì nahoru se zaokrouhluje nahoru v¾dy, a ne jen nìkdy .....
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Díky
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> geon
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Pavel Kosina
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Python mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Python mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 

____________________________
Ing. Jan Janech
Katedra softverovych technologii
Fakulta riadenia a informatiky
Zilinska Univerzita
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-February/008625.html">[python] round v python 3.0
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2009-February/008627.html">[python] round v python 3.0
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2009-February/date.html#8626">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/thread.html#8626">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/subject.html#8626">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2009-February/author.html#8626">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2009-February/008626.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:19:52 GMT -->
</html>
