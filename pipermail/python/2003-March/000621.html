<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2003-March/000621.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:29:37 GMT -->
<HEAD>
   <TITLE> [python] Re: zamykani (Bylo: Oficialni oznameni)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Re%3A%20zamykani%20%28Bylo%3A%20Oficialni%20oznameni%29&In-Reply-To=3E75B080.8080005%40nextra.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2003-March/000618.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2003-March/000623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Re: zamykani (Bylo: Oficialni oznameni)</H1>
    <B>Martin Kavalec</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20Re%3A%20zamykani%20%28Bylo%3A%20Oficialni%20oznameni%29&In-Reply-To=3E75B080.8080005%40nextra.cz"
       TITLE="[python] Re: zamykani (Bylo: Oficialni oznameni)">kavalec na vse.cz
       </A><BR>
    <I>Pondìlí Bøezen 17 19:03:23 CET 2003</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-March/000618.html">[python] Oficialni oznameni
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-March/000623.html">[python] Re: zamykani (Bylo: Oficialni oznameni)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2003-March/date.html#621">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/thread.html#621">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/subject.html#621">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/author.html#621">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Zdenek Pavlas wrote:
 &gt; Jan Svec wrote:
 &gt;
 &gt;&gt; A co Java? Moc ji neznam, jen vim ze threading je tam
 &gt;&gt; implementovany. Je to obdoba C?
 &gt;
 &gt;
 &gt; R(ekl bych z(e kombinace obou pr(ístupu*. Zamykání je hlavne
 &gt; (explicitní,
 &gt; na úrovni objektu*. Kaz(dá instance má skrytý mutex a programátor musí
 &gt; kaz(dou metodu která mu*z(e být souc(asne( volána více vlánky oznac(it
 &gt; keywordem 'synchronized', ona pak objekt lock/unlockuje. Ty zámky
 &gt; jsou docela chytrý, nevadí jim násobné locknutí stejným threadem
 &gt; a korektne( se uvoln(ují pr(i unwindování stacku po výjimkách.

Spis nez skryty mutex bych ocekaval, ze se mutex vytvari, jen kdyz je 
nejaka metoda deklarovana jako synchronized. (resp. pro kazdy objekt a 
kazdou jeho synchronized metodu se vytvari mutex). Ale specifikaci jsem 
necetl, ruku do ohne za to nedam.

Krom toho jde taky synchronizovat pristup k objektu jen v casti kodu 
syntaktickou konstrukci:

synchronized (obj) {
    obj.spam()
    obj.frobnicate()
}

 &gt; Krom toho Java taky garantuje atomické operace nad základními
 &gt; datovými typy které umí. Protoz(e je to docela low level jazyk
 &gt; kde se skoro vs(echno vejde do int registru CPU tak to ve(ts(inou
 &gt; jde bez globálního zamykání.

Ale neni to vzdy automaticky, viz napr. dokumentace java.util.HashMap 
(obdoba dictionary v pythonu) -- pokud potrebujete synchronizovat 
pristup, musite si o to rict:

HashMap m = Collections.synchronizedMap(new HashMap());

K odstraneni globalniho zamku by tedy bylo nutne pridat programatorovi 
moznost rict si o synchronizaci (volanim nejake funkce, ktera by objektu 
  priradila zamek), nebo nejakou syntaktickou konstrukci (viz 
synchornized vyse; myslim ze je to opravdu uzitecna konstrukce, bohuzel 
zasahy do syntaxe by vyzadovaly nove klicove slovo...)

zdravi
martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-March/000618.html">[python] Oficialni oznameni
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2003-March/000623.html">[python] Re: zamykani (Bylo: Oficialni oznameni)
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2003-March/date.html#621">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/thread.html#621">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/subject.html#621">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2003-March/author.html#621">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2003-March/000621.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:29:37 GMT -->
</html>
