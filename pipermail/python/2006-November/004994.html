<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2006-November/004994.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:24:19 GMT -->
<HEAD>
   <TITLE> [python] Statické metody v Pythonu
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FStatick%3DE9_metody_v_Pythonu%3F%3D&In-Reply-To=E8AE1CAFC84D634A9CCC887B8AAB15EC0EA223%40skil01.skil.mistni">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2006-November/004993.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2006-November/004996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Statické metody v Pythonu</H1>
    <B>superman</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FStatick%3DE9_metody_v_Pythonu%3F%3D&In-Reply-To=E8AE1CAFC84D634A9CCC887B8AAB15EC0EA223%40skil01.skil.mistni"
       TITLE="[python] Statické metody v Pythonu">feed na centrum.cz
       </A><BR>
    <I>Ètvrtek Listopad  9 12:44:24 CET 2006</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-November/004993.html">[python] Statické metody v Pythonu
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-November/004996.html">[python] Buducnost Pythonu: lambda, map, filter
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2006-November/date.html#4994">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/thread.html#4994">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/subject.html#4994">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/author.html#4994">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Je to vìc návrhu. Z logického hlediska unicode_string je
</I>&gt;<i> øetìzec a ansi_8bit_string je taky øetìzec. Bylo to jasné
</I>&gt;<i> u¾ v okam¾iku, kdy se ten operátor zavádìl. Taky bylo jasné,
</I>&gt;<i> ¾e øetìzce se budou pou¾ívat intenzivnì. Ale taky platí,
</I>&gt;<i> ¾e ¾ádný dal¹í typ se takto k øetìzci pøidat nedá! Nemù¾u
</I>&gt;<i> tedy udìlat
</I>&gt;<i>              unicode_string + 123
</I>&gt;<i> 
</I>&gt;<i> I kdy¾ nadefinovat pøíslu¹ný operátor by bylo mo¾né 
</I>&gt;<i> a relativnì snadné. Jen¾e za chvíli bych si mohl vymyslet,
</I>&gt;<i> ¾e chci k øetìzci pøidávat kde co. Pro objekty to jde
</I>&gt;<i> vlastnì podobnì, jako kdyby se v C++ implicitnì pou¾il
</I>&gt;<i> døíve zmínìný konstruktor (tentokrát øetìzce), který by
</I>&gt;<i> definoval konstruktor pro daný argument. Ale jde to jen
</I>&gt;<i> pro objekty tøídy, které definují metodu __str__(). 
</I>&gt;<i> To je ale pøístup z druhé strany. Jde to vlastnì tehdy,
</I>&gt;<i> kdy¾ objekt EXPLICITNÌ definuje konverzi na øetìzec. 
</I>&gt;<i> Metoda __str__ je svým zpùsobem výjimeèná -- cokoliv
</I>&gt;<i> èasto potøebujeme pøevádìt na øetìzec.
</I>
Ono je to také diskutabilní, co má být výsledkem operace

unicode_string + 123

Má se to seèíst jako øetìzce, nebo jako èísla?

Ale pøiznávám, je mi Python sympatický tím, ¾e to za mì neøe¹í. Tak¾e 
Vám dávám za pravdu.

&gt;<i> A to je podle mého názoru i odpovìï na to, proè by se 
</I>&gt;<i> nìmìlo dìlat nìco jako 
</I>&gt;<i> 
</I>&gt;<i>      uhel + &quot;30N54&quot;
</I>&gt;<i> 
</I>&gt;<i> Øetìzce mají pøece jen výsadní postavení. Pøi jejich 
</I>&gt;<i> vytváøení se dokonce pou¾ívá speciální syntaktická 
</I>&gt;<i> konstrukce. Ale stejnì mohou nastávat problémy, proto¾e
</I>&gt;<i> k ne-unicode øetìzci musí nìkde existovat dodateèná 
</I>&gt;<i> informace, jaké kódování je pou¾ito.
</I>
Pøesvìdèil jste mì. Asi je pravdou, ¾e konverze èehokoli na øetìzec je 
velmi pøirozená operace. Tak¾e je to takový výjimka z pravidla. 
Automatické konverze øetìzce na nìco asi mù¾e vést k mnoha neèekaným 
chováním. Tak¾e nejspí¹e ¹krtnu v¹echny automatické konverze stringu na 
úhel kromì konstruktoru a metody assign.

Teï je¹tì budu øe¹it, jestli povolit automatické konverze floatu na 
úhel. float by mìl význam velikosti v radiánech. Tak¾e zatím s mojí 
tøídou jde:

uhel = uhel - float v radianech

akorát uz v tom zaèínám mít nepoøádek, proto¾e tøeba:

===

uhel / float mi dává jako výsledek uhel
(tedy float tady má význam normálního èísla, kterým se úhel dìlí)

uhel / uhel mi dává jako výsledek float
(dva úhly jako výsledek dávají jen èíslo, tedy pomìr dvou úhlù)

float / uhel mi vyhazuje výjimku jako neplatnou operaci

===

ale tøeba jiná operace:

===

uhel + uhel = uhel
(souèet úhlù)

uhel + float = uhel
(float se pøevede na radiany a zase je to souèet úhlù)

===

Tak¾e se mo¾ná dohrabu i k tomu, ¾e float bude nutné explicitnì 
pøetypovat na úhel a bude tam tedy vznikat zbyteèná instance a bude 
alespoò jasno. Je¹tì zatím váhám. Tak¾e nakonec asi budete mít pravdu a 
udìlám to tak jak jste mi doporuèoval hned na zaèátku.

&gt;&gt;<i>Pod to se podepisuji.
</I>&gt;<i> To nemù¾e¹. Pod tím u¾ je podepsaný Tim Peters ;)
</I>
A sakra :-) Zase ty patenty a autorská práva :-) Asi se budu muset stát 
rebelem a prosazovat pravý opak, jinak narazím :-)

&gt;<i> Je v tom skrytý urèitý odpor k OOP (pøíli¹ný
</I>&gt;<i> konzervatismus -- neber to jako výtku). Pokud 
</I>&gt;<i> vyjádøení &quot;zbyteèný vznik instance&quot; nahradím
</I>&gt;<i> vyjádøením &quot;zbyteèný vznik promìnné&quot;, pak to vypadá
</I>&gt;<i> divnì. Pøitom vznik instance tøídy nemusí být
</I>&gt;<i> v daném jazyce o moc nároènìj¹í, ne¾ vznik 
</I>&gt;<i> promìnné (ve smyslu jak to chápou kompilované
</I>&gt;<i> jazyky). Kdy¾ pou¾iji float, v Pythonu taky 
</I>&gt;<i> vzniká instance nìjakého objektu.
</I>
Pravdu urèitì máte. Urèitý odpor, já bych to nazval mo¾ná diplomaticky 
skepticismus vùèi OOP mám a to pøesto, ¾e mì ani nenapadlo bez OOP 
cokoli za poslední léta programovat. Ptám se jak mi OOP mù¾e pomoci 
realizovat mùj cíl.

Faktem asi je, ¾e kdy¾ Python tvoøí float, asi je to pro nìj podstatnì 
nároènìj¹í, ne¾ float v C++, Javì, Pascalu, nebo jiném staticky 
typovaném jazyce. Proto¾e si pøedstavuji (a mo¾ná to není pravda), ¾e 
stejnì Python vnitønì vytvoøí nìjaký objekt, poznamená si do nìj typ 
(tedy float), poznamená si do nìj poèet odkazù (nìco jako garbage 
collector), mo¾ná je tam i nìjaká tabulka metod a nakonec ta vlastní 
hodnota floatu je to naprosté minimum. Naproti tomu vytvoøení instance 
bude v Pythonu plus mínus to samé. Jediné co si myslím je, ¾e prostì 
stejnì instance objektu Angle v sobì nese navíc ve¹keré re¾ie floatu a 
ve¹kerých datových èlenù.

Ono nejspí¹ pøíli¹ optimalizovat je cesta do pekel. Nejvìt¹í náklady a 
ztráty vznikly zatím ¹etøením pamìti. Problém Y2K stál obrovský balík 
penìz. A co problémù má Unicode, proto¾e chtìli ¹etøit a pøipustili, ¾e 
Unicode bude mít 16 bitové znaky namísto 32 bitových. Dnes u¾ jsme 
stejnì v Unicode pøekroèili prostor 16 bitù, ale bordel nám zùstal.


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-November/004993.html">[python] Statické metody v Pythonu
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2006-November/004996.html">[python] Buducnost Pythonu: lambda, map, filter
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2006-November/date.html#4994">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/thread.html#4994">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/subject.html#4994">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2006-November/author.html#4994">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2006-November/004994.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:24:19 GMT -->
</html>
