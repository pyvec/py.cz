<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2004-March/001627.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:28:45 GMT -->
<HEAD>
   <TITLE> [python] komunikace pomocí pipes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20komunikace%20%3D%3Fiso-8859-2%3Fq%3Fpomoc%3DED%3F%3D%20pipes&In-Reply-To=4056146D.000001.24571%40db1.email.atc">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2004-March/001620.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2004-March/001621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] komunikace pomocí pipes</H1>
    <B>Jaroslav Pachola</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20komunikace%20%3D%3Fiso-8859-2%3Fq%3Fpomoc%3DED%3F%3D%20pipes&In-Reply-To=4056146D.000001.24571%40db1.email.atc"
       TITLE="[python] komunikace pomocí pipes">j_p_misc na centrum.cz
       </A><BR>
    <I>Úterý Bøezen 23 02:14:42 CET 2004</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-March/001620.html">[python] komunikace pomocí pipes
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-March/001621.html">[python] ping v pythonu
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2004-March/date.html#1627">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/thread.html#1627">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/subject.html#1627">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/author.html#1627">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zdravim,

par ospalych nocnich myslenek:

1. read() cte cely soubor najednou, takze nejjednodussi zpusob je volat v
cyklu read(1) a pak write() toho jednobajtoveho retezce.

2. Ten oggenc je mozne otevrit pomoci popen3 - tim ziskame jeho stderr, ktery
je mozne periodicky kontrolovat pomoci funkci typu poll() a select().

JP

&gt;<i> Zdravím,
</I>&gt;<i> mám následující problém:
</I>&gt;<i> programuju nástroj pro ripování cédéèek (frontend k cdda2wav a oggenc)
</I>&gt;<i> potøebuju, aby se ripovalo i kódovalo zároveò pøes rouru:
</I>&gt;<i>
</I>&gt;<i> def feed():
</I>&gt;<i>   (stdin, stdout) = os.popen2('cdda2wav -t10 -D /dev/cdrom - 2&gt;/dev/null',
</I>&gt;<i> 'r') return stdout
</I>&gt;<i>
</I>&gt;<i> def eat(stream):
</I>&gt;<i>   stdin = os.popen(&quot;oggenc - &gt;track01.ogg&quot;, 'w')
</I>&gt;<i>   stdin.write(stream.read())
</I>&gt;<i>
</I>&gt;<i> data = feed()
</I>&gt;<i> eat(data)
</I>&gt;<i>
</I>&gt;<i> To ale nefunguje, oggenc èeká a¾ cdda2wav skonèí, pak se teprve &quot;zapne&quot;.
</I>&gt;<i> Zároveò budu muset parsovat výstup oggenc (stderr) kvùli indikaci stavu.
</I>&gt;<i> Vùbec nemám pøedstavu jak to udìlat, kdy¾ musím otevøít stdin pro zápis
</I>&gt;<i> a stderr pro ètení.
</I>&gt;<i> Díky za ka¾dou pomoc.
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-March/001620.html">[python] komunikace pomocí pipes
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-March/001621.html">[python] ping v pythonu
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2004-March/date.html#1627">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/thread.html#1627">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/subject.html#1627">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-March/author.html#1627">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2004-March/001627.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:28:45 GMT -->
</html>
