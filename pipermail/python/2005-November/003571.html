<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2005-November/003571.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:26:16 GMT -->
<HEAD>
   <TITLE> [python] unicode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20unicode&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2005-November/003572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] unicode</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20unicode&In-Reply-To="
       TITLE="[python] unicode">PrikrylP na skil.cz
       </A><BR>
    <I>Úterý Listopad  1 10:19:12 CET 2005</I>
    <P><UL>
        
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-November/003572.html">[python] Python XML Editor/designer
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2005-November/date.html#3571">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/thread.html#3571">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/subject.html#3571">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/author.html#3571">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ViNiL napsal
&gt;<i> [...]Je to otazka jednoho kazdeho autora, kolik je do sveho dila
</I>&gt;<i> ochoten/schopen investovat prace &quot;navic&quot; a neomezovat okruh
</I>&gt;<i> (potencialnich) uzivatelu.
</I>&gt;<i> 
</I>&gt;<i> &gt; Implementaèní problém s &quot;èín¹tinou&quot; nastane tedy jen v pøípadì,
</I>&gt;<i> &gt; kdy fyzicky spoléháme na to, ¾e jeden znak zabírá v souboru
</I>&gt;<i> &gt; pøesnì dva bajty. Bude to problém chybného pøedpokladu o poètu
</I>&gt;<i> &gt; bajtù na znak v souboru, nikoliv problém samotného kódování
</I>&gt;<i> &gt; Unicode.
</I>&gt;<i> 
</I>&gt;<i> Coz je u dotazu na zaruceni pevne sirky znaku vada dosti podstatna.
</I>&gt;<i> Taky bych opatrneji zachazel s terminem &quot;kodovani Unicode.&quot;
</I>&gt;<i> Uf, tak si nejsem jist, jestli to melo byt zaverecne shrnuti nebo
</I>&gt;<i> zmateni ;-)))
</I>
Omlouvám se, jestli moje døívìj¹í poznámka byla málo
srozumitelná. Jako autor programu nemù¾u ovlivnit,
jaký si u¾ivatel nainstaluje Python. Mù¾u to jen 
otestovat a pøípadnì varovat.

Pokud potøebuju pevnou ¹íøku na znak, musím
pou¾ít UTF-32. Nejsem si vìdom, ¾e bych nìjak
mátl pojmy kolem &quot;kódování Unicode&quot;. Myslel jsem
tím skuteènì pøiøazení èísla znaku v abstraktním
smyslu, které je v¾dy jednoznaèné. Pøi ukládání
do souboru jsem pou¾il &quot;zpùsob kódování Unicode&quot;,
co¾ byl mo¾ná neobratný pøeklad anglického
&quot;encoding form&quot;.

Souhlasím s tím, ¾e aplikaci by mìla být vìnována
nále¾itá péèe, aby nebyla omezující. Odhaduji ale,
¾e vìt¹ina u¾ivatelù software vytvoøeného zde 
nebude sedìt na ¾idli v teoretické zemi, kde
se pou¾ívají znaky s kódem vìt¹ím, ne¾ 64k. 
Pro vìt¹inu u¾ivatelù mù¾e být naopak vynucené 
pou¾ití UTF-32 chápáno jako omezující, proto¾e 
UTF-8 i UTF-16 poskytují z abstraktního hlediska 
naprosto stejnou funkènost a UTF-8 je navíc 
kompatibilní s ASCII.

Je¹tì jednou chci zdùraznit, ¾e samotné pou¾ití
&quot;formy kódování Unicode&quot; UTF-16 není nijak omezující
(narozdíl od ASCII vs. 8bitové kódování). Omezení
do toho v¹eho -- co mù¾e ovlivnit programátor -- vná¹í
zase jen programátor.

Mù¾u se rozhodnout. Buï budu ¹etøit kódem programu,
nebo datovým prostorem. V tomto pøípadì bych se 
pøimlouval za to, aby aplikace nevy¾adovala
konkrétní zpùsob ukládání do souborù. Od programátora
se pak vy¾aduje, aby více pøemý¹lel nad tím, zda 
je opravdu nutné soubory ukládat ve formì UTF-32.
Otázkou taky zùstává, do jaké míry mi skuteènost,
¾e jeden znak je ulo¾en v¾dy na pevný poèet bajtù,
vlastnì mù¾e pomoci.

Pùvodní dotaz Martina Bla¾íka se netýkal zaruèení 
pevného poètu bajtù na znak v souboru. Teprve v druhém
dotazu upøesnil, ¾e potøebuje dva bajty na znak.
V tøetím dotazu upøesòuje, ¾e se jedná o malá data.
V tom pøípadì bych dal pøednost naètení souboru
do pamìti a jednoduché práci pøes unicode øetìzce.

Dal¹í zmatek mù¾e vyplývat z mírné odli¹nosti
UTF-16 a Martinem zmiòovaného kódování UCS-2. 
UCS-2 je ménì obecný, proto¾e neumo¾òuje vùbec 
ulo¾it znaky s kódem vìt¹ím, ne¾ 64k. Znak 
v UCS-2 tedy v¾dy zabírá 2 bajty.

V tomto smyslu pokládám pou¾ití UTF-16 za mocnìj¹í,
perspektivnìj¹í, i kdy¾ mírnì komplikovanìj¹í. 
UTF-32 a UCS-4 se nyní pokládají za prakticky 
identické, ale velmi zøídka pou¾ívané. Na druhou 
stranu UTF-16 se pokládá za pøirozenou interní 
reprezentaci textu v rùzných operaèních systémech 
a programátorských prostøedcích.

A taky bych se nejdøíve zajímal o to, jaké lidské
jazyky vùbec potøebují znaky mimo BMP (tj. kód na více,
ne¾ dva bajty). Tu &quot;èín¹tinu&quot; jsem minule støelil
jen od boku. Tipnul bych si, ¾e pro ni BMP staèí 
A taky bych se zajímal, jestli si vùbec mù¾u 
dovolit spoléhat na to, ¾e jedno písmeno na papíøe
znamená jeden unicode znak (zda není nutné slepovat
více èástí písmene z nìkolika unicode znakù). 
Tím pádem nemusí být poskakování v souboru pomocí
seek na n-tý znak od zaèátku principiálnì vùbec 
pou¾itelné.

&gt;<i> A vetsine lidi staci heterosexualni manzelstvi.
</I>
Z mého pohledu si mù¾e¹ zalo¾it klidnì bisexuální
man¾elství. Já s tím problém mít nebudu. ;)

pepr

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2005-November/003572.html">[python] Python XML Editor/designer
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2005-November/date.html#3571">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/thread.html#3571">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/subject.html#3571">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2005-November/author.html#3571">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2005-November/003571.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:26:16 GMT -->
</html>
