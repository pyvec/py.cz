<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2012-February/010580.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:17:39 GMT -->
<HEAD>
   <TITLE> [python] socket + udp + vytváøení paketù
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%0A%20%3D%3Futf-8%3Fb%3Fc29ja2V0ICsgdWRwICsgdnl0dsOhxZllbsOtIHBha2V0%3F%3D%0A%20%3D%3Futf-8%3Fb%3Fxa8%3D%3F%3D&In-Reply-To=%3C1329867038.3239.16.camel%40uruloki%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2012-February/010579.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2012-February/010582.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] socket + udp + vytváøení paketù</H1>
    <B>David Rohleder</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%0A%20%3D%3Futf-8%3Fb%3Fc29ja2V0ICsgdWRwICsgdnl0dsOhxZllbsOtIHBha2V0%3F%3D%0A%20%3D%3Futf-8%3Fb%3Fxa8%3D%3F%3D&In-Reply-To=%3C1329867038.3239.16.camel%40uruloki%3E"
       TITLE="[python] socket + udp + vytváøení paketù">davro na ics.muni.cz
       </A><BR>
    <I>Støeda Únor 22 00:30:38 CET 2012</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2012-February/010579.html">[python] socket + udp + vytváøení paketù
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2012-February/010582.html">[python] socket + udp + vytváøení paketù
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2012-February/date.html#10580">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/thread.html#10580">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/subject.html#10580">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/author.html#10580">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jakub Vojáèek pí¹e v Út 21. 02. 2012 v 23:56 +0100:
&gt;<i> Dne 21.2.2012 23:34, David Rohleder napsal(a):
</I>&gt;<i> &gt; azu je dle specifikace 01h, co¾ do 1byte myslím nenarvu. 
</I>&gt;<i> &gt; ^^^^ chybu má¹ tady. 01h do 1byte narve¹. Kdy¾ jsem to upravil na
</I>&gt;<i> &gt; data = struct.pack(&quot;!IHHBB&quot;, 0, 0, 0, 1, 1)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; tak mi ten baryk bez problémù odpovìdìl.
</I>&gt;<i> Dìkuji. Podle specifikace modulu struct B odpovídá unsigned char.
</I>&gt;<i> Tak¾e pokud budu chtít posílat serveru inicializaèní zprávu, tak po¹lu
</I>&gt;<i> B, pokud mu pozdìji budu chtít poslat nìjaká data, tak to musím narvat
</I>&gt;<i> do stringu (tak¾e do s), chápu to správnì?
</I>
Ne. Proto¾e &quot;1&quot; je ASCII hodnota 49. Samozøejmì by to ¹lo, pokud bys
dokázal do øetìzce dát ta binární data. Tj. tøeba jako data = data +
chr(1)

Problém je spí¹ v tom struct, proto¾e nepøijímá parametr typu pole,
tak¾e nejde napsat data = struct.pack(&quot;B&quot;*10 , [ 1, 1, 1, 10...] )

V tomto pøípadì bych pou¾il modul array následovnì:

import array

data = array('B' , [ seznam s hodnotami ] )

s.sendto(data.tostring(), (host,port))
 

&gt;<i> 
</I>&gt;<i> A nyní se asi objevil problém, o kterém mluvil pan Vejra¾ka:
</I>&gt;<i> &gt; Ale ja jsem u toho b) nepsal o tom, ze by bylo neco spatne s tvym formatem UDP paketu nebo jeho obsahem. Troufnul bych se tvrdit, ze mas obycejny sitovy problem - tvuj domaci router blokuje &quot;nezname&quot; prichozi UDP pakety.
</I>&gt;<i> Proto¾e pokud kód opravím, tak, jak mi bylo doporuèeno, tak stále
</I>&gt;<i> nedostávam od serveru ¾ádnou odezvu. Dalo by se nìjak nastavit v
</I>&gt;<i> nastavení routeru, aby pou¹tel UDP pakety? nìjaký forwarding nebo nìco
</I>&gt;<i> takového.
</I>
Ten problém mù¾e být:

a) ve firewallu na routeru
b) v neschopnosti routeru vytvoøit connection tracking tabulku, aby
vìdìl, kam poslat odpovìï od serveru (ménì pravdìpodobné)
&gt;<i> 
</I>Nejjednodu¹¹í to bude patrnì pustit na nìjakém ¹kolním poèítaèi, proto¾e
tam nebude NAT ani firewall.

D.



</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2012-February/010579.html">[python] socket + udp + vytváøení paketù
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2012-February/010582.html">[python] socket + udp + vytváøení paketù
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2012-February/date.html#10580">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/thread.html#10580">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/subject.html#10580">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2012-February/author.html#10580">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2012-February/010580.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:17:39 GMT -->
</html>
