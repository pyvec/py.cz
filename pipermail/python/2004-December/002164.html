<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2004-December/002164.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:28:05 GMT -->
<HEAD>
   <TITLE> RE: [python] globální promìnné
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%3D%3Fiso-8859-2%3FQ%3FRE%3D3A_%3D5Bpython%3D5D_glob%3DE1ln%3DED_prom%3DECnn%3DE9%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2004-December/002163.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2004-December/002165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>RE: [python] globální promìnné</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:python%40py.cz?Subject=%3D%3Fiso-8859-2%3FQ%3FRE%3D3A_%3D5Bpython%3D5D_glob%3DE1ln%3DED_prom%3DECnn%3DE9%3F%3D&In-Reply-To="
       TITLE="RE: [python] globální promìnné">Prikryl na skil.cz
       </A><BR>
    <I>Pondìlí Prosinec 20 10:18:33 CET 2004</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-December/002163.html">[python] globální promìnné
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-December/002165.html">[python] volba editoru/IDE pro Python
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2004-December/date.html#2164">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/thread.html#2164">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/subject.html#2164">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/author.html#2164">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>p.kosina napsal...
&gt;<i> Pøipadá mi to nespravedlivé :-), ¾e u OO se globální
</I>&gt;<i> promìnné vytváøí naprosto transparentnì self.x=10 v
</I>&gt;<i> kterékoliv metodì a platnost (vèetnì zmìn) je napøíè celou
</I>&gt;<i> tøídou a je¹tì je to vydáváno za velké plus.
</I>
V tomto pøípadì nejde ani o globální promìnnou, ani o
promìnnou platnou v kterékoliv metodì tøídy. Vytváøí se v
rámci objektu a je platná pouze v rámci objektu (instanci
tøídy). Na self.x není nic globálního ani magického. Mù¾u si
to do èe¹tiny pøelo¾it jako &quot;moje vlastní x&quot;, kdy &quot;moje
vlastní&quot; uva¾ujeme z pohledu objektu samotného.

&gt;<i> Naproti tomu u nás, u procedurákù, u nás je global, které se
</I>&gt;<i> v¹ak musí objevovat jednak v ka¾dé funkci zvlá¹», co¾ je
</I>&gt;<i> velmi netransparentní a je¹tì je to zavr¾eníhodné. Dá se to
</I>&gt;<i> samozøejmì obcházet, ale transparentnost je v¾dy pøednost.
</I>&gt;<i> Funkce se dají samozøejmì volat s parametry a také vracet
</I>&gt;<i> výsledky, ale pokud je argumentù více, program se stává
</I>&gt;<i> zbyteènì nepøehledným.
</I>
Pokud bych chtìl, aby v¹echny promìnné byly globální, dostal
bych se do poèítaèového pravìku. Programy pouze s globálními
promìnnými by byly pøi souèasném rozsahu kódu neèitelné a
neudr¾ovatelné. Proto se ve funkcích v¾dy vytváøí nové
lokální promìnné. U jazykù, kde se promìnná musí povinnì
deklarovat (napøíklad Pascal) nìco takového jako klíèové
slovo &quot;global&quot; nepotøebuji -- lokální promìnná stejného
jména má v¾dy pøednost. Pokud není definována, bere se
automaticky promìnná &quot;globálnìj¹í&quot;.

Pou¾ívání globálních promìnných u slo¾itìj¹ích programù vede
k vytváøení závislostí, kdy jeden úsek kódu mù¾e neèekaným
zpùsobem ovlivnit jinak naprosto nesouvisející jiný úsek
kódu.

Souhlasím s tím, ¾e ¹patný objektový návrh mù¾e být
nepøehlednìj¹í, ne¾ dobrý procedurální návrh. Ale dobrý
objektový návrh bude v¾dy udr¾ovatelnìj¹í a pøehlednìj¹í,
ne¾ procedurální návrh. Jedinou nevýhodou mù¾e být vytváøení
více oddìlených èástí s kódem a daty (objektù), které se
propojují vzájemnými odkazy (tj. zvý¹ení stupnì nepøímosti
odkazù). Na druhou stranu právì tento rys vynucuje èist¹í
rozhraní, sni¾uje vzájemné závislosti a usnadòuje budoucí
údr¾bu. I kdy¾, v¹echno se dá sprasit ;-)

&gt;<i> Chci uvést jednu z transparentnìj¹í metod (mo¾ná jsem
</I>&gt;<i> objevil objevené, ale já jsem dosud pou¾íval seznamy nebo to
</I>&gt;<i> hrozné global):
</I>&gt;<i> 
</I>&gt;<i> class globalniTrida:
</I>&gt;<i>    pass
</I>&gt;<i> 
</I>&gt;<i> def r():
</I>&gt;<i>    Global.delka=10
</I>&gt;<i> 
</I>&gt;<i> Global=globalniTrida()
</I>&gt;<i> r()
</I>&gt;<i> Global.delka=Global.delka+20
</I>&gt;<i> print Global.delka
</I>&gt;<i>  &gt;&gt;&gt; 30
</I>
Následující pøíklad je významovì naprosto shodný:

globalni_promenna = 10
globalni_promenna = globalni_promenna + 20
print globalni_promenna

Vý¹e uvedenou tøídou globalniTrida a vytvoøením její
instance Global se pouze zavede nìco jako prostor jmen.
Pokud si zavedu svùj modul -- soubor Global.py takto...

Global.py
------------------------------------------------------
delka = 10
------------------------------------------------------

... pak mù¾u ve svém programu psát:

import Global

Global.delka = Global.delka + 20
print Global.delka

Definice a pou¾ití funkce r() a pou¾ití tøídy do toho nic
nového nevná¹í. Je to jen krkolomì zapsané vytvoøení
inicializace promìnné uvnitø existujícího objektu.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-December/002163.html">[python] globální promìnné
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2004-December/002165.html">[python] volba editoru/IDE pro Python
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2004-December/date.html#2164">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/thread.html#2164">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/subject.html#2164">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2004-December/author.html#2164">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2004-December/002164.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:28:05 GMT -->
</html>
