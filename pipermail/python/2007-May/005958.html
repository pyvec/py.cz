<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2007-May/005958.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:23:05 GMT -->
<HEAD>
   <TITLE> [python] Vykreslování grafù
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FVykreslov%3DE1n%3DED_graf%3DF9%3F%3D&In-Reply-To=mailman.216.1180017947.4700.python%40py.cz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2007-May/005955.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2007-May/005959.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Vykreslování grafù</H1>
    <B>Karel ©rot</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FVykreslov%3DE1n%3DED_graf%3DF9%3F%3D&In-Reply-To=mailman.216.1180017947.4700.python%40py.cz"
       TITLE="[python] Vykreslování grafù">karel.do.pekla.zajel na seznam.cz
       </A><BR>
    <I>Pátek Kvìten 25 08:55:27 CEST 2007</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2007-May/005955.html">[python] Vykreslování grafù
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2007-May/005959.html">[python] Vykreslování grafù
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2007-May/date.html#5958">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/thread.html#5958">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/subject.html#5958">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/author.html#5958">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zdravim,

pocitat funkcni hodnoty a pak je spojit (lomenou) carou je naprosto 
bezny zpusob. Treba Maple (progrma pro symbolicke vypocty) pocita 
defaultne jen sto referencnich bodu. Pokud je v nejakem bode hodnota 
nedefinovana (deleni nulou), Maple ji ignoruje (tedy bodu je pak min a 
cara lomenejsi). Pomoci parametru lze specifikovat, zda se maji hledat 
body nespojitosti. V tom pripade se pomoci &quot;sofistikovanych&quot; algoritmu 
tyto body hledaji. Vcelku jednoduchou metodu Jan Jakubuv, ikdyz trochu 
nepresne. To, ze je funkce nespojita jeste neznamena, ze ma limitu v 
tomto bode rovnu nekonecnu.

Ja osobne bych tu moznost hledani bodu nespojitosti pouzil, tedy pokud 
by uzivatel nic nezaskrtl, tak by se nehledaly a kresleni by bylo 
rychlejsi.
V opacnem pripade bych se smiril s pomalosti a pouzil bych pro hledani 
bodu nespojitosti toto:
Nejdrive si rozdelim cely interval na nekolik mensich, treba pomoci 200 
(ci vice) referencnich bodu. Budu mit treba seznam [[0,1], [1,2], [2,3],...]

Neni-li funkce v nejakem bode X definovana, je to bod nespojitosti. Do 
seznamu ulozim hodnoty dva intervaly, pricemz pravy krajni bod prvniho 
je X-E, a levy krajni bod druheho X+E, kde E je dostatecne mala hodnota, 
ktera na grafu odpovida treba mene nez jednomu pixelu v grafu (to aby to 
nebylo poznat).

Prochazim jednotlive intervaly a urcim tangens lomene cary, tedy 
(f(a)-f(b))/(b-a). Pokud by byl tangens v absolutni hodnote vetsi nez 
nejaka krajova zvolena hodnota (pro zacatek treba 5), bude interval 
podezrely. Ulozim interval do seznamu podezrelych intervalu. Az mam 
hotovo, prochazim kazdy podezrely interval.
Rozdelim jej tedy napul a misto nej puvodniho mam ted dva intervaly. 
Pocitam totez pro oba a ten, ktery je stale podezrely (hodnota tangens 
bude v abs. hodnote jeste vetsi, nez byla predtim), budu zkoumat dal. 
Ten, co uz podezrely neni, tak dam ze seznamu podezrelych pryc. Kdyz by 
nahodou v polovine intervalu nebyla funkce spojita, pouziji to rozdeleni 
na dva intervaly s tim S-E, S+E a ani jeden z intervalu neberu za 
podezrely, protoze bod nespojitosti je mezi (tedy dam tyto intervaly 
mezi nepodezrele a koncim). Podezrele intervaly muzu okrajovat znova a 
znova, dokud hodnota tangens neprekroci nejakou danou mez. Pak 
prohlasim, ze na intervalu je funkce nespojita a tento interval kreslit 
nebudu. Protoze je strasne malej, tak to ani nebude vadit.

Az mi to bude stacit, tak pospojuji vsechny nepodezrele intervaly. Takze 
seznam intervalu setridim, aby lezely za sebou. Pak je projdu odleva a 
kdyz dva sousedni maji spolecny krajni bod, tak je nahradim jednim 
velkym. Takze uplne nakonec budu mit seznam intervalu, kde je funkce 
spojita. V mezerach mezi temito intervaly jsou body nespojitosti, ale 
tyto mezery jsou male. Takze nakonec vykreslim gram funkce na kazdem z 
techto intervalu.

Avsak kresneni nespojitych funkci je vzdy problem. Kdyz je funkce hodne 
divoka (jde rychle do nekonecna), tak se muze stat, ze vam pretece 
rozsah datoveho typu. Ale co se da delat.

Snad to bylo trochu jasne, zkus si to kdyztak projit s tuzkou, papirem a 
grafem. Mnou uvedeny algoritmus bude potrebovat optimalizovat, protoze 
se tam zbytecne moc manipuluje se seznamy a tak. Lze ho navrhnout lip, 
ale ja zvolil tuto formu kvuli srozumitelnosti. Az ho pochopis, tak 
jiste prijdes na to, ze se obejdes bez nadbytecneho vytvareni seznamu 
itervalu.

No snad ti to pomuze, preci jen me to stalo trictvrte hodiny zivota. :-)

Karel


&gt;<i> 2) Nevím jak vy byste vypoèítávali body pro vykreslení grafu, ale já na 
</I>&gt;<i> to mám takovoutu metodu:
</I>&gt;<i>  
</I>&gt;<i> cislo=spodni_hranice
</I>&gt;<i> while cislo &lt; horni_hranice:
</I>&gt;<i>        x=cislo
</I>&gt;<i>        y=eval(funkce.replace('x',cislo))
</I>&gt;<i>        body.append([x,y])
</I>&gt;<i>        cislo=cislo+preciznost
</I>&gt;<i>  
</I>&gt;<i> Ale výpoèet se mi zdá pomìrnì dlouhý a tak se ptám jesetli vás nenapadá 
</I>&gt;<i> nìco efektivnìj¹ího. Dále jakou hodnotu by mìla mít promìnná preciznost 
</I>&gt;<i> (nebo jestli by mìl mít u¾ivatel mo¾nost ji nastavit).
</I>&gt;<i> 3) Nyní program dostává body jako souøadnice x,y a vykresluje jednotlivé 
</I>&gt;<i> pixely. Pochopitelnì je to zpùsob relativnì nepøehledný, proto¾e pak 
</I>&gt;<i> mù¾e být na plátnì jenom nìkolik nic neøíkajicích teèek a proto by je 
</I>&gt;<i> chtìlo nìjak spojit. Napadlo mì spojit ka¾dé dva vedlej¹í body èárou ale 
</I>&gt;<i> pak mi do¹lo ¾e to je nemo¾né, napøíklad kvùli grafu 1/cos(x).  Nevíte 
</I>&gt;<i> jaký zpùsob pou¾ívají jiné programy?
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Dìkuji za pøípadné odpovìdi.
</I>&gt;<i>  
</I>&gt;<i> Jakub Vojáèek.
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2007-May/005955.html">[python] Vykreslování grafù
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2007-May/005959.html">[python] Vykreslování grafù
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2007-May/date.html#5958">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/thread.html#5958">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/subject.html#5958">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2007-May/author.html#5958">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2007-May/005958.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:23:05 GMT -->
</html>
