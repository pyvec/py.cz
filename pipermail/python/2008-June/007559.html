<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2008-June/007559.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:20:41 GMT -->
<HEAD>
   <TITLE> [python] Vytváøení textových souborù, prosím, poraïte
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FVytv%3DE1%3DF8en%3DED_textov%3DFDch_soubor%3DF9%3D2C_%3F%3D%0A%09%3D%3Fiso-8859-2%3Fq%3Fpros%3DEDm%3D2C_pora%3DEFte%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2008-June/007562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Vytváøení textových souborù, prosím, poraïte</H1>
    <B>Jarek Krcmar</B> 
    <A HREF="mailto:python%40py.cz?Subject=%5Bpython%5D%20%3D%3Fiso-8859-2%3Fq%3FVytv%3DE1%3DF8en%3DED_textov%3DFDch_soubor%3DF9%3D2C_%3F%3D%0A%09%3D%3Fiso-8859-2%3Fq%3Fpros%3DEDm%3D2C_pora%3DEFte%3F%3D&In-Reply-To="
       TITLE="[python] Vytváøení textových souborù, prosím, poraïte">krcmar1 na volny.cz
       </A><BR>
    <I>Nedìle Èerven  1 17:29:03 CEST 2008</I>
    <P><UL>
        
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2008-June/007562.html">[python] Vytváøení textových souborù, prosím, poraïte
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2008-June/date.html#7559">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/thread.html#7559">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/subject.html#7559">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/author.html#7559">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Zdravím,

omlouvám se za to, ¾e jsem skopíroval obsah desáté lekce.  Mì, jako¾to 
nevidomého zajímá text a nikoli grafika, proto bych rád vytvoøil textový 
soubor, který by bylo mo¾né èíst pøímo z klávesnice.

Nevím ale, jak to mám udìlat, proto¾e popis zadání se nái zdá ponìkud 
nejasný.

Jakmile jsem si toti¾ vytvoøil textový soubor, který je v té lekci zmínìn, 
tak mi vyskoèí hlá¹ka o tom, ¾e jde o Syntax error.

Jarek

Tak, koneènì se dostáváme k práci se soubory. Uká¾eme si, jak ukládat a 
naèítat data
do a ze souborù.
Telefonní seznam 3.
T
ak, koneènì se dostáváme k práci se soubory. Uká¾eme si, jak ukládat a 
naèítat data
do a ze souborù.
Trocha teorie
Soubory na disku nejsou nic jiného ne¾ skládka èísel a znakù. Témìø v¹echny 
programovací
jazyky defaultnì pracují s obyèejnými textovými soubory bez èe¹tiny. I v
Python
u existují funkce na vytvoøení souboru nebo slo¾ky, pøejmenování, kopie, 
pøesun,
zji¹tìní data a velikosti, apod. O tìch ale nìkdy jindy.
Zaèínáme
Vyzkou¹ejte:
nazev='MujPrvniSoubor.txt'
soubor=file(nazev,'w')
vstup=raw_input('Zadej text: ')
soubor.write(vstup)
soubor.close()
Následnì si v adresáøi, kde máte tento script ulo¾en, najdìte soubor s 
nazvem 'MujPrvniSoubor.txt'
a prohlédnìte si jeho obsah. Vyzkou¹ejte nìkolikrát. Ten pùvodní obsah by se 
mìl
v¾dy ztratit a bude tam jen to poslední, co jste zadali....
Pokud zadáte èeské znaky, soubor se pak ulo¾í v tom kódovaní, ve kterém jste 
to zadávali.
Lépe øeèeno, které máte nastaveno ve va¹em prostøedí. Já konkrétnì mám Latin 
II (cp852)
pod èerným pythonovským shellem. Pøi prohlí¾ení PSPadem (na Linuxu a Macu 
vhodným
editorem, který umí s rùznými kódování pracovat), kdy¾ si nastavíte správnì 
kodovaní
èe¹tiny, uvidíte správný zápis.
Tøi druhy pøístupu
Obecnì mohou být soubory otevøeny ve tøech re¾imech: pro ètení, pro zápis 
(nový soubor)
a pro pøidávání. Jednotlivé re¾imy se od sebe odli¹ují druhým parametrem ve 
funkci
file(). První parametr je samozøejmì název souboru.
ètení: 'r' jako 'read'
zápis: 'w' jako 'write' (vznikne v¾dy nový soubor, pokud ji¾ existoval, 
pøepí¹e se)
pøidání: 'a' jako 'append' (pokud neexistuje, vytvoøí se nový)
Metody souborù
Jak jsem ji¾ v pøedchozích lekcích naznaèoval, metoda je funkce pøiøazená 
v¾dy k
promìnné (objektu). Zápis je objekt teèka metoda (pøípadné parametry).
soubor.read() - pøeètení celého souboru (samozøejmì v re¾imu 'r')
soubor.write(øetìzec) - zápis na disk (v re¾imu 'w')
soubor.flush() - vynucený zápis na disk je¹tì pøed close()
soubor.close() - uzavøení souboru
Upozoròuji, ¾e v¹echna data se
fyzicky
 do souboru zapí¹ou a¾ s metodou close(). Pøedtím zùstávají ve vnitøní 
pamìti - je
to z dùvodu rychlosti. Chceteli donutit zápis na disk pøed close(), pou¾ijte 
flush().
Ètení souboru øádek po øádku
Cyklus for se v
Python
u uplatní velmi názornì i u souborù. Pøidejte si ruènì do va¹eho souboru 
nìkolik
øádek textu. Nezapomeòte ulo¾it a vyzkou¹ejte:
soubor=file('MujPrvniSoubor.txt','r')
cisloRadku=0
for radek in soubor:
cisloRadku=cisloRadku+1
print &quot;Radek&quot;, cisloRadku,&quot;:&quot;, radek,
soubor.close()
Èárku za 'radek' jsem udìlal schválnì. Víte proè? Vyzkou¹ejte...
Ukládání èísel
Chceme-li ulo¾it obyèejná èísla, musíme je pøevést na text, proto¾e funkce 
write()
pøijímá jen textové promìnné. Vyzkou¹ejte:
soubor=file('MujPrvniSoubor.txt','a')
posloupnost=[5,48,74,89,544]
for cislo in posloupnost:
cisloText=str(cislo)
soubor.write(cisloText+', ')
soubor.write('\n')
soubor.close()
Toto je základ pro práci se soubory. Je tøeba si to øádnì nìkolikrát 
vyzkou¹et a
pochopit. Kdy¾ nìco nefunguje tak to nesmí být dùvod k tomu &quot;já na to 
ka¹lu!&quot;, ale
spí¹e &quot;sakra, to by bylo abych na to nepøi¹el!&quot;. Zkou¹ejte, experimentujte, 
ptejte
se a ètìte chybové hlá¹ky. O tìch by mohla být jedna z dal¹ích lekcí.
Úkol
Zadání
Úkol je více ne¾ jasný. Ulo¾te data z Va¹eho telefonního seznamu do souboru. 
Po¹lete
mi program i ulo¾ená data. Ulo¾ená data vlo¾te jako komentáø na konec 
scriptu.
Extra pro pokroèilé
Naètìte se souboru data va¹eho telefonního seznamu. Je to mnohem slo¾itìj¹í 
ne¾ pouhé
ulo¾ení. Budete muset èíst øádku po øádce a v øádku nìjak od sebe oddìlovat 
hodnoty,
které tam jsou. Pøipomínám, ¾e naètený øádek není nic jiného, ne¾ jeden 
øetìzec.
Poznámka
Úkoly známkuji a opravuji skuteènì rád a nevím, jestli úkoly, které dávám 
jsou moc
tì¾ké, nebo moc lehké, nebo to nikdo neète, proto¾e ¾ádné vypracované úkoly 
nedostávám.
Pavel Kosina
Autor programuje v Pythonu.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2008-June/007562.html">[python] Vytváøení textových souborù, prosím, poraïte
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2008-June/date.html#7559">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/thread.html#7559">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/subject.html#7559">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2008-June/author.html#7559">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2008-June/007559.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:20:42 GMT -->
</html>
