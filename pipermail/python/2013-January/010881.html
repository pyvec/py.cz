<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2013-January/010881.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:17:17 GMT -->
<HEAD>
   <TITLE> [python] Pomoc s pythonním RE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-1%3Fq%3FPomoc_s_pythonn%3DEDm_RE%3F%3D&In-Reply-To=%3CCAAKd7n0uUcWTxeDnXriD30WH3AKFM3uK77mdgNeVC%3DqS0sKYZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2013-January/010875.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2013-January/010886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] Pomoc s pythonním RE</H1>
    <B>rajcze</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%3D%3Fiso-8859-1%3Fq%3FPomoc_s_pythonn%3DEDm_RE%3F%3D&In-Reply-To=%3CCAAKd7n0uUcWTxeDnXriD30WH3AKFM3uK77mdgNeVC%3DqS0sKYZQ%40mail.gmail.com%3E"
       TITLE="[python] Pomoc s pythonním RE">rajcze na gmail.com
       </A><BR>
    <I>Nedìle Leden 13 10:31:40 CET 2013</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2013-January/010875.html">[python] Pomoc s pythonním RE
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2013-January/010886.html">[python] Pomoc s pythonním RE
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2013-January/date.html#10881">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/thread.html#10881">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/subject.html#10881">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/author.html#10881">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jojo, ja s tim samozrejme souhlasim, a diky zes to rozepsal do detailu (ja
uz na to v noci po navratu z piva nemel moral :)
I proto jsem se ptal, co konkretne chce Bystroushaak delat, jak moc si muze
zarucit, ze vi jak bude vypadat vstup, atp. Tedy jestli ma vubec smysl se
zabyvat cimkoli jinym bez DOM parserem + xpath (pravda, ze z didaktickeho
hlediska by bylo lepsi to neresit, a presvedcit ho ze je blbost to regexpem
resit.

Na lxml se kouknu, diky za tip.

Joza

2013/1/13 Petr Messner &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">petr.messner na gmail.com</A>&gt;

&gt;<i> Dne 12. ledna 2013 23:51 rajcze &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">rajcze na gmail.com</A>&gt; napsal(a):
</I>&gt;<i>
</I>&gt;&gt;<i> OT: ja sice chapu, ze na XML/HTML je potreba pouzivat zasobnikovy
</I>&gt;&gt;<i> automat, ale IMHO existuje trivialni subset uloh, na ktery staci i
</I>&gt;&gt;<i> regexpy... Samozrejme je potreba vedet co chci, a jaky to ma pripadne
</I>&gt;&gt;<i> limity, ale nutne bych netvrdil, ze dostat subset dat z validniho XML/HTML
</I>&gt;&gt;<i> umi jen nas vsemocny oblibenec :D
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> Jen¾e nestaèí triviální úloha, ale je nutné i trivální HTML. A ani validní
</I>&gt;<i> HTML neznamená triviální...
</I>&gt;<i>
</I>&gt;<i> Myslím si, ¾e regulární výrazy by se na parsování èekoholiv z XML/HTML
</I>&gt;<i> nemìly pou¾ívat skoro nikdy. Sepsal jsem pár dùvodù:
</I>&gt;<i>
</I>&gt;<i> 1. &lt;/script&gt; nemusí znamenat konec Javascriptu. Mù¾e to být obsah øetìzce
</I>&gt;<i> v Javascriptu, kdy je celý kód uzavøen v &lt;![CDATA[ ... ]]&gt; a proto HTML
</I>&gt;<i> tagy v nìm nemusí být dále o¹etøeny. Vzhledem k tomu, ¾e obèas je v
</I>&gt;<i> Javascriptu tøeba dynamicky naèíst dal¹í Javascriptové soubory pøidáním
</I>&gt;<i> nových &lt;script&gt; elementù HTML, není nemo¾né, aby se toto objevilo i v
</I>&gt;<i> normální stránce.
</I>&gt;<i>
</I>&gt;<i> 2. V HTML kódu je pár vìcí, které jsou pøed pøedáním Javascriptovému
</I>&gt;<i> enginu odstranìny/zpracovány, napø. ji¾ zmínìné CDATA nebo HTML entity.
</I>&gt;<i> Pou¾itím HTML parseru se tohoto jednodu¹e zbavíte - zpracuje to za vás.
</I>&gt;<i>
</I>&gt;<i> 3. Podle mé zku¹enosti to u jednoduchých úloh nekonèí, èlovìk pak bude
</I>&gt;<i> chtít vyparsovat z HTML i nìco trochu slo¾itìj¹ího, a pokud se stále bude
</I>&gt;<i> sna¾it pou¾ít regulární výrazy, nedopadne to dobøe. Proè tedy nezaèít
</I>&gt;<i> pou¾ívat HTML parser rovnou?
</I>&gt;<i>
</I>&gt;<i> 4. Regulární výraz (popø. soustava regulárních výrazù), obzvlá¹tì po
</I>&gt;<i> zavedení korekcí velkých písmen, nadbyteèných mezer a vý¹e uvedených vìcí,
</I>&gt;<i> pøestává být èitelný, kde¾to operace nad DOMem získaným z HTML parseru jsou
</I>&gt;<i> celkem snadno èitelné. V mém pøedchozím e-mailu jsem uvedl pøíklad s XPath,
</I>&gt;<i> to je podle mì vhodná obdoba regulárních výrazù pro XML/HTML - mù¾ete si
</I>&gt;<i> tam vybírat elementy podle zanoøení, podle atributù, podle CSS tøíd, mù¾ete
</I>&gt;<i> tam psát i trochu slo¾itìj¹í výrazy (je to jazyk sám o sobì)... Ten XPath
</I>&gt;<i> výraz se pak automaticky zkompiluje podobnì, jako se kompilují regulární
</I>&gt;<i> výrazy.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Na druhou stranu, abych byl spravedlivý :) Velkou výhodou regulárních
</I>&gt;<i> výrazù je, ¾e samy o sobì jsou jednoduché a existuje jen jedna syntaxe a
</I>&gt;<i> jedna roz¹íøená implementace. Pro zpracování XML a HTML tìch nástrojù
</I>&gt;<i> existuje více, li¹í se svou rychlostí, benevolencí k chybám v HTML,
</I>&gt;<i> kvalitou dokumentace, tím, zda jsou ve standardní knihovnì Pythonu a od
</I>&gt;<i> jaké verze... Navíc lze tyto nástroje kombinovat - tøeba pou¾ít parser
</I>&gt;<i> BeautifulSoup nebo html5lib s výstupem do ElementTree a tím zkombinovat
</I>&gt;<i> robustnost parseru s rychlostí.
</I>&gt;<i>
</I>&gt;<i> BeautifulSoup mohu také doporuèit, nìkolikrát jsem ho pou¾il. Pøed èasem
</I>&gt;<i> jsem pøe¹el na lxml, které toho umí hodnì a je rychlé - dùvodem k pøechodu
</I>&gt;<i> bylo to, ¾e se budoucnost BeautifulSoup zdála nejistá, ale teï vypadá OK
</I>&gt;<i> (nová verze, podpora Pythonu 3).
</I>&gt;<i>
</I>&gt;<i> PM
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Python mailing list
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;<i>
</I>


-- 
Rules of Optimization:
Rule 1: Don't do it.
Rule 2 (for experts only): Don't do it yet.
------------- dal¹í èást ---------------
HTML pøíloha byla odstranìna...
URL: &lt;<A HREF="http://www.py.cz/pipermail/python/attachments/20130113/309503f0/attachment.html">http://www.py.cz/pipermail/python/attachments/20130113/309503f0/attachment.html</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2013-January/010875.html">[python] Pomoc s pythonním RE
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2013-January/010886.html">[python] Pomoc s pythonním RE
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2013-January/date.html#10881">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/thread.html#10881">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/subject.html#10881">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2013-January/author.html#10881">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2013-January/010881.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:17:17 GMT -->
</html>
