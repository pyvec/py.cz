<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2010-March/009554.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:54 GMT -->
<HEAD>
   <TITLE> [python] generatorovy vyraz (bylo Re: nevznik objektu)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20generatorovy%20vyraz%20%28bylo%20Re%3A%20nevznik%20objektu%29&In-Reply-To=%3C1269441998.3160.54.camel%40amandil.ics.muni.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2010-March/009553.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2010-March/009557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] generatorovy vyraz (bylo Re: nevznik objektu)</H1>
    <B>David Rohleder</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20generatorovy%20vyraz%20%28bylo%20Re%3A%20nevznik%20objektu%29&In-Reply-To=%3C1269441998.3160.54.camel%40amandil.ics.muni.cz%3E"
       TITLE="[python] generatorovy vyraz (bylo Re: nevznik objektu)">davro na ics.muni.cz
       </A><BR>
    <I>Støeda Bøezen 24 15:46:38 CET 2010</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009553.html">[python] generatorovy vyraz (bylo Re: nevznik objektu)
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009557.html">[python] generatorovy vyraz
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-March/date.html#9554">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/thread.html#9554">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/subject.html#9554">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/author.html#9554">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pøikryl Petr pí¹e v St 24. 03. 2010 v 13:33 +0000:
&gt;<i> 
</I>&gt;<i> &gt;Od: David Rohleder
</I>&gt;<i> &gt;[...] si sna¾ím o
</I>&gt;<i> &gt;objasnit nìkteré vìci. Imho jsou
</I>&gt;<i> &gt;napøiklad nìkteré z tìch syntaktických 
</I>&gt;<i> &gt;cukrù ¹patnì - napø. odstranìní
</I>&gt;<i> &gt;závorek z generátorù (i*i for i in range(4)).
</I>&gt;<i> &gt;Ne, ¾e by se na to nedalo
</I>&gt;<i> &gt;zvyknout, akorát to tady trochu pøehnali.
</I>&gt;<i> 
</I>&gt;<i> Ty závorky nejsou odstranìné. Ty závorky
</I>&gt;<i> nebyly nikdy potøeba... a¾ na nìkteré výjimky,
</I>&gt;<i> jako 
</I>&gt;<i> 
</I>&gt;<i>   g = (i*i for i in range(4))
</I>&gt;<i> 
</I>&gt;<i> Jde jen o specialitu, aby pøekladaè poznal,
</I>&gt;<i> ¾e to je generátorový výraz. Je to jako numerický
</I>&gt;<i> výraz -- taky se mù¾e zapsat do závorek.
</I>
Mnì vadí nekonzistence:

jde napsat 
a = fce(generátor)
nebo
a = fce((generátor))

je mo¾né napsat
a = (generátor)

ale ne 
a = generátor

výmluvy na to, ¾e by pøekladaè nepoznal, ¾e se jedná o generátor a ne o
pøiøazení i*i jsou liché, proto¾e on to musí poznat napø. u té funkce.

pokud by byl tak hloupý, jak øíká¹, tak by 

a = fce(i*i for i in range(4))
nahlásila taky syntax error jako v pøíkladu ní¾e.

podle mne tady tyto problémy zpùsobuje tøeba i pou¾ití kulatých závorek,
proto¾e se pak jednodu¹e splete s nìjakým tuple, pøípadnì dal¹ími
operátory. Pøekladaè musí zji¹»ovat jestli se ve výrazu nìkde vepøedu
nevyskytuje for, aby celý výraz mohl prohlásit za generátor.

Kdybych chtìl nìjakou jednoznaènou syntaxi, tak bych mnohem rad¹i pou¾il
slo¾ené závorky:

a = { i*i | for i in range(4)}

(a samozøejmì vynechávání závorek u fce() by taky muselo pøestat)

&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt; g = i*i for i in range(4)
</I>&gt;<i>   File &quot;&lt;stdin&gt;&quot;, line 1
</I>&gt;<i>     g = i*i for i in range(4)
</I>&gt;<i>               ^
</I>&gt;<i> SyntaxError: invalid syntax
</I>&gt;<i> &gt;&gt;&gt; g = (i*i for i in range(4))
</I>&gt;<i> &gt;&gt;&gt; g
</I>&gt;<i> &lt;generator object &lt;genexpr&gt; at 0x0282A580&gt;
</I>&gt;<i> 
</I>&gt;<i> A urèitì to není generátor n-tice. Tu si 
</I>&gt;<i> ale mù¾u jednodu¹e z generátorového výrazu
</I>&gt;<i> vytvoøit. V ní¾e uvedeném pøíkladu u¾ ta syntaktická
</I>&gt;<i> specialita není nutná, tak¾e je to tuple() s holým
</I>&gt;<i> generátorovým výrazem uvnitø:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt; t = tuple(i*i for i in range(4))
</I>&gt;<i> &gt;&gt;&gt; t
</I>&gt;<i> (0, 1, 4, 9)
</I>&gt;<i> 
</I>&gt;<i> Jde taky o to, ¾e generátorový výraz lze napsat
</I>&gt;<i> na víc øádkù. Tady je jiný výraz a je to pitomost,
</I>&gt;<i> ale pro ilustraci:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt; g = (i*i
</I>&gt;<i> ...        for i in range(4)
</I>&gt;<i> ...        if i &gt; 2)
</I>
to u¾ je hodnì pøita¾ené za vlasy, normálnì se jeden pøíkaz pí¹e na
jeden øádek, lambda funkci taky nemù¾e¹ napsat takovým zpùsobem na dva
øádky.

Tady prostì normálnì funguje \ a dostane¹ stejnou vìc.

&gt;<i> &gt;&gt;&gt; g
</I>&gt;<i> &lt;generator object &lt;genexpr&gt; at 0x0282A648&gt;
</I>&gt;<i> &gt;&gt;&gt; tuple(g)
</I>&gt;<i> (9,)
</I>&gt;<i> 
</I>&gt;<i> Kdyby tam nebyly (u toho výrazu) ty závorky,
</I>&gt;<i> vypadal by for jako ¹patnì odsazený... a vùbec 
</I>&gt;<i> by to pøekladaèi mohlo hodnì zamotat hlavu.
</I>&gt;<i> Nehledì na to, ¾e by se to for mohlo odsadit 
</I>&gt;<i> stejnì jako g a pak u¾ by to bylo úplnì divné.
</I>&gt;<i> 
</I>&gt;<i> pepr
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Python mailing list
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009553.html">[python] generatorovy vyraz (bylo Re: nevznik objektu)
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009557.html">[python] generatorovy vyraz
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-March/date.html#9554">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/thread.html#9554">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/subject.html#9554">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/author.html#9554">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2010-March/009554.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:54 GMT -->
</html>
