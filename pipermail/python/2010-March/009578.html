<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/python/2010-March/009578.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:56 GMT -->
<HEAD>
   <TITLE> [python] &quot;list comprehension&quot; -- prozatimni zaver
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%22list%20comprehension%22%20--%20prozatimni%20zaver&In-Reply-To=%3C77c3131a1003270130u846ace4r59afd0c4ef2e1267%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/python/2010-March/009576.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/python/2010-March/009583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[python] &quot;list comprehension&quot; -- prozatimni zaver</H1>
    <B>Koumes21</B> 
    <A HREF="mailto:python%40py.cz?Subject=Re%3A%20%5Bpython%5D%20%22list%20comprehension%22%20--%20prozatimni%20zaver&In-Reply-To=%3C77c3131a1003270130u846ace4r59afd0c4ef2e1267%40mail.gmail.com%3E"
       TITLE="[python] &quot;list comprehension&quot; -- prozatimni zaver">koumes21 na gmail.com
       </A><BR>
    <I>Sobota Bøezen 27 09:30:05 CET 2010</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009576.html">[python] &quot;list comprehension&quot; -- prozatimni zaver
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009583.html">[python] &quot;list comprehension&quot; -- prozatimni zaver
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-March/date.html#9578">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/thread.html#9578">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/subject.html#9578">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/author.html#9578">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nazdar,

zrovna mì taky jedna mo¾nost napadla, ale sám nevím, jak je dobrá.
Posuïte, prosím, sami. Já navrhuji pøekládat &quot;list comprehension&quot; jako
&quot;zrychlený zápis seznamu&quot;, &quot;zestruènìný zápis seznamu&quot; nebo &quot;struèná
notace tvorby seznamu&quot;, pøípadnì nìkterou kombinaci pøedchozích
spojení.

Mimochodem, aèkoliv spojení &quot;struèná notace tvorby seznamu&quot; vypadá,
jako ¾e je moc dlouhé, je ve skuteènosti o dvì slabiky krat¹í ne¾
&quot;generátorová notace seznamu&quot;.

k21

2010/3/26 Pøikryl Petr &lt;<A HREF="http://www.py.cz/mailman/listinfo/python">prikryl na atlas.cz</A>&gt;:
&gt;<i> Toto je velmi zajímavý pøíspìvek a na jeho
</I>&gt;<i> základì jsem dospìl k závìru, který uvádím...
</I>&gt;<i> no na závìr. Díky
</I>&gt;<i>
</I>&gt;<i> Jan Bednaøík napsal (rozlámal jsem a doplnil èíslování kvùli odkazùm)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) Rozhodnì nepøekládat. Pøeklad nic neøekne zaèáteèníkovi,
</I>&gt;&gt;<i> ale ani nikomu, kdo má s programováním zku¹enosti.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;list comprehension&quot; je obecný pojem pou¾ívaný
</I>&gt;&gt;<i> v mnoha programovacích jazycích.
</I>&gt;&gt;<i> Pokud vím, tak neexistuje ¾ádný v¹eobecnì roz¹íøený pøeklad
</I>&gt;&gt;<i> do èe¹tiny. A osobnì se nepamatuji, ¾e bych se setkal
</I>&gt;&gt;<i> s knihou/uèebnicí/skripty, kde by to nìkdo pøekládal.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) Význam pojmu &quot;list comprehension&quot; je natolik specifický,
</I>&gt;&gt;<i> ¾e pøi snaze ho pøelo¾it se v¾dy dostaneme na velmi
</I>&gt;&gt;<i> tenký led.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 3) Pou¾ití v¹eobecnì známých pojmù z programovacích
</I>&gt;&gt;<i> jazykù jako &quot;generátor&quot;, &quot;konstruktor&quot;, atp. s sebou
</I>&gt;&gt;<i> ponese matoucí asociace.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 4) Napøíklad pod pojmem &quot;generátorový zápis&quot; si spousta
</I>&gt;&gt;<i> lidí pøedstaví &quot;generator expression&quot; a tì¾ko pochopí,
</I>&gt;&gt;<i> ¾e to má mít úplnì jiný význam.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 5) &quot;list comprehension&quot; je pojem pou¾ívaný
</I>&gt;&gt;<i> v informatice desítky let. To ¾e ho je¹tì nikdo
</I>&gt;&gt;<i> nìjak rozumnì nepøelo¾il do èe¹tiny (tím myslím pøeklad
</I>&gt;&gt;<i> který by se uchytil) asi o nìèem vypovídá. Myslím si,
</I>&gt;&gt;<i> ¾e jakákoliv snaha tento pojem pøelo¾it si vy¾ádá ¹ir¹í
</I>&gt;&gt;<i> akademickou diskusi pøesahující komunitu okolo jazyka
</I>&gt;&gt;<i> Python. Zkusil bych se poptat odborníkù na fakultách
</I>&gt;&gt;<i> informatiky zdej¹ích vysokých ¹kol. Tøeba nìkde
</I>&gt;&gt;<i> vymysleli a pou¾ívají nìjaký rozumný pøeklad.
</I>&gt;<i>
</I>&gt;<i> =================================================
</I>&gt;<i>
</I>&gt;<i> ad 1) Cílem té knihy mimo jiné je, aby to nìkomu nìco øeklo.
</I>&gt;<i> A ten pøeklad se dìlá proto, aby to bylo k dispozici
</I>&gt;<i> pro èeské ètenáøe. Chápu, je to trochu paradox ;)
</I>&gt;<i>
</I>&gt;<i> Tak¾e první závìr zní, rozhodnì to nìjak pøelo¾ím.
</I>&gt;<i> Originální pojem samozøejmì ponechám v závorce
</I>&gt;<i> a pøidám asi odkaz na <A HREF="http://en.wikipedia.org/wiki/List_comprehension">http://en.wikipedia.org/wiki/List_comprehension</A>
</I>&gt;<i>
</I>&gt;<i> ad 2) Není to zase tak tenký led. Jedna vìc je sna¾it se
</I>&gt;<i> pøelo¾it &quot;anglické slovo comprehension&quot; a druhá vìc je sna¾it
</I>&gt;<i> se najít odpovídající pojem, který vychází z významu toho
</I>&gt;<i> anglického pojmu. Na vý¹e uvedeném odkazu na wikipedii se
</I>&gt;<i> dají najít tyto jasné stopy (list comprehension):
</I>&gt;<i>
</I>&gt;<i>  - Je to SYNTAKTICKÁ KONSTRUKCE. Tím odpadají kandidáti
</I>&gt;<i>   typu &quot;generovaný seznam&quot; (proto¾e to vyjadøuje spí¹
</I>&gt;<i>   dynamický výsledek, ne¾ statický zápis v programu, tj.
</I>&gt;<i>   syntaktickou konstrukci.
</I>&gt;<i>
</I>&gt;<i>  - Existuje i matematický pojem &quot;set comprehension&quot;, pro který
</I>&gt;<i>   existuje ekvivalent &quot;set-builder notation&quot; -- doslova
</I>&gt;<i>   notace (zápis) vytváøeèe mno¾in. Je to ono známé (pøíklad)
</I>&gt;<i>
</I>&gt;<i>      { x elem N: x &gt; 0 }
</I>&gt;<i>
</I>&gt;<i>  - Ty zmínìné jazyky jsou vìt¹inou deklarativní jazyky.
</I>&gt;<i>   Mají svým zpùsobem blí¾ ke klasické matematice, kde
</I>&gt;<i>   &quot;mno¾ina vznikne, obsah splòuje vlastnosti, je&quot;.
</I>&gt;<i>   Ale u¾ ono &quot;set-builder&quot; napovídá tomu, ¾e v praktickém
</I>&gt;<i>   pøípadì se musí nìjak vybudovat...
</I>&gt;<i>
</I>&gt;<i> ad 3) S tím èásteènì souhlasím. Proto se sna¾ím o diskusi.
</I>&gt;<i> Proto¾e definice pojmù jsou v¾dy vìcí dohody. Není v tom nic
</I>&gt;<i> mechanického. Vstupuje do toho lidský faktor, proto¾e je to
</I>&gt;<i> nástroj pro lidi.
</I>&gt;<i>
</I>&gt;<i> ad 4) Tady si dovolím oponovat. Jestli jste to pochopil
</I>&gt;<i> takto, tak mám radost, proto¾e právì takhle to bylo my¹leno.
</I>&gt;<i> Ono to toti¾ nemá jiný význam.
</I>&gt;<i>
</I>&gt;<i> Na <A HREF="http://en.wikipedia.org/wiki/List_comprehension">http://en.wikipedia.org/wiki/List_comprehension</A> se øíká,
</I>&gt;<i> ¾e jde o &quot;syntaktickou konstrukci pro vytvoøení seznamu
</I>&gt;<i> z jiného seznamu&quot;. V deklarativních jazycích je to OK.
</I>&gt;<i> Ale Python je imperativní jazyk a tahle pøejatá konstrukce
</I>&gt;<i> je elegantnì pou¾ita s ¹ir¹í platností. List comprehension
</I>&gt;<i> toti¾ umo¾òuje vytvoøit seznam z èehokoliv, pøes co se dá
</I>&gt;<i> iterovat (nejen ze seznamu). A ta iterace se dá popsat
</I>&gt;<i> výrazem (tedy nejen pøíkazy) a tomu výrazu se øíká
</I>&gt;<i> generátorový výraz.
</I>&gt;<i>
</I>&gt;<i> Generátorový výraz je zvlá¹tní v tom, ¾e ¹ikovnì kombinuje
</I>&gt;<i> deklarativní pøístup s imperativním. Deklarativnì se zapisuje
</I>&gt;<i> a jeho mo¾nosti se podobají generátorové funkci (která
</I>&gt;<i> má uvnitø yield).
</I>&gt;<i>
</I>&gt;<i> Vyhodnocením generátorového výrazu nebo zavoláním generátorové
</I>&gt;<i> funkce vznikne generátor (generátorový objekt). Postupným
</I>&gt;<i> voláním .next() mù¾eme získat generované hodnoty.
</I>&gt;<i>
</I>&gt;<i> ad 5) [... akademickou diskusi.] Co¾ tímto samozøejmì èiníme.
</I>&gt;<i> Ètou to i lidé, kteøí se vìnují výuce.
</I>&gt;<i>
</I>&gt;<i> Postupnì pøejdu k závìru...
</I>&gt;<i>
</I>&gt;<i> List comprehension je syntaktická konstrukce. Jejím úèelem
</I>&gt;<i> je popsat vytvoøení seznamu jaksi víc deklarativnì. Proto¾e
</I>&gt;<i> jde o syntaktickou konstrukci se specifickým významem, není
</I>&gt;<i> pravdìpodobnì implementována pøekladem na obecný generátor,
</I>&gt;<i> ale je to udìláno efektivnìji.
</I>&gt;<i>
</I>&gt;<i> Pøesto ale vìcnì mù¾eme List comprehension èistì nahradit
</I>&gt;<i> pou¾itím konstruktoru seznamu a do nìj vlo¾eného generátoru,
</I>&gt;<i> který mù¾e být definován i generátorovým výrazem. Srovnejte:
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> lst = [ i*2 for i in range(10) ]
</I>&gt;&gt;&gt;&gt;<i> lst
</I>&gt;<i> [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</I>&gt;<i>
</I>&gt;<i> a generátorovým výrazem
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> lst = list(i*2 for i in range(10))
</I>&gt;&gt;&gt;&gt;<i> lst
</I>&gt;<i> [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</I>&gt;<i>
</I>&gt;<i> Tak¾e list comprehension je typický &quot;syntactic sugar&quot;,
</I>&gt;<i> který mù¾e být díky tomu, ¾e jde o speciální pøípad
</I>&gt;<i> generátoru ponìkud efektivnìji implementován.
</I>&gt;<i>
</I>&gt;<i> A teï &quot;set comprehension&quot; neboli &quot;set-builder NOTATION&quot;:
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> mn = { i*2 for i in range(10) }
</I>&gt;&gt;&gt;&gt;<i> mn
</I>&gt;<i> {0, 2, 4, 6, 8, 10, 12, 14, 16, 18}
</I>&gt;<i>
</I>&gt;<i> a generátorovým výrazem
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> mn = set( i*2 for i in range(10) )
</I>&gt;&gt;&gt;&gt;<i> mn
</I>&gt;<i> {0, 2, 4, 6, 8, 10, 12, 14, 16, 18}
</I>&gt;<i>
</I>&gt;<i> Schválnì jsem to &quot;set(&quot; a &quot;)&quot; oddìlil mezerou, aby bylo
</I>&gt;<i> poznat, jak moc je to syntaktický cukr.
</I>&gt;<i>
</I>&gt;<i> Syntaktický cukr je to rozhodnì u dictionary comprehension,
</I>&gt;<i> proto¾e se v nìm kombinuje zpùsob zápisu slovníkového literálu...
</I>&gt;<i>
</I>&gt;<i>    d = { 1: 2, 2: 4, ...}
</I>&gt;<i>
</I>&gt;<i> s generátorovým výrazem:
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> d = { i: 2*i for i in range(10) }
</I>&gt;&gt;&gt;&gt;<i> d
</I>&gt;<i> {0: 0, 1: 2, 2: 4, 3: 6, 4: 8, 5: 10, 6: 12, 7: 14, 8: 16, 9: 18}
</I>&gt;<i>
</I>&gt;<i> Pøesto to jde snadno (mechanicky) pøepsat:
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> d = dict( (i, 2*i) for i in range(10) )
</I>&gt;&gt;&gt;&gt;<i> d
</I>&gt;<i> {0: 0, 1: 2, 2: 4, 3: 6, 4: 8, 5: 10, 6: 12, 7: 14, 8: 16, 9: 18}
</I>&gt;<i>
</I>&gt;<i> A mù¾eme takto vytvoøit i generovanou n-tici (tuple)...
</I>&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> t = tuple( i*2 for i in range(10) )
</I>&gt;&gt;&gt;&gt;<i> t
</I>&gt;<i> (0, 2, 4, 6, 8, 10, 12, 14, 16, 18)
</I>&gt;<i>
</I>&gt;<i> ... i kdy¾ &quot;tuple comprehension&quot; Python nedefinuje. Troufám si
</I>&gt;<i> tvrdit, ¾e je tomu tak jen proto, proto¾e zápis
</I>&gt;<i>
</I>&gt;<i>  g = ( i*2 for i in range(10) )
</I>&gt;<i>
</I>&gt;<i> byl vyhrazen pro zápis samostatnì uvedeného generátorového
</I>&gt;<i> výrazu. (Tuple je immutable, a proto má syntaktický cukr
</I>&gt;<i> pro generovaný obsah men¹í význam ne¾ u seznamu, mno¾iny
</I>&gt;<i> a slovníku.)
</I>&gt;<i>
</I>&gt;<i> Závìr
</I>&gt;<i> =====
</I>&gt;<i>
</I>&gt;<i> Zhruba uvedenou úvahou jsem døíve dospìl k pojmùm:
</I>&gt;<i>
</I>&gt;<i>   generátorový zápis seznamu
</I>&gt;<i>   generátorový zápis slovníku
</I>&gt;<i>   generátorový zápis mno¾iny
</I>&gt;<i>
</I>&gt;<i> Z toho taky pìknì vyplynul pøeklad pojmu &quot;comprehension&quot;
</I>&gt;<i> (neboli ...-builder notation) &quot;generátorový zápis&quot;.
</I>&gt;<i>
</I>&gt;<i> Cítil jsem, ¾e &quot;generátorový zápis&quot; jaksi nemá punc &quot;pojmovitosti&quot;,
</I>&gt;<i> proto¾e slovo &quot;zápis&quot; je velmi èeské a hlavnì obecné, snadno
</I>&gt;<i> pøehlédnutelné, neprovokující k uva¾ování, ¾e bychom je mìli
</I>&gt;<i> chápat neoddìlitelnì s pøedchozím &quot;generátorový&quot; jako jeden pojem.
</I>&gt;<i> U definic na wikipedii mì proto trklo do oka slovo &quot;notace&quot;.
</I>&gt;<i> Tak¾e jsem dospìl k následujícímu rozuzlení:
</I>&gt;<i>
</I>&gt;<i>   comprehension = generátorová notace
</I>&gt;<i>
</I>&gt;<i>   list comprehension = generátorová notace seznamu
</I>&gt;<i>   set comprehension = generátorová notace mno¾iny
</I>&gt;<i>   dictionary comprehension = generátorová notace slovníku
</I>&gt;<i>
</I>&gt;<i> Nikdy neøíkej nikdy. Tak¾e lep¹í nápady vítám ;)
</I>&gt;<i>
</I>&gt;<i> Mìjte se fajn,
</I>&gt;<i>   pepr
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Python mailing list
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">Python na py.cz</A>
</I>&gt;<i> <A HREF="http://www.py.cz/mailman/listinfo/python">http://www.py.cz/mailman/listinfo/python</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009576.html">[python] &quot;list comprehension&quot; -- prozatimni zaver
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/python/2010-March/009583.html">[python] &quot;list comprehension&quot; -- prozatimni zaver
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/python/2010-March/date.html#9578">[ data ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/thread.html#9578">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/subject.html#9578">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/python/2010-March/author.html#9578">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/python">Dal¹í informace o konferenci Python</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/python/2010-March/009578.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:18:56 GMT -->
</html>
