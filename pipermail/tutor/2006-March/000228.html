<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-March/000228.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:10 GMT -->
<HEAD>
   <TITLE> [Tutor PyCZ] Jmeno, hodnota, prirazeni, funkce,
	return (bylo  Return)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%20Jmeno%2C%20hodnota%2C%20prirazeni%2C%20funkce%2C%0A%09return%20%28bylo%20%20Return%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/tutor/2006-March/000227.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/tutor/2006-March/000229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tutor PyCZ] Jmeno, hodnota, prirazeni, funkce,
	return (bylo  Return)</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%20Jmeno%2C%20hodnota%2C%20prirazeni%2C%20funkce%2C%0A%09return%20%28bylo%20%20Return%29&In-Reply-To="
       TITLE="[Tutor PyCZ] Jmeno, hodnota, prirazeni, funkce,
	return (bylo  Return)">PrikrylP na skil.cz
       </A><BR>
    <I>Støeda Bøezen  8 09:25:08 CET 2006</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000227.html">[Tutor PyCZ] Return
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000229.html">[Tutor PyCZ] py2exe
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-March/date.html#228">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/thread.html#228">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/subject.html#228">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/author.html#228">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>jak.petr
&gt;<i> Prosim vas, vysvetlete mi co presne provadi return
</I>&gt;<i> (navraci hodnoty), ale co presne to udela 
</I>&gt;<i> (kdyz je navrati). Dekuji za pomoc
</I>
Zkusím to nejdøíve jakoby jednodu¹e a struènì,
potom to trochu rozvedu. Funènost pøíkazu return
úzce souvisí s chápáním pojmu promìnná a s pøíkazem
pøiøazování.

Skuteèný mechanismus promìnných a jejich pøiøazování
dìlá problémy i zku¹enìj¹ím programátorùm, kteøí 
jsou zvyklí na jiné chápání pojmu promìnná, spojené 
s kompilaèními jazyky. Ve skuteènosti to není tak
jednoduché, jak by to na první pohled mohlo vypadat.
Je to spí¹ úplnì jiné. Pokud dobøe pochopí¹ celý 
dal¹í text, vyjasní se ti spousta dal¹ích vìcí. 
Dokud ho nepochopí¹, bude pro tebe Python stále 
záhadný.


Teï ta odpovìï...
=============================================

V okam¾iku návratu se také ukonèuje èinnost
funkce, která pøíkaz return pou¾ila.
V bìhu programu se pokraèuje v místì, kde byla
funkce zavolána. Její volání se jakoby nahradí
návratovou hodnotou. 

Dejme tomu, ¾e máme definovánu funkci, která
k zadanému èíslu pøipoète pìt:

def funkce(n):
    vysledek = n + 5
    return vysledek

A dejme tomu, ¾e v nìjakém místì v programu
tuto funkci voláme bìhem vyhodnocování nìjakého
na¹eho vzorce. (V tom okam¾iku nemusíme vìdìt, 
co pøesnì funkce dìlá. Víme, ¾e dìlá nìco správného.)

hodnota = 3 + funkce(8)

Pravá strana pøiøazovacího pøíkazu (=) se 
vyhodnotí a výsledek se spojí s jménem &quot;hodnota&quot;.
Pøi vyhodnocování se narazí na volání funkce(8).
V tom okam¾iku se pozastaví vyhodnocování výrazu,
proto¾e zápis &quot;funkce(8)&quot; potøebujeme nahradit
jejím výsledkem. Tímto zápisem tedy funkci 
zavoláme. Bìh programu se zanoøí do funkce
a provedou se pøíkazy:
    
     vysledek = 8 + 5     
     return vysledek

Jméno vysledek se spojí s hodnotou 13. Pøedstav
si to jako kulièku, ve které je zavøena tøináctka.
Napí¹u to takhle (13). S touto kulièkou je spojen
¹títek s jménem vysledek. Znázornìme to takhle:

   [vysledek]--&gt;(13)

Kdykoliv nyní pou¾iji jméno vysledek, je to stejné,
jako kdybych pou¾il (13). Jméno ale není dùle¾ité.
Dùle¾itá je ta tøináctka v kulièce (objekt s hodnotou
13). Ta existuje u¾ v okam¾iku, kdy se provedlo
8 + 5. Ten první pøíkaz uvnitø funkce se nejdøíve
zmìnil takto:

   vysledek = (13)

Zopakujme si, ¾e pøíkazem pøiøazení se spojí jméno
s objektem (13). Pøímé pou¾ití 13, jména spojeného
s (13) nebo nepojmenovaného odkazu na (13) chápe
Python úplnì stejnì. Nepojmenovaný odkaz bychom
mohli zapsat takto:
  
   []--&gt;(13)

Èíselné konstanty mù¾eme chápat jako jméno 
odkazující na objekt se stejnou hodnotou. 
Mù¾eme to znázornit takto:

    [3]--&gt;(3)
   
Z toho v¹eho plyne, proè mù¾eme pùvodní funkci
zapsat zjednodu¹enì takto:

def funkce(n):
    return n + 5

Pøíkaz return navenek pøedá právì nepojmenovaný
odkaz na tu kulièku (13). Volání &quot;funkce(8)&quot; je 
ukonèeno a nahrazeno odkazem na (13).  

Volání funkce s parametry mù¾eme pova¾ovat
za jakési jméno, které pøed vyhodnocením
není spojeno s ¾ádným objektem. V okam¾iku,
kdy se sna¾íme místo zápisu funkce dosadit
hodnotu, dojde k zavolání funkce s pøedepsanými
parametry (zde 8), k vyhodnocení (zde 8 + 5),
vzniku výsledného objektu (zde (13)). Pøíkaz
return je vlastnì toté¾, jako kdybychom
pùvodnímu místu, kde jsme pou¾ili volání funkce,
pøiøadili odkaz na výslednou hodnotu (vazbu na 
objekt (13).

Zápis pøiøazovacího pøíkazu tedy mù¾eme nejdøíve
chápat jako zápis jmen, která se postupnì, podle
pravidel, promìòují ve výsledné objekty, a¾ se
dopracujeme k jednomu objektu popsanému jedním
jménem. 

Postupné promìny by se mohly symbolicky rozepsat 
nìjak takto:

1.  hodnota = 3 + funkce(8)
2.  hodnota = [3]-&gt;(3)  +  [funkce(8)]--&gt;(?)

Volá se funkce -- zanoøujeme se do hlub¹í úrovnì...

a.       vysledek = [n]--&gt;(8) + [5]--&gt;(5)

Jména nejsou dùle¾itá, tak¾e mù¾eme stejnì dobøe
psát...

b.       vysledek = (8) + (5)

tak¾e...

c.       vysledek = []--&gt;(13)

&quot;®ádné&quot; jméno má stejnou dùle¾itost, jako ka¾dé
jiné. Dùle¾itý je ten objekt, na který se odkazujeme.
Tak¾e mù¾eme psát také...

c.       vysledek = (13)

co¾ vlastnì vytvoøí vazbu...

d.       [vysledek]--&gt;(13)
e.       return [vysledek]--&gt;(13) 

... je vlastnì jako, kdybychom psali

e.  &quot;funkce(8)&quot; = [vysledek]--&gt;(13)

Ale jméno vysledek je viditelné jen uvnitø funkce.
Jen¾e v tomto okam¾iku stejnì není dùle¾ité, tak¾e
mù¾eme psát...

f.  &quot;funkce(8)&quot; = (13)

Vytváøí se vazba na fiktivní jméno &quot;funkce(8)&quot;

g.  [funkce(8)]--&gt;(13)

V okam¾iku provádìní return se vynoøujeme z volání
funkce a dostáváme se vlastnì k pokraèování kroku 2.

3. hodnota = [3]-&gt;(3)  +  [funkce(8)]--&gt;(13)

Fiktivní jméno [funkce(8)] bylo navázáno na objekt
s výslednou hodnotou a pøestává být dùle¾ité. V¹echna
jména jsou vlastnì od tohoto okam¾iku nedùle¾itá. 
Dùle¾ité jsou objekty, na které odkazují.

4. hodnota = (3) + (13)

Pokraèujeme ve vyhodnocování výrazu.

5. hodnota = []--&gt;(16)
6. hodnota = (16)

A dostáváme se k vytvoøení výsledné vazby mezi jménem
hodnota a celkovým výsledkem výrazu.

7. [hodnota]--&gt;(16)

Jméno je dùle¾ité jen k tomu úèelu, abychom se mohli
nìjak odkázat na skuteèný objekt, který je pro nás 
dùle¾itý.

Kdekoliv se ve vý¹e uvedeném pøíkladu vyskytl objekt
s èíselnou hodnotou (v kulatých závorkách), jde o jeden
a ten samý objekt. Pøi pøiøazování se neprovádí jeho
kopírování v tom smyslu, ¾e by se vytvoøil jiný objekt
se stejnou hodnotou. Kdy¾ napøíklad provedeme pøiøazení

8. hodnotaX = hodnota

Vytvoøí se vazba jména na ten samý objekt:

9. hodnotaX = [hodnota]--&gt;(16)
10. [hodnotaX]--&gt;(16)

Pøesnìji bychom to mìli znázornit takto:

        [hodnota]--&gt;(16)
        [hodnotaX]---^

(obì jména odkazují na stejný objekt).

Dokud se na objekt (tøeba (16)) odkazuje alespoò
jedno jméno, mù¾eme se na nìj dostat. Pokud se na nìj
neodkazuje ¾ádné jméno, stává se nedostupným a je to 
stejné, jako kdyby neexistoval. V tom okam¾iku se 
mù¾e uvolnit, znièit. Napøíklad,po provedení 
následujících dvou pøíkazù se jména spojí s jinými 
objekty:

11. hodnota = 3
12. hodnotaX = 5

Situaci mù¾eme znázornit takto:

                    (16)   
        [hodnota]--&gt;(3)
        [hodnotaX]--&gt;(5)

Na objekt (16) se u¾ nikdo neodkazuje, tak¾e bude
zru¹en.



Pro zaèáteèníka to mù¾e být trochu moc vìcí
najednou. Ptej se na nejasnosti.

pepr
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000227.html">[Tutor PyCZ] Return
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000229.html">[Tutor PyCZ] py2exe
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-March/date.html#228">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/thread.html#228">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/subject.html#228">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/author.html#228">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/tutor">Dal¹í informace o konferenci Tutor</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-March/000228.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:10 GMT -->
</html>
