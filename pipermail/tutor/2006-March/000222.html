<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-March/000222.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:10 GMT -->
<HEAD>
   <TITLE> [Tutor PyCZ] Livewires V - seznam a promìnné
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%20%3D%3Fiso-8859-2%3Fq%3FLivewires_V_-_seznam_a_prom%3DECnn%3DE9%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/tutor/2006-March/000218.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/tutor/2006-March/000223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tutor PyCZ] Livewires V - seznam a promìnné</H1>
    <B>Tomá¹ Bìlono¾ník</B> 
    <A HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%20%3D%3Fiso-8859-2%3Fq%3FLivewires_V_-_seznam_a_prom%3DECnn%3DE9%3F%3D&In-Reply-To="
       TITLE="[Tutor PyCZ] Livewires V - seznam a promìnné">rebelme na gmail.com
       </A><BR>
    <I>Nedìle Bøezen  5 21:04:25 CET 2006</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000218.html">[Tutor PyCZ] zjisteni pismen disku ve windows
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000223.html">[Tutor PyCZ] Livewires V - seznam a promìnné
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-March/date.html#222">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/thread.html#222">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/subject.html#222">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/author.html#222">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ahoj,
opìt jsem se zasekl a potøeboval bych pomoct. Ke konci tutoriálu u¾
toti¾ potøebných a nových vìcí pøibývá a nápovìd rapidnì ubývá. Sice
se mi podaøilo program napsat tak, aby jak¾ tak¾ celý fungoval, ale je
tam spousta malých chybièek, je to rozvleklý a úplnì jiný ne¾ to mìlo
být. Vrátím se k poèátku problému. Mám program, kde hráèe posunovaného
stisky kláves honí &quot;robot&quot; a kdy¾ ho do¾ene, hráè prohrál. Mìl bych
pøidìlat dal¹í roboty. Autor tutoriálu dává rady:
    *   Vytvoøte prázdný list robots.
    * Opakujte pro ka¾dého robota, kterého chceme:
          o Pøidejte robota do seznamu robotù.
          o Vytvoøte náhodnì souøadnice místa, kde by se mìl robot
narodit. Nezapomeòte nastavit atribut srot na 0.
          o Opakujte while &quot;pokud se tento robot srazil s jiným&quot;:
                + Zkuste jiné místo.
          o Vytvoøte tìlo robota a ulo¾te ho do jeho atributu telo.
Kdy¾ jsem se to sna¾il dìlat takto, tøeba se mi i podaøilo vyrobit pìt
robotích tìl, ale pohybovalo se pouze jedno a ostatní nereagovaly ani
na kontakt. Dejme tomu tedy, ¾e mám tuto funkci pro tvorbu robotù:
def vyrobRobota(pocet_opakovani, seznam):
    robot = Robot()
    while pocet_opakovani &lt; 5:
	# Budoucí souøadnice robota
        robot.x=random.randint(8, 631)
        robot.y=random.randint(8, 471)

        # Èást funkce zaji¹»ující, ¾e hráè a robot nezaènou na sobì.
        robot_x_round = robot.x / 10
        hrac_x_round = hrac.x / 10
        robot_y_round = robot.y / 10
        hrac_y_round = hrac.y / 10
        while robot_x_round == hrac_x_round and robot_y_round == hrac_y_round:
            robot.x=random.randint(8, 631)
            robot.y=random.randint(8, 471)
            hrac.x=random.randint(8, 631)
            hrac.y=random.randint(8, 471)

        seznam.append(robot)
        robot.telo = box(robot.x-5,robot.y-5,robot.x+5,robot.y+5,
filled=1, colour=Colour.dark_blue)    # Popis tìla robota

Toto mi vytvoøí seznam s pìti instancemi robot tøídy Robot. Jak ale
udìlat, aby se v této funkci v¹ichni hýbali?
def posunRobota(hrac):
    for robot in seznam:     #tahle øádka je tu navíc, tak jsem to zkou¹el
        if robot.x &lt; hrac.x:
            robot.x = robot.x + 5
        elif robot.x &gt; hrac.x:
            robot.x = robot.x - 5
        if robot.y &lt; hrac.y:
            robot.y = robot.y + 5
        elif robot.y &gt; hrac.y:
            robot.y = robot.y - 5
        move_to(robot.telo, robot.x, robot.y)
        sleep(0.2)

Pøijde mi, jako by si ti roboti v seznamu nedokázali pamatovat svoje
.x a .y nebo spí¹ za toho robota, kterým se má hýbat, byl pokládán
poøád jeden a ten samý, proto¾e se hýbe mnohem rychleji ne¾ hráè. Tomu
by nasvìdèovalo i to, ¾e jsem kdesi èetl, ¾e jména v Pythonu jsou
prakticky jen odkazy na objekty.


Nakonec jsem to vyøe¹il metodami tøídy Robot:
    #Metoda na výrobu robotù
	def vyrobRoboty(self):
        self.x = random.randint(8, 631)
        self.y = random.randint(8, 471)
        self.srot = 0
        hrac.xround = hrac.x / 10
        hrac.yround = hrac.y / 10
        self.telo = box(self.x-5, self.y-5, self.x+5, self.y+5,
filled=1, colour=Colour.dark_blue)
    # Metoda na posun roboty
    def posunRobota(self):
        if self.srot == 0:
            if self.x &lt; hrac.x:
                self.x = self.x + 5
            elif self.x &gt; hrac.x:
                self.x = self.x - 5
            if self.y &lt; hrac.y:
                self.y = self.y + 5
            elif self.y &gt; hrac.y:
                self.y = self.y - 5
            sleep(0.02)
            move_to(self.telo, self.x, self.y)

robot.vyrobRoboty()
robot2.vyrobRoboty()
robot3.vyrobRoboty()
robot4.vyrobRoboty()
robot5.vyrobRoboty()
robot.posunRobota()
robot2.posunRobota()
robot3.posunRobota()
robot4.posunRobota()
robot5.posunRobota()

Ale jak vidíte, u¾ tohle je pøí¹ernì zdlouhavé a je¹tì  pøi bìhu musím
volat dal¹í tøi metody a funkce, která má zaji¹»ovat, aby pøi narození
neskonèil jeden robot na druhém je dlouhá pomalu jako epos o
Gilgame¹ovi. Ukázka:
        elif self == robot3:
            while self.xround == robot.xround and self.xround == robot.yround:
                self.x = random.randint(8, 631)
                self.y = random.randint(8, 471)
            while self.xround == robot2.xround and self.xround == robot2.yround:
                self.x = random.randint(8, 631)
                self.y = random.randint(8, 471)

V tutoriálech které jsem èetl se pøi psaní o seznamech vìnují spí¹e
textovým øetìzcùm. Vìøím, ¾e kdyby se dal v tomto pøípadì pou¾ít
seznam, o nìco by se to zkrátilo a navíc by to zjednodu¹ilo pøidávání
dal¹ích robotù v dal¹ích levelech atd. atd. Asi bych mohl ten program
sice dodìlat tímto stylem, ale s výsledkem bych nemohl být spokojen.

Díky za jakékoliv rady.
Tomá¹ Bìlono¾ník

--
&quot;Any fool who would die for honor is better off dead.&quot; - Cabal Patriarch
&quot;I don't know what the next World War will be fought with, but the
World War after that will be fought with sticks and stones.&quot; - Albert
Einstein
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000218.html">[Tutor PyCZ] zjisteni pismen disku ve windows
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-March/000223.html">[Tutor PyCZ] Livewires V - seznam a promìnné
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-March/date.html#222">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/thread.html#222">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/subject.html#222">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-March/author.html#222">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/tutor">Dal¹í informace o konferenci Tutor</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-March/000222.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:10 GMT -->
</html>
