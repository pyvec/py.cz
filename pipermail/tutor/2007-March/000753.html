<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/tutor/2007-March/000753.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:06 GMT -->
<HEAD>
   <TITLE> [Tutor PyCZ] seznam jako globální promìnná
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%0A%09%3D%3Fiso-8859-2%3Fq%3Fseznam_jako_glob%3DE1ln%3DED_prom%3DECnn%3DE1%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/tutor/2007-March/000752.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/tutor/2007-March/000754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tutor PyCZ] seznam jako globální promìnná</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%0A%09%3D%3Fiso-8859-2%3Fq%3Fseznam_jako_glob%3DE1ln%3DED_prom%3DECnn%3DE1%3F%3D&In-Reply-To="
       TITLE="[Tutor PyCZ] seznam jako globální promìnná">PrikrylP na skil.cz
       </A><BR>
    <I>Úterý Bøezen 27 07:57:09 CEST 2007</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2007-March/000752.html">[Tutor PyCZ] seznam jako globální promìnná
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2007-March/000754.html">[Tutor PyCZ] je¹tì seznam jako globální promìnná
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2007-March/date.html#753">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/thread.html#753">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/subject.html#753">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/author.html#753">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jan ©imùnek se ptá
&gt;<i>
</I>&gt;<i> dá se seznam jako celek nastavit jako globální promìnná?
</I>&gt;<i> [...]
</I>&gt;<i> nebo to musím zase prohnat cyklem a ka¾dou polo¾ku 
</I>&gt;<i> nastavit jako global (v proceduøe, která bude pøíslu¹ná 
</I>&gt;<i> data zpracovávat). A pokud ano, jaká je korektní syntaxe?
</I>
Pojem &quot;globální promìnná&quot; souvisí s viditelností
jména odev¹ad. Nesouvisí nijak s datovým typem
objektu, který oznaèuje. Proto i seznam mù¾e být
globální. V Pythonu se jméno promìnné svazuje
s objektem pøi zápisu pøiøazení.

Vá¹ problém asi spoèívá v tom, jak dát najevo
uvnitø funkce, ¾e chcete, aby se nevytvoøila 
nová promìnná, ale aby se pracovalo s ji¾ existující,
definované na globální úrovni.

Pokud potøebujete seznam jen èíst, nemusíte dìlat
nic. Najde se na nejbli¾¹í vy¹¹í úrovni. Takové
promìnné se pak v Pythonu øíká &quot;volná promìnná&quot;:

seznam = [1, 2, 3]

def funkce():
    for polozka in seznam:
        print polozka

funkce()    # voláme

Pokud do seznamu chcete pøidávat, pùjde to
taky, proto¾e se odkazujete na ji¾ existující
objekt a voláte jeho metodu (funkce pøidá
polo¾ky, mimo funkci vytiskneme):

seznam = [1, 2, 3]

def funkce():
    seznam.append(4)
    seznam.append(5)
    seznam.append(6)

funkce()
for polozka in seznam:
    print polozka

Problém nastává jen v pøípadì, kdy se sna¾íte
jméno &quot;seznam&quot; svázat s novou hodnotou pøíkazem
pøiøazení. V takové situaci se v¾dy vytvoøí 
lokální jméno a navenek nebude èinnost tìla
funkce patrná:

seznam = [1, 2, 3]

def funkce():
    seznam = [4, 5, 6]

funkce()
for polozka in seznam:
    print polozka

Dá se to vyøe¹it tím, ¾e jméno seznam 
se nemá vytváøet jako lokální, ale ¾e 
se má pou¾ít globální. K tomu slou¾í pøíkaz 
global (je úplnì jedno, objekt jakého typu
je na jméno navázán):

seznam = [1, 2, 3]

def funkce():
    global seznam
    seznam = [4, 5, 6]

funkce()
for polozka in seznam:
    print polozka

Obecnì je ale lep¹í, kdy¾ se globálním
promìnným budete velkým obloukem vyhýbat,
proto¾e jsou zdrojem problémù. Konkrétní
objekt v¾dy funkci pøedávejte pøes parametr
a nové hodnoty vracejte jako hodnotu funkce.
Umìlý pøíklad by vypadal takto:

seznam1 = [1, 2, 3]

def funkce(seznam):
    print seznam
    return [4, 5, 6]

seznam2 = funkce(seznam1)
print seznam2

V Pythonu v¾dy uva¾ujte tak, ¾e jméno
není dùle¾ité. Dùle¾itý je objekt, se kterým
je svázáno.

pepr
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2007-March/000752.html">[Tutor PyCZ] seznam jako globální promìnná
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2007-March/000754.html">[Tutor PyCZ] je¹tì seznam jako globální promìnná
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2007-March/date.html#753">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/thread.html#753">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/subject.html#753">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2007-March/author.html#753">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/tutor">Dal¹í informace o konferenci Tutor</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/tutor/2007-March/000753.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:06 GMT -->
</html>
