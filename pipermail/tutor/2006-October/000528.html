<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-October/000528.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:08 GMT -->
<HEAD>
   <TITLE> [Tutor PyCZ] statické promìnné ve funkcích
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%0A%09%3D%3Fiso-8859-2%3Fq%3Fstatick%3DE9_prom%3DECnn%3DE9_ve_funkc%3DEDch%3F%3D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
   <LINK REL="Previous"  HREF="http://www.py.cz/pipermail/tutor/2006-October/000566.html">
   <LINK REL="Next"  HREF="http://www.py.cz/pipermail/tutor/2006-October/000529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tutor PyCZ] statické promìnné ve funkcích</H1>
    <B>Petr Prikryl</B> 
    <A HREF="mailto:tutor%40py.cz?Subject=%5BTutor%20PyCZ%5D%0A%09%3D%3Fiso-8859-2%3Fq%3Fstatick%3DE9_prom%3DECnn%3DE9_ve_funkc%3DEDch%3F%3D&In-Reply-To="
       TITLE="[Tutor PyCZ] statické promìnné ve funkcích">PrikrylP na skil.cz
       </A><BR>
    <I>Úterý Øíjen 10 08:12:34 CEST 2006</I>
    <P><UL>
        <LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-October/000566.html">[Tutor PyCZ] zru¹ení konference
</A></li>
        <LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-October/000529.html">[Tutor PyCZ] zru¹ení konference
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-October/date.html#528">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/thread.html#528">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/subject.html#528">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/author.html#528">[ autora ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ondryska Jaromír
&gt;<i> jsem amatérský zaèáteèník v programování, jak v pythonu, tak 
</I>&gt;<i> v C, z toho dùvodu bych potøeboval objasnit tuto vìc: je mo¾né 
</I>&gt;<i> v pythonu u¾ívat promìnnné na zpùsob statických promìnných funkcí
</I>&gt;<i> jazyka C ? - tedy promìnná se ve funkci inicializuje jen 
</I>&gt;<i> jednou a dr¾í si mezi voláním funkce svou hodnotu. 
</I>
Ne. Vyplývá to z odli¹ností kompilovaného a interpretovaného
jazyka. Zatímco v kódu vygenerovaném z céèkové funkce mù¾e 
být pevnì zakompilovaná adresa pamì»ového místa, které udr¾uje
obsah statické promìnné, v pythonovském kódu se promìnné 
realizují v dynamicky pøidìlovaném prostoru a zpøístupòují
se pøes odkazy (obvykle pojmenované). 

Prostor promìnných se èlení na globální (v rámci jednoho 
modulu) a lokální (pro bloky kódu). Pro dùkladnìj¹í studium
doporuèuji podkapitolu &quot;4.1 Naming and binding&quot; ze standardní
pythonovské dokumentace.

Uvedený rys by tedy bylo mo¾né realizovat pou¾itím globální
promìnné, co¾ ale není toté¾. Navíc se to spí¹ nedoporuèuje.
Doporuèuji dobøe zvá¾it, jestli se vùbec má nìco jako statická
promìnná chtít pou¾ívat.

Dal¹í mo¾nosti realizace zámìru závisí na charakteru po¾adované 
funkce. Podobný obrat lze asi nejobecnìji a docela èistì 
nasimulovat pomocí instance tøídy (tj. objektu), který v sobì
udr¾uje po¾adovanou promìnnou. Kromì toho tento objekt 
definuje metodu (èlenskou funkci), která realizuje po¾adovanou
funkènost.

class C:

    def __init__(self):
        self.x = 10

    def fce(self, a):
        self.x = self.x + a
        return self.x

c = C()


Aby v¹e fungovalo stejnì, jako v pøípadì céèkové
funkce se statickou promìnnou, musí se volat odpovídající
metoda stále toho stejného objektu.

print c.fce(1)
print c.fce(1)
print c.fce(10)
print c.fce(10)
print c.fce(10)
print c.fce(10)

Abychom na to nemuseli poøád myslet, mù¾eme si 
volání metody tohoto objektu pojmenovat. Pak
bude zápis vypadat podobnì, jako by tomu bylo 
v C:

mojeFunkce = c.fce

print mojeFunkce(1)
print mojeFunkce(1)
print mojeFunkce(10)
print mojeFunkce(10)
print mojeFunkce(10)
print mojeFunkce(10)

Zajímavou mo¾ností, která se dá pou¾ít ve speciálnìj¹ím
pøípadì, kdy funkci nechceme pøi volání pøedávat vstupní 
parametry, je vyu¾ití takzvaných generátorù. Z opaèného
pohledu by se dalo øíci, ¾e pythonovské generátory by
se v C daly napodobit funkcí se statickou promìnnou
(ale ne zcela obecnì).

pepr

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Pøedchozí pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-October/000566.html">[Tutor PyCZ] zru¹ení konference
</A></li>
	<LI>Následující pøíspìvek: <A HREF="http://www.py.cz/pipermail/tutor/2006-October/000529.html">[Tutor PyCZ] zru¹ení konference
</A></li>
         <LI> <B>Zprávy tøídìné podle:</B> 
              <a href="http://www.py.cz/pipermail/tutor/2006-October/date.html#528">[ data ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/thread.html#528">[ vlákna ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/subject.html#528">[ subjektu ]</a>
              <a href="http://www.py.cz/pipermail/tutor/2006-October/author.html#528">[ autora ]</a>
         </LI>
       </UL>
<hr>
<a href="http://www.py.cz/mailman/listinfo/tutor">Dal¹í informace o konferenci Tutor</a><br>
</body>
<!-- Mirrored from www.py.cz/pipermail/tutor/2006-October/000528.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:36:08 GMT -->
</html>
