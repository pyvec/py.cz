<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
                         
  
<!-- Mirrored from www.py.cz/NahratiObrazku/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:02:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />
    
    <link rel="stylesheet" type="text/css"
          href="../FrontPage/stylesheet.css" />
    <title>PyCZ: Programovací jazyk Python, aplikační servery a frameworky, atd. NahratiObrazku</title>
    
    
    <meta name="robots" content="noindex,nofollow" />
  
  
  </head>
  <body>
    
    <div>
      <div id="pageheaderall" class="pageheader">
      <div id="accesskeys">
      <a accesskey="0"
         href="http://www.py.cz/NahratiObrazku/helpaccesskeys"></a>
      <a accesskey="f" href="http://www.py.cz/FrontPage"></a>
      <a accesskey="c"
         href="http://www.py.cz/FrontPage/contents#NahratiObrazku"></a>
      <a accesskey="r"
         href="http://www.py.cz/FrontPage/recentchanges"></a>
      <a accesskey="" href="http://www.py.cz/FrontPage"></a>
      
      <a accesskey="i"
         href="http://www.py.cz/FrontPage/wikiindex"></a>
      
      <a accesskey="o"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/NahratiObrazku"></a>
      <a accesskey="h" href="http://www.py.cz/HelpPage"></a>
      
      
      <a accesskey="n" href="http://www.py.cz/PyFLTK"></a>
      <a accesskey="p" href="http://www.py.cz/JakeZvolitGUI"></a>
      <a accesskey="u"
         href="http://www.py.cz/GrafickaProstrediGUI"></a>
      <a accesskey="v"
         href="http://www.py.cz/NahratiObrazku"></a>
      <a accesskey="m"
         href="http://www.py.cz/NahratiObrazku/subscribeform"></a>
      <a accesskey="b"
         href="http://www.py.cz/NahratiObrazku/backlinks"></a>
      <a accesskey="d"
         href="http://www.py.cz/NahratiObrazku/diff"></a>
      <a accesskey="y"
         href="http://www.py.cz/NahratiObrazku/history"></a>
      <a accesskey="e"
         href="http://www.py.cz/NahratiObrazku/editform"></a>
      
    </div>
      <div id="navlinks" class="linkpanel">
      <table class="shade1" width="100%" border="0" cellspacing="0">
        <tr>
          <td align="right">
            
      <a href="http://www.py.cz/FrontPage"
         title="show front page">
      <span>home</span></a>
      <a href="http://www.py.cz/FrontPage/contents#NahratiObrazku"
         title="show wiki contents">
      <span>contents</span></a>
      <a href="http://www.py.cz/FrontPage/recentchanges"
         title="show wiki recent changes">
      <span>changes</span></a>
      
      <a title="show wiki index"
         href="http://www.py.cz/FrontPage/wikiindex">
      <span>index</span></a>
      
      <a title="show wiki options"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/NahratiObrazku">
      <span>options</span></a>
      <a title="show help page"
         href="http://www.py.cz/HelpPage">
      <span>help</span></a>
    
            
      
      <a href="http://www.py.cz/NahratiObrazku/subscribeform"
         title="configure email subscription to this page or site">
        
      <span>subscribe</span></a>
      
      <a href="http://www.py.cz/NahratiObrazku/editform"
         title="edit-page (last edited 4 years ago by geon)">
      <span>edit</span></a>
      
    
          </td>
        </tr>
      </table>
    </div>
      <div id="pageheader">
        <form method="GET"
              action="http://www.py.cz/FrontPage/searchwiki">
          <table width="100%" border="0" cellspacing="0">
            <tr>
              <!-- logo -->
              <td id="logo" width="1%" valign="top"
                  class="logo">
                
                  <a title="go to home page"
                     href="http://www.py.cz/FrontPage">
                    
                    <img src="http://www.py.cz/NahratiObrazku/logo.jpg" border="0" alt="home" />
                    
                  </a>
                  &nbsp;
                
              </td>
              <!-- page name and context (parent topics) -->
              <td align="left" width="79%">
                
                  <small><ul class="outline expandable">
 <li><a href="http://www.py.cz/PythonRoot" name="PythonRoot">PythonRoot</a>
<ul class="outline expandable">
  <li><a href="http://www.py.cz/GrafickaProstrediGUI" name="GrafickaProstrediGUI">GrafickaProstrediGUI</a>
<ul class="outline expandable">
  <li><h1 style="display:inline;"><a href="http://www.py.cz/NahratiObrazku/backlinks" title="which pages link to this one ?" name="NahratiObrazku">NahratiObrazku</a></h1></li>
</ul>
  </li>
</ul>
 </li>
</ul>
</small>
                
                
              </td>
              <!-- search form & page info -->
              <td class="searchbox" width="20%" align="right">
                
                  <input id="searchinput" class="formfield"
                         name="expr" type="text" size="20"
                         maxlength="100" value=""
                         title="search all pages" /><br />
                  <span class="lasteditor">last edited  <a href="http://www.py.cz/NahratiObrazku/history" title="show last edit" >4 years</a> ago by <b>geon</b></span><br>
                  <span class="creator">created 2005-08-31</span>   
                
                
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div id="ratingform" align="right">  
      <!-- page rating form -->
      <div>
        <a name="ratingform"></a>
        <style type="text/css">
          input.rating {border:none;}
        </style>
        <form method="POST" id="ratingform"
              action="http://www.py.cz/NahratiObrazku/vote">
           <input type="image" name="vote0" value="0"
                  alt="0" class="rating" width="14"
                  height="13"
                  src="http://www.py.cz/p_/sp"
                  style=""
                  title="click to vote 0 (poor) for this page (0 votes)" /><input
    type="image" name="vote1" value="1" alt="1"
    class="rating" src="http://www.py.cz/NahratiObrazku/misc_/ZWiki/star_icon" style=""
    title="click to vote 1 (average) for this page (0 votes)" /><input
    type="image" name="vote2" value="2" alt="2"
    class="rating" src="http://www.py.cz/NahratiObrazku/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 2 (above average) for this page (0 votes)" /><input
    type="image" name="vote3" value="3" alt="3"
    class="rating" src="http://www.py.cz/NahratiObrazku/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 3 (good) for this page (0 votes)" /><input
    type="image" name="vote4" value="4" alt="4"
    class="rating" src="http://www.py.cz/NahratiObrazku/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 4 (great) for this page (0 votes)" /><input
    type="image" name="vote5" value="5" alt="5"
    class="rating" src="http://www.py.cz/NahratiObrazku/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 5 (superb) for this page (0 votes)" />
        </form>
      </div>
    </div>
    </div>
      <h1>Edit detail for NahratiObrazku revision 2 of 1</h1>
      <div class="formcontent">
        <table border="0" cellspacing="0" width="100%">
          <tr valign="top">

            <td align="left">
              <form style="display:inline"
                    action="http://www.py.cz/NahratiObrazku">
                <input type="submit" name="history:method"
                       value="Return to edit history" />
                
              </form>
            </td>

            <td align="center">
              <form style="display:inline"
                    action="http://www.py.cz/NahratiObrazku/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &lt; "
                       type="submit" accesskey="," />
              </form>
              <a style="font-weight:bold"
                 href="http://www.py.cz/NahratiObrazku/diff?rev=2">2</a>
              <form style="display:inline"
                    action="http://www.py.cz/NahratiObrazku/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &gt; "
                       type="submit" accesskey="." />
              </form>
            </td>

            <td align="right">
              <form style="display:inline"
                    action="http://www.py.cz/NahratiObrazku">
                <input type="hidden" name="rev" value="2" />
                <input value="Revert to this version"
                       type="submit" name="revert:method"
                       disabled="disabled" />
              </form>
            </td>

          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Editor:</span> geon
              <br />
              <span>Time:</span> 2011/10/15 11:30:32 GMT+2
            </td>
          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Note:</span> <span
    style="font-weight:bold; font-style:italic;">pridavani znacek 2x-3x</span>
            </td>
          </tr>
        </table>
        <hr />
        <pre>
<b>changed:</b><span style="color:red;text-decoration:line-through">
-</span><span style="color:green">
&lt;img src=&quot;py25.png&quot; align=right&gt;

Výtah z konference

&gt; Ahoj .... mam pygame a porad nechapu nahrani obrazku ze souboru. Poradi mi nekdo jak ho jednoduse nahrat?


PyGame

 Takže to co hledáš, je::

  hrdina = pygame.image.load('hrdina.jpg')

Jen připomínám, ať si dáš pozor na cesty, obrázek by měl ležet ve stejném adresáři nebo musí být s plnou cestou. Obrázek můžeš použít jakýkoliv, nebo si ho stáhnout ze stránky tutoriálu pygame &quot;Posun to&quot;:http://geon.wz.cz/pygame/tut/moveit/moveit.html (hlava šelmy)::

  # -*- coding: cp1250 -*-
  
  # import a inicializace
  import pygame, sys
  from pygame.locals import *
  pygame.init()
  
  # nastavení konstant
  REZIM=(640, 480)
  umisteniObrazku=(0,0)

  obrazovka = pygame.display.set_mode(REZIM)
  hrdina = pygame.image.load('hrdina.jpg') #načtení obrázku
  obrazovka.blit(hrdina, umisteniObrazku) # vykreselení na obrazovkku
  
  pokracovat=1
  
  while pokracovat:                 # téměř do nekonečna
     for udalost in pygame.event.get():  # o tomto více v tutoriálu
        if udalost.type ==QUIT:          # ošetření Alt+F4
             pokracovat=0
     pygame.display.update()          # aktualizace obrazovky
     pygame.time.delay(100)           # cekej
  
  
  pygame.quit()
  print &quot;Ted jsi zavrel okno. A to je vse :-)&quot;

Není to moc jednoduché, co? V jiných GUI jde pouhé načtení obrázku daleko jednodušeji. PyGame ale je herní modul, takže následně je zase lehčí ovládat pohyb obrázku a případné střílení (kolize s jinými obrázky),....

[Tkinter]

 Pro názornost přikádám jak by to bylo v Tkinteru::

  import Tkinter
  
  root=Tkinter.Tk()
  
  platno=Tkinter.Canvas()
  platno.pack()
  
  obrazek = Tkinter.PhotoImage(file=&quot;hrdina.gif&quot;)
  polozka = platno.create_image(100, 100, image=obrazek)
  
  root.mainloop()

Vsimni si, ze jsem predelal jpg na gif, protoze Tkinter bohuzel sám o sobě nepodporuje jpg. Vestavěnou podporu ma pro gif a pgm. Pokud chceš používat i jiné formáty, potřebuješ modul PIL (Image) (nutno stáhnout), což je mimochodem skvělá knihovna na práci s  obrázky (převod mezi formáty a úprava obrázku - třebas u všech obrázků ve složce změníš rozměry nebo hloubku ...). Použití s Tkinterem pak vypadá takto::

  import Tkinter, Image, ImageTk
  
  root=Tkinter.Tk()
  
  platno=Tkinter.Canvas()
  platno.pack()
  
  obrazekRaw = Image.open(&quot;hrdina.jpg&quot;)
  obrazek = ImageTk.PhotoImage(obrazekRaw)
  polozka = platno.create_image(100, 100, image=obrazek)
  
  root.mainloop()

Python Imaging Library (PIL)

 http://www.pythonware.com/products/pil/ , tak lze obrázek otevřít do programu,
který je v os pro příslušný typ nastaven::

  import Image
  img = Image.open(&quot;test.jpg&quot;)
  img.show()

[PyGTK]
 
 A takto by to bylo v PyGTK::
  
  import pygtk
  pygtk.require('2.0')
  import gtk

  window = gtk.Window()
  window.set_title(&quot;Obrazek&quot;)
  window.connect(&quot;delete-event&quot;, gtk.main_quit)

  image=gtk.Image()
  image.set_from_file(&quot;hrdina.jpg&quot;)
  window.add(image)

  window.show_all()
  gtk.main()

!PyQt

 ::

  # -*- coding: utf-8 -*-
  
  &quot;&quot;&quot; Jednoduchy priklad nahrani obrazku v GUI toolkitu PyQt.
  Funguje jak s http://pythonqt.vanrietpaap.nl/ (Windows)
  tak s http://www.riverbankcomputing.co.uk (Linux)
  
  Qt v soucasnosti podporuje nasledujici formaty:
  PNG, BMP, XBM, XPM a PNM. JPEG, MNG a GIF pomoci podpurnych knihoven pri kompilaci.
  Vice viz dokumentace Qt
  
  Komentare a vyhruzky: petr@yarpen.cz. Ano, je pravdepodobne, ze vas odchyti SpamAssassin.
  Je to milacek.
  &quot;&quot;&quot;
  
  from qt import *
  # sys je zde potreba pouze k syntatiktickemu predani parametru QApplication
  import sys
  
  class Form(QMainWindow):
      &quot;&quot;&quot; Ukazka nacteni obrazku do widgetu na hlavnim okne.
      Konstruktor tridy nastavuje umisteni widgetu v okne. Samotne
      nacteni obrazku provede posledni prikaz. Tohle je pouze
      ukazka, proto zde neni uvedeno zjistovani rozmeru obrazku,
      kontrola nacteni apod. Zde opet odkazuji na skvelou
      dokumentaci Qt (QPixmap.width(), height() apod).&quot;&quot;&quot;
      def __init__(self,parent = None,name = None,fl = 0):
          QMainWindow.__init__(self,parent,name,fl)
          formLayout = QGridLayout(self.centralWidget(),1,1,11,6,&quot;formLayout&quot;)
          self.pixmapLabel = QLabel(self, &quot;pixmapLabel&quot;);
          # velikost okna a widgetu
          self.pixmapLabel.setMinimumSize(800, 600)
          self.setMinimumSize(800, 600)
          formLayout.addWidget(self.pixmapLabel, 0, 0)
          # vlastni nahrani obrazku
          # analogicky lze pouzit
          # setText(QString)
          # setPicture(QPicture)
          # setMovie(QMovie) a setNum()
          self.pixmapLabel.setPixmap(QPixmap('img_2271.jpg'))
  
  
  class FormBackground(QMainWindow):
      &quot;&quot;&quot; Predchozi priklad by sel v tomto pripade nahradit
      prostou aplikaci obrazku jako pozadi okna bez dalsich widgetu.
      &quot;&quot;&quot;
      def __init__(self,parent = None,name = None,fl = 0):
          QMainWindow.__init__(self,parent,name,fl)
          self.setMinimumSize(800, 600)
          self.setPaletteBackgroundPixmap(QPixmap('img_2271.jpg'))
  
  
  &quot;&quot;&quot; Zde pouze spustim tzv. event loop &quot;&quot;&quot;
  a = QApplication(sys.argv)
  w = Form()
  # w = FormBackground()
  a.setMainWidget(w)
  w.show()
  a.exec_loop()

Prosím o doplnění dalších GUI, 

 pokud umíte a chcete a máte čas. Ať můžeme srovnávat.</span>
</pre>
        <hr />
        <div><p><img src="http://www.py.cz/NahratiObrazku/py25.png" align=right></p>
<p>Výtah z konference</p>
<p>> Ahoj .... mam pygame a porad nechapu nahrani obrazku ze souboru. Poradi mi nekdo jak ho jednoduse nahrat?</p>
<h2><a href="http://www.py.cz/PyGame">PyGame</a></h2>
<p> Takže to co hledáš, je:</p>

<pre>
  hrdina = pygame.image.load('hrdina.jpg')
</pre>
<p>Jen připomínám, ať si dáš pozor na cesty, obrázek by měl ležet ve stejném adresáři nebo musí být s plnou cestou. Obrázek můžeš použít jakýkoliv, nebo si ho stáhnout ze stránky tutoriálu pygame <a href="http://geon.wz.cz/pygame/tut/moveit/moveit.html">Posun to</a> (hlava šelmy):</p>

<pre>
  # -*- coding: cp1250 -*-

  # import a inicializace
  import pygame, sys
  from pygame.locals import *
  pygame.init()

  # nastavení konstant
  REZIM=(640, 480)
  umisteniObrazku=(0,0)

  obrazovka = pygame.display.set_mode(REZIM)
  hrdina = pygame.image.load('hrdina.jpg') #načtení obrázku
  obrazovka.blit(hrdina, umisteniObrazku) # vykreselení na obrazovkku

  pokracovat=1

  while pokracovat:                 # téměř do nekonečna
     for udalost in pygame.event.get():  # o tomto více v tutoriálu
        if udalost.type ==QUIT:          # ošetření Alt+F4
             pokracovat=0
     pygame.display.update()          # aktualizace obrazovky
     pygame.time.delay(100)           # cekej

  pygame.quit()
  print "Ted jsi zavrel okno. A to je vse :-)"
</pre>
<p>Není to moc jednoduché, co? V jiných GUI jde pouhé načtení obrázku daleko jednodušeji. <a href="http://www.py.cz/PyGame">PyGame</a> ale je herní modul, takže následně je zase lehčí ovládat pohyb obrázku a případné střílení (kolize s jinými obrázky),....</p>
<h2><a href="http://www.py.cz/Tkinter">Tkinter</a></h2>
<p> Pro názornost přikádám jak by to bylo v Tkinteru:</p>

<pre>
  import Tkinter

  root=Tkinter.Tk()

  platno=Tkinter.Canvas()
  platno.pack()

  obrazek = Tkinter.PhotoImage(file="hrdina.gif")
  polozka = platno.create_image(100, 100, image=obrazek)

  root.mainloop()
</pre>
<p>Vsimni si, ze jsem predelal jpg na gif, protoze Tkinter bohuzel sám o sobě nepodporuje jpg. Vestavěnou podporu ma pro gif a pgm. Pokud chceš používat i jiné formáty, potřebuješ modul PIL (Image) (nutno stáhnout), což je mimochodem skvělá knihovna na práci s  obrázky (převod mezi formáty a úprava obrázku - třebas u všech obrázků ve složce změníš rozměry nebo hloubku ...). Použití s Tkinterem pak vypadá takto:</p>

<pre>
  import Tkinter, Image, ImageTk

  root=Tkinter.Tk()

  platno=Tkinter.Canvas()
  platno.pack()

  obrazekRaw = Image.open("hrdina.jpg")
  obrazek = ImageTk.PhotoImage(obrazekRaw)
  polozka = platno.create_image(100, 100, image=obrazek)

  root.mainloop()
</pre>
<h2>Python Imaging Library (PIL)</h2>
<p> <a href="http://www.pythonware.com/products/pil/">http://www.pythonware.com/products/pil/</a> , tak lze obrázek otevřít do programu,
který je v os pro příslušný typ nastaven:</p>

<pre>
  import Image
  img = Image.open("test.jpg")
  img.show()
</pre>
<h2><a href="http://www.py.cz/PyGTK">PyGTK</a></h2>
<p> A takto by to bylo v <a href="http://www.py.cz/PyGTK">PyGTK</a>:</p>

<pre>
  import pygtk
  pygtk.require('2.0')
  import gtk

  window = gtk.Window()
  window.set_title("Obrazek")
  window.connect("delete-event", gtk.main_quit)

  image=gtk.Image()
  image.set_from_file("hrdina.jpg")
  window.add(image)

  window.show_all()
  gtk.main()
</pre>
<h2>PyQt</h2>

<pre>
  # -*- coding: utf-8 -*-

  """ Jednoduchy priklad nahrani obrazku v GUI toolkitu PyQt.
  Funguje jak s http://pythonqt.vanrietpaap.nl/ (Windows)
  tak s http://www.riverbankcomputing.co.uk (Linux)

  Qt v soucasnosti podporuje nasledujici formaty:
  PNG, BMP, XBM, XPM a PNM. JPEG, MNG a GIF pomoci podpurnych knihoven pri kompilaci.
  Vice viz dokumentace Qt

  Komentare a vyhruzky: &#112;&#101;&#116;&#114;&#64;&#121;&#97;&#114;&#112;&#101;&#110;&#46;&#99;&#122;&#46; Ano, je pravdepodobne, ze vas odchyti SpamAssassin.
  Je to milacek.
  """

  from qt import *
  # sys je zde potreba pouze k syntatiktickemu predani parametru QApplication
  import sys

  class Form(QMainWindow):
      """ Ukazka nacteni obrazku do widgetu na hlavnim okne.
      Konstruktor tridy nastavuje umisteni widgetu v okne. Samotne
      nacteni obrazku provede posledni prikaz. Tohle je pouze
      ukazka, proto zde neni uvedeno zjistovani rozmeru obrazku,
      kontrola nacteni apod. Zde opet odkazuji na skvelou
      dokumentaci Qt (QPixmap.width(), height() apod)."""
      def __init__(self,parent = None,name = None,fl = 0):
          QMainWindow.__init__(self,parent,name,fl)
          formLayout = QGridLayout(self.centralWidget(),1,1,11,6,"formLayout")
          self.pixmapLabel = QLabel(self, "pixmapLabel");
          # velikost okna a widgetu
          self.pixmapLabel.setMinimumSize(800, 600)
          self.setMinimumSize(800, 600)
          formLayout.addWidget(self.pixmapLabel, 0, 0)
          # vlastni nahrani obrazku
          # analogicky lze pouzit
          # setText(QString)
          # setPicture(QPicture)
          # setMovie(QMovie) a setNum()
          self.pixmapLabel.setPixmap(QPixmap('img_2271.jpg'))

  class FormBackground(QMainWindow):
      """ Predchozi priklad by sel v tomto pripade nahradit
      prostou aplikaci obrazku jako pozadi okna bez dalsich widgetu.
      """
      def __init__(self,parent = None,name = None,fl = 0):
          QMainWindow.__init__(self,parent,name,fl)
          self.setMinimumSize(800, 600)
          self.setPaletteBackgroundPixmap(QPixmap('img_2271.jpg'))

  """ Zde pouze spustim tzv. event loop """
  a = QApplication(sys.argv)
  w = Form()
  # w = FormBackground()
  a.setMainWidget(w)
  w.show()
  a.exec_loop()
</pre>
<h2>Prosím o doplnění dalších GUI, </h2>
<p> pokud umíte a chcete a máte čas. Ať můžeme srovnávat.</p>
<p>
</p>
</div>
      </div>
    </div>
    
  </body>

<!-- Mirrored from www.py.cz/NahratiObrazku/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:02:03 GMT -->
</html>

