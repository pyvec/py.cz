<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
                         
  
<!-- Mirrored from www.py.cz/StatickePromenneVeFunkcich/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:02:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />
    
    <link rel="stylesheet" type="text/css"
          href="../FrontPage/stylesheet.css" />
    <title>PyCZ: Programovací jazyk Python, aplikační servery a frameworky, atd. StatickePromenneVeFunkcich</title>
    
    
    <meta name="robots" content="noindex,nofollow" />
  
  
  </head>
  <body>
    
    <div>
      <div id="pageheaderall" class="pageheader">
      <div id="accesskeys">
      <a accesskey="0"
         href="http://www.py.cz/StatickePromenneVeFunkcich/helpaccesskeys"></a>
      <a accesskey="f" href="http://www.py.cz/FrontPage"></a>
      <a accesskey="c"
         href="http://www.py.cz/FrontPage/contents#StatickePromenneVeFunkcich"></a>
      <a accesskey="r"
         href="http://www.py.cz/FrontPage/recentchanges"></a>
      <a accesskey="" href="http://www.py.cz/FrontPage"></a>
      
      <a accesskey="i"
         href="http://www.py.cz/FrontPage/wikiindex"></a>
      
      <a accesskey="o"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/StatickePromenneVeFunkcich"></a>
      <a accesskey="h" href="http://www.py.cz/HelpPage"></a>
      
      
      <a accesskey="n"
         href="http://www.py.cz/PraceSeSoubory"></a>
      <a accesskey="p"
         href="http://www.py.cz/StatickeMetody"></a>
      <a accesskey="u" href="http://www.py.cz/OOP"></a>
      <a accesskey="v"
         href="http://www.py.cz/StatickePromenneVeFunkcich"></a>
      <a accesskey="m"
         href="http://www.py.cz/StatickePromenneVeFunkcich/subscribeform"></a>
      <a accesskey="b"
         href="http://www.py.cz/StatickePromenneVeFunkcich/backlinks"></a>
      <a accesskey="d"
         href="http://www.py.cz/StatickePromenneVeFunkcich/diff"></a>
      <a accesskey="y"
         href="http://www.py.cz/StatickePromenneVeFunkcich/history"></a>
      <a accesskey="e"
         href="http://www.py.cz/StatickePromenneVeFunkcich/editform"></a>
      
    </div>
      <div id="navlinks" class="linkpanel">
      <table class="shade1" width="100%" border="0" cellspacing="0">
        <tr>
          <td align="right">
            
      <a href="http://www.py.cz/FrontPage"
         title="show front page">
      <span>home</span></a>
      <a href="http://www.py.cz/FrontPage/contents#StatickePromenneVeFunkcich"
         title="show wiki contents">
      <span>contents</span></a>
      <a href="http://www.py.cz/FrontPage/recentchanges"
         title="show wiki recent changes">
      <span>changes</span></a>
      
      <a title="show wiki index"
         href="http://www.py.cz/FrontPage/wikiindex">
      <span>index</span></a>
      
      <a title="show wiki options"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/StatickePromenneVeFunkcich">
      <span>options</span></a>
      <a title="show help page"
         href="http://www.py.cz/HelpPage">
      <span>help</span></a>
    
            
      
      <a href="http://www.py.cz/StatickePromenneVeFunkcich/subscribeform"
         title="configure email subscription to this page or site">
        
      <span>subscribe</span></a>
      
      <a href="http://www.py.cz/StatickePromenneVeFunkcich/editform"
         title="edit-page (last edited 9 years ago by pycz)">
      <span>edit</span></a>
      
    
          </td>
        </tr>
      </table>
    </div>
      <div id="pageheader">
        <form method="GET"
              action="http://www.py.cz/FrontPage/searchwiki">
          <table width="100%" border="0" cellspacing="0">
            <tr>
              <!-- logo -->
              <td id="logo" width="1%" valign="top"
                  class="logo">
                
                  <a title="go to home page"
                     href="http://www.py.cz/FrontPage">
                    
                    <img src="http://www.py.cz/StatickePromenneVeFunkcich/logo.jpg" border="0" alt="home" />
                    
                  </a>
                  &nbsp;
                
              </td>
              <!-- page name and context (parent topics) -->
              <td align="left" width="79%">
                
                  <small><ul class="outline expandable">
 <li><a href="http://www.py.cz/PythonRoot" name="PythonRoot">PythonRoot</a>
<ul class="outline expandable">
  <li><a href="http://www.py.cz/OOP" name="OOP">OOP</a>
<ul class="outline expandable">
  <li><h1 style="display:inline;"><a href="http://www.py.cz/StatickePromenneVeFunkcich/backlinks" title="which pages link to this one ?" name="StatickePromenneVeFunkcich">StatickePromenneVeFunkcich</a></h1></li>
</ul>
  </li>
</ul>
 </li>
</ul>
</small>
                
                
              </td>
              <!-- search form & page info -->
              <td class="searchbox" width="20%" align="right">
                
                  <input id="searchinput" class="formfield"
                         name="expr" type="text" size="20"
                         maxlength="100" value=""
                         title="search all pages" /><br />
                  <span class="lasteditor">last edited  <a href="http://www.py.cz/StatickePromenneVeFunkcich/history" title="show last edit" >9 years</a> ago by <b>pycz</b></span><br>
                  <span class="creator">created 2006-10-10</span>   
                
                
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div id="ratingform" align="right">  
      <!-- page rating form -->
      <div>
        <a name="ratingform"></a>
        <style type="text/css">
          input.rating {border:none;}
        </style>
        <form method="POST" id="ratingform"
              action="http://www.py.cz/StatickePromenneVeFunkcich/vote">
           <input type="image" name="vote0" value="0"
                  alt="0" class="rating" width="14"
                  height="13"
                  src="http://www.py.cz/p_/sp"
                  style=""
                  title="click to vote 0 (poor) for this page (0 votes)" /><input
    type="image" name="vote1" value="1" alt="1"
    class="rating" src="http://www.py.cz/StatickePromenneVeFunkcich/misc_/ZWiki/star_icon" style=""
    title="click to vote 1 (average) for this page (0 votes)" /><input
    type="image" name="vote2" value="2" alt="2"
    class="rating" src="http://www.py.cz/StatickePromenneVeFunkcich/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 2 (above average) for this page (0 votes)" /><input
    type="image" name="vote3" value="3" alt="3"
    class="rating" src="http://www.py.cz/StatickePromenneVeFunkcich/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 3 (good) for this page (0 votes)" /><input
    type="image" name="vote4" value="4" alt="4"
    class="rating" src="http://www.py.cz/StatickePromenneVeFunkcich/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 4 (great) for this page (0 votes)" /><input
    type="image" name="vote5" value="5" alt="5"
    class="rating" src="http://www.py.cz/StatickePromenneVeFunkcich/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 5 (superb) for this page (0 votes)" />
        </form>
      </div>
    </div>
    </div>
      <h1>Edit detail for StatickePromenneVeFunkcich revision 1 of 1</h1>
      <div class="formcontent">
        <table border="0" cellspacing="0" width="100%">
          <tr valign="top">

            <td align="left">
              <form style="display:inline"
                    action="http://www.py.cz/StatickePromenneVeFunkcich">
                <input type="submit" name="history:method"
                       value="Return to edit history" />
                
              </form>
            </td>

            <td align="center">
              <form style="display:inline"
                    action="http://www.py.cz/StatickePromenneVeFunkcich/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &lt; "
                       type="submit" accesskey="," />
              </form>
              <a style="font-weight:bold"
                 href="http://www.py.cz/StatickePromenneVeFunkcich/diff?rev=1">1</a>
              <form style="display:inline"
                    action="http://www.py.cz/StatickePromenneVeFunkcich/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &gt; "
                       type="submit" accesskey="." />
              </form>
            </td>

            <td align="right">
              <form style="display:inline"
                    action="http://www.py.cz/StatickePromenneVeFunkcich">
                <input type="hidden" name="rev" value="1" />
                <input value="Revert to this version"
                       type="submit" name="revert:method"
                       disabled="disabled" />
              </form>
            </td>

          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Editor:</span> pycz
              <br />
              <span>Time:</span> 2006/10/10 14:00:11 GMT+0
            </td>
          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Note:</span> <span
    style="font-weight:bold; font-style:italic;"></span>
            </td>
          </tr>
        </table>
        <hr />
        <pre>
<b>changed:</b><span style="color:red;text-decoration:line-through">
-</span><span style="color:green">
Dotaz: Statické proměnné ve funkcích 
====================================

::

 &gt;&gt; jsem amatérský začátečník v programování, jak v pythonu, tak 
 &gt;&gt; v C, z toho důvodu bych potřeboval objasnit tuto věc: je možné 
 &gt;&gt; v pythonu užívat proměnnné na způsob statických proměnných funkcí
 &gt;&gt; jazyka C ? - tedy proměnná se ve funkci inicializuje jen 
 &gt;&gt; jednou a drží si mezi voláním funkce svou hodnotu. 

Odpověď
==========

Ne. Vyplývá to z odlišností kompilovaného a interpretovaného
jazyka. Zatímco v kódu vygenerovaném z céčkové funkce může 
být pevně zakompilovaná adresa paměťového místa, které udržuje
obsah statické proměnné, v pythonovském kódu se proměnné 
realizují v dynamicky přidělovaném prostoru a zpřístupňují
se přes odkazy (obvykle pojmenované). 

Prostor proměnných se člení na globální (v rámci jednoho 
modulu) a lokální (pro bloky kódu). Pro důkladnější studium
doporučuji podkapitolu &quot;4.1 Naming and binding&quot; ze standardní
pythonovské dokumentace.

Uvedený rys by tedy bylo možné realizovat použitím globální
proměnné, což ale není totéž. Navíc se to spíš nedoporučuje.
Doporučuji dobře zvážit, jestli se vůbec má něco jako statická
proměnná chtít používat.

Další možnosti realizace záměru závisí na charakteru požadované 
funkce. Podobný obrat lze asi nejobecněji a docela čistě 
nasimulovat pomocí instance třídy (tj. objektu), který v sobě
udržuje požadovanou proměnnou. Kromě toho tento objekt 
definuje metodu (členskou funkci), která realizuje požadovanou
funkčnost.::

 class C:

    def __init__(self):
        self.x = 10

    def fce(self, a):
        self.x = self.x + a
        return self.x

 c = C()


Aby vše fungovalo stejně, jako v případě céčkové
funkce se statickou proměnnou, musí se volat odpovídající
metoda stále toho stejného objektu.

&gt;&gt;&gt; print c.fce(1)
11
&gt;&gt;&gt; print c.fce(1)
12
&gt;&gt;&gt; print c.fce(10)
22
&gt;&gt;&gt; print c.fce(10)
32
&gt;&gt;&gt; print c.fce(10)
42
&gt;&gt;&gt; print c.fce(10)
52

Abychom na to nemuseli pořád myslet, můžeme si 
volání metody tohoto objektu pojmenovat. Pak
bude zápis vypadat podobně, jako by tomu bylo 
v C: 

&gt;&gt;&gt; mojeFunkce = c.fce
&gt;&gt;&gt; print mojeFunkce(1)
53
&gt;&gt;&gt; print mojeFunkce(1)
54
&gt;&gt;&gt; print mojeFunkce(10)
64
&gt;&gt;&gt; print mojeFunkce(10)
74
&gt;&gt;&gt; print mojeFunkce(10)
84
&gt;&gt;&gt; print mojeFunkce(10)
94

Zajímavou možností, která se dá použít ve speciálnějším
případě, kdy funkci nechceme při volání předávat vstupní 
parametry, je využití takzvaných generátorů. Z opačného
pohledu by se dalo říci, že pythonovské generátory by
se v C daly napodobit funkcí se statickou proměnnou
(ale ne zcela obecně).


</span>
</pre>
        <hr />
        <div><div class="section" id="dotaz-staticke-promenne-ve-funkcich">
<h2>Dotaz: Statické proměnné ve funkcích</h2>
<pre class="literal-block">
&gt;&gt; jsem amatérský začátečník v programování, jak v pythonu, tak
&gt;&gt; v C, z toho důvodu bych potřeboval objasnit tuto věc: je možné
&gt;&gt; v pythonu užívat proměnnné na způsob statických proměnných funkcí
&gt;&gt; jazyka C ? - tedy proměnná se ve funkci inicializuje jen
&gt;&gt; jednou a drží si mezi voláním funkce svou hodnotu.
</pre>
</div>
<div class="section" id="odpoved">
<h2>Odpověď</h2>
<p>Ne. Vyplývá to z odlišností kompilovaného a interpretovaného
jazyka. Zatímco v kódu vygenerovaném z céčkové funkce může
být pevně zakompilovaná adresa paměťového místa, které udržuje
obsah statické proměnné, v pythonovském kódu se proměnné
realizují v dynamicky přidělovaném prostoru a zpřístupňují
se přes odkazy (obvykle pojmenované).</p>
<p>Prostor proměnných se člení na globální (v rámci jednoho
modulu) a lokální (pro bloky kódu). Pro důkladnější studium
doporučuji podkapitolu &quot;4.1 Naming and binding&quot; ze standardní
pythonovské dokumentace.</p>
<p>Uvedený rys by tedy bylo možné realizovat použitím globální
proměnné, což ale není totéž. Navíc se to spíš nedoporučuje.
Doporučuji dobře zvážit, jestli se vůbec má něco jako statická
proměnná chtít používat.</p>
<p>Další možnosti realizace záměru závisí na charakteru požadované
funkce. Podobný obrat lze asi nejobecněji a docela čistě
nasimulovat pomocí instance třídy (tj. objektu), který v sobě
udržuje požadovanou proměnnou. Kromě toho tento objekt
definuje metodu (členskou funkci), která realizuje požadovanou
funkčnost.:</p>
<pre class="literal-block">
class C:

   def __init__(self):
       self.x = 10

   def fce(self, a):
       self.x = self.x + a
       return self.x

c = C()
</pre>
<p>Aby vše fungovalo stejně, jako v případě céčkové
funkce se statickou proměnnou, musí se volat odpovídající
metoda stále toho stejného objektu.</p>
<pre class="doctest-block">
&gt;&gt;&gt; print c.fce(1)
11
&gt;&gt;&gt; print c.fce(1)
12
&gt;&gt;&gt; print c.fce(10)
22
&gt;&gt;&gt; print c.fce(10)
32
&gt;&gt;&gt; print c.fce(10)
42
&gt;&gt;&gt; print c.fce(10)
52
</pre>
<p>Abychom na to nemuseli pořád myslet, můžeme si
volání metody tohoto objektu pojmenovat. Pak
bude zápis vypadat podobně, jako by tomu bylo
v C:</p>
<pre class="doctest-block">
&gt;&gt;&gt; mojeFunkce = c.fce
&gt;&gt;&gt; print mojeFunkce(1)
53
&gt;&gt;&gt; print mojeFunkce(1)
54
&gt;&gt;&gt; print mojeFunkce(10)
64
&gt;&gt;&gt; print mojeFunkce(10)
74
&gt;&gt;&gt; print mojeFunkce(10)
84
&gt;&gt;&gt; print mojeFunkce(10)
94
</pre>
<p>Zajímavou možností, která se dá použít ve speciálnějším
případě, kdy funkci nechceme při volání předávat vstupní
parametry, je využití takzvaných generátorů. Z opačného
pohledu by se dalo říci, že pythonovské generátory by
se v C daly napodobit funkcí se statickou proměnnou
(ale ne zcela obecně).</p>
<p>
</p>
</div>
</div>
      </div>
    </div>
    
  </body>

<!-- Mirrored from www.py.cz/StatickePromenneVeFunkcich/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:02:51 GMT -->
</html>

