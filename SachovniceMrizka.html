<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
                         
  
<!-- Mirrored from www.py.cz/SachovniceMrizka by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:00:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />
    
    <link rel="stylesheet" type="text/css"
          href="FrontPage/stylesheet.css" />
    <title>PyCZ: Programovací jazyk Python, aplikační servery a frameworky, atd. SachovniceMrizka</title>
    
      
    <meta name="keywords" content="Sachovnice Mrizka" />
    <meta name="description"
          content="Na počátku byl v konferenci py.cz nevinný dotaz:" />
  
    
  </head>
  <body>
    
    <div id="main">
      <div id="pageheaderall" class="pageheader">
      <div id="accesskeys">
      <a accesskey="0"
         href="HelpPage%23access-keys.html"></a>
      <a accesskey="f" href="FrontPage.html"></a>
      <a accesskey="c"
         href="FrontPage/contents.html#SachovniceMrizka"></a>
      <a accesskey="r"
         href="FrontPage/recentchanges.html"></a>
      <a accesskey="" href="FrontPage.html"></a>
      
      <a accesskey="i"
         href="FrontPage/wikiindex.html"></a>
      
      <a accesskey="o"
         href="FrontPage/useroptions9882.html?redirectURL=http%3A//www.py.cz/SachovniceMrizka"></a>
      <a accesskey="h" href="HelpPage.html"></a>
      
      
      <a accesskey="n" href="Tkinter.html"></a>
      <a accesskey="p" href="PythonAGlade.html"></a>
      <a accesskey="u"
         href="GrafickaProstrediGUI.html"></a>
      <a accesskey="v"
         href="SachovniceMrizka.html"></a>
      <a accesskey="m"
         href="SachovniceMrizka/subscribeform.html"></a>
      <a accesskey="b"
         href="SachovniceMrizka/backlinks.html"></a>
      <a accesskey="d"
         href="SachovniceMrizka/diff.html"></a>
      <a accesskey="y"
         href="SachovniceMrizka/history.html"></a>
      <a accesskey="e"
         href="SachovniceMrizka/editform.html"></a>
      
    </div>
      <div id="navlinks" class="linkpanel">
      <table class="shade1" width="100%" border="0" cellspacing="0">
        <tr>
          <td align="right">
            
      <a href="FrontPage.html"
         title="show front page">
      <span>home</span></a>
      <a href="FrontPage/contents.html#SachovniceMrizka"
         title="show wiki contents">
      <span>contents</span></a>
      <a href="FrontPage/recentchanges.html"
         title="show wiki recent changes">
      <span>changes</span></a>
      
      <a title="show wiki index"
         href="FrontPage/wikiindex.html">
      <span>index</span></a>
      
      <a title="show wiki options"
         href="FrontPage/useroptions9882.html?redirectURL=http%3A//www.py.cz/SachovniceMrizka">
      <span>options</span></a>
      <a title="show help page"
         href="HelpPage.html">
      <span>help</span></a>
    
            
      
      <a href="SachovniceMrizka/subscribeform.html"
         title="configure email subscription to this page or site">
        
      <span>subscribe</span></a>
      
      <a href="SachovniceMrizka/editform.html"
         title="edit-page (last edited 2 years ago by mol)">
      <span>edit</span></a>
      
    
          </td>
        </tr>
      </table>
    </div>
      <div id="pageheader">
        <form method="GET"
              action="http://www.py.cz/FrontPage/searchwiki">
          <table width="100%" border="0" cellspacing="0">
            <tr>
              <!-- logo -->
              <td id="logo" width="1%" valign="top"
                  class="logo">
                
                  <a title="go to home page"
                     href="FrontPage.html">
                    
                    <img src="logo.jpg" border="0" alt="home" />
                    
                  </a>
                  &nbsp;
                
              </td>
              <!-- page name and context (parent topics) -->
              <td align="left" width="79%">
                
                  <small><ul class="outline expandable">
 <li><a href="PythonRoot.html" name="PythonRoot">PythonRoot</a>
<ul class="outline expandable">
  <li><a href="GrafickaProstrediGUI.html" name="GrafickaProstrediGUI">GrafickaProstrediGUI</a>
<ul class="outline expandable">
  <li><h1 style="display:inline;"><a href="SachovniceMrizka/backlinks.html" title="which pages link to this one ?" name="SachovniceMrizka">SachovniceMrizka</a></h1></li>
</ul>
  </li>
</ul>
 </li>
</ul>
</small>
                
                
              </td>
              <!-- search form & page info -->
              <td class="searchbox" width="20%" align="right">
                
                  <input id="searchinput" class="formfield"
                         name="expr" type="text" size="20"
                         maxlength="100" value=""
                         title="search all pages" /><br />
                  <span class="lasteditor">last edited  <a href="SachovniceMrizka/history.html" title="show last edit" >2 years</a> ago by <b>mol</b></span><br>
                  <span class="creator">created 2005-05-24</span>   
                
                
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div id="ratingform" align="right">  
      <!-- page rating form -->
      <div>
        <a name="ratingform"></a>
        <style type="text/css">
          input.rating {border:none;}
        </style>
        <form method="POST" id="ratingform"
              action="http://www.py.cz/SachovniceMrizka/vote">
           <input type="image" name="vote0" value="0"
                  alt="0" class="rating" width="14"
                  height="13"
                  src="p_/sp.gif"
                  style=""
                  title="click to vote 0 (poor) for this page (0 votes)" /><input
    type="image" name="vote1" value="1" alt="1"
    class="rating" src="misc_/ZWiki/star_icon.png" style=""
    title="click to vote 1 (average) for this page (0 votes)" /><input
    type="image" name="vote2" value="2" alt="2"
    class="rating" src="misc_/ZWiki/blank_star_icon.png"
    style=""
    title="click to vote 2 (above average) for this page (0 votes)" /><input
    type="image" name="vote3" value="3" alt="3"
    class="rating" src="misc_/ZWiki/blank_star_icon.png"
    style=""
    title="click to vote 3 (good) for this page (0 votes)" /><input
    type="image" name="vote4" value="4" alt="4"
    class="rating" src="misc_/ZWiki/blank_star_icon.png"
    style=""
    title="click to vote 4 (great) for this page (0 votes)" /><input
    type="image" name="vote5" value="5" alt="5"
    class="rating" src="misc_/ZWiki/blank_star_icon.png"
    style=""
    title="click to vote 5 (superb) for this page (0 votes)" />
        </form>
      </div>
    </div>
    </div>
      
      <div id="content" class="content">
    <p><img src="py25.png" align=right></p>
<p>Na počátku byl v konferenci py.cz nevinný dotaz:</p>
<h2>Jak se udělá v pythonu mřížka s devíti čarami svisle a devíti čarami vodorovně?</h2>
<p> Někdo se dožadoval upřesnění, někdo od ruky vysmahnul textové řešení. Pár odpovědí:</p>

<pre>
  # Napr. takto  :-) 
  #  _ _ _ _ _ _ _ _ 
  # |_|_|_|_|_|_|_|_| 
  # |_|_|_|_|_|_|_|_|
  # |_|_|_|_|_|_|_|_|
  # |_|_|_|_|_|_|_|_| 
  # |_|_|_|_|_|_|_|_|
  # |_|_|_|_|_|_|_|_|
  # |_|_|_|_|_|_|_|_| 
  # |_|_|_|_|_|_|_|_|

  Ale teraz vazne. Z Vasej otazky nie je sasne, na co presne potrebujete tu 
  mriezku. V samotnom Pythone vytvorite mriezku pravdepodobne tazko. Ak 
  potrebujete mriezku nakreslit do obrazku, skuste pouzit komponentu PIL alebo 
  balik graphics z frameworku Reportlab.
</pre>
<p>Nebo:</p>

<pre>
  Já vám dám mřížku.

  Budete na to potřebovat specielně licencovanou knihovnu od Microsoftu.

  Další možnost je toto:

      x=y=20
      print ' ' + '_' * (2*x-1) + ('\n|' + '_|' * x) * y

  EULA: Tento zdrojový kód je možné použít a šířit pouze v případě jeho
  plného grokování.

  Hezký den.
</pre>
<h2>Pak se, po čase, objevil následující příspěvek, </h2>
<p> který rozpoutal tu pravou diskuzi:</p>

<pre>
  from Tkinter import *
  import random

  KROK=30                                     # velikost jednoho ctverecku
  OKRAJ=20                                    # velikost okraje
  DELKA=10                                    # pocet poli
  BARVA={0:'white',1:'red', 2:'lightgreen'}   # barvicky (free bonus)

  def ctverec(x,y,vypln):
      "Vytiskne ctverecek v souradnicich x,y a s vyplni"
      x=x*KROK+OKRAJ
      y=y*KROK+OKRAJ
      canvas.create_rectangle(x,y,x+KROK,y+KROK,fill=BARVA[vypln])

  def sachovnice():
      "Vymalovani sachovnice bunek"
      for y in range(DELKA):
          for x in range(DELKA):
                  bakterie=(random.randint(0,2))
                  ctverec(x,y, bakterie)

  # inicializace Tkinter
  root=Tk()
  root.title("Sachovnice")
  frame=Frame(root)
  frame.pack()
  canvas=Canvas(frame, bg='white', height=DELKA*KROK+2*OKRAJ, width=DELKA*KROK+2*OKRAJ)
  canvas.pack()

  # vykresleni sachovnice
  sachovnice()
  root.mainloop() 
</pre>
<h2>Jen pár reakcí:</h2>

<ul>
<li>Jo, jo -- Pavel je zatim vitez  ;-) 
Jeste nejaky pohyb by to chtelo  ;-) </li>

</ul>

<ul>
<li>Dovolil jsem si drobnou úpravu. Protože se jako klíče slovníku
BARVA používala čísla 0 až 2, může se to změnit na jednodušší
strukturu -- seznam. Drobnou úpravou se pak dá zajistit, 
že se použijí všechny barvy, kterými seznam naplním (doplněna
žlutá).
Místo range(DELKA) je lepší používat xrange(DELKA).
Osobně považuji takové příklady za vynikající prostředek
k diskusi. Vždycky se na tom dá najít nějaký chlup (je jich
tam ještě hodně) a vždycky se na tom dá dozvědět něco nového
(i když to sleduji jen pasivně). Navrhuji došolichat ten 
příklad do vzorové podoby (i co se týká stylu), vytvořit
z toho nějaký dokument (HTML) a zařadit to do nějakých 
školiček včetně zpracované podoby nastávající diskuse.
A taky navrhuji, předělat to do ryze české podoby, včetně
českých komentářů a textů. Zvýrazní se tím nové problémy, 
které se v reálných českých aplikacích musí řešit:
<pre>
  from Tkinter import *
  import random

  KROK=30                                     # velikost jednoho ctverecku
  OKRAJ=20                                    # velikost okraje
  DELKA=10                                    # pocet poli
  BARVA=['white', 'red', 'lightgreen', 'yellow']   # barvicky (free bonus)

  def ctverec(x,y,vypln):
      "Vytiskne ctverecek v souradnicich x,y a s vyplni"
      x=x*KROK+OKRAJ
      y=y*KROK+OKRAJ
      canvas.create_rectangle(x,y,x+KROK,y+KROK,fill=BARVA[vypln])

  def sachovnice():
      "Vymalovani sachovnice bunek"
      for y in xrange(DELKA):
          for x in xrange(DELKA):
              bakterie=(random.randint(0,len(BARVA)-1))
              ctverec(x,y, bakterie)

  # inicializace Tkinter
  root=Tk()
  root.title("Sachovnice")
  frame=Frame(root)
  frame.pack()
  canvas=Canvas(frame, bg='white', 
                height=DELKA*KROK+2*OKRAJ, width=DELKA*KROK+2*OKRAJ)
  canvas.pack()

  # vykresleni sachovnice
  sachovnice()
  root.mainloop()
</pre>
</li>

</ul>
<h2>range a xrange</h2>
<p> No a pak vznikla válka mezi range a xrange. Zastánci range měli v rukávu jen to, že se to doteď dělalo tak, tak proč nějaké novinky. Xrange-isti zase výhled do budoucna. Padaly poznámky na rychlost, efektivitu, atd. Jeden příspěvek za všechny:</p>

<pre>
  &gt;&gt;Místo range(DELKA) je lepší používat xrange(DELKA).
  &gt;
  &gt;&gt;
  &gt;&gt; co se tyká budoucnosti moc ne ....
  &gt;&gt; xrange je na seznamu to be removed 
  &gt;&gt; http://www.python.org/peps/pep-3000.html
  &gt;&gt; tak ze pod budoucími verzemi pythonu nepouzitelne

  Dovolím si důrazně nesouhlasit. Stejný dokument
  říká, že range() má vracet iterátor. Jinými slovy
  to znamená, že se staré range() má zcela zrušit
  a xrange() se má přejmenovat na range().

  Uvedený dokument je navíc věnován "hypotetické
  budoucí verzi Pythonu" a slouží spíš pro diskusi
  a ověřování nápadů při dalším vývoji.

  Hlavním důvodem pro můj důrazný nesouhlas je
  rozdíl ve funčnosti (efektivnosti) range()
  a xrange(). Jméno není tak důležité. Přejmenování
  funkce se dá v Pythonu dosáhnout velmi snadno:

  &gt;&gt;&gt;&gt;&gt;&gt; range
  &lt;built-in function range&gt;
  &gt;&gt;&gt;&gt;&gt;&gt; xrange
  &lt;type 'xrange'&gt;

  &gt;&gt;&gt;&gt;&gt;&gt; range = xrange
  &gt;&gt;&gt;&gt;&gt;&gt; range
  &lt;type 'xrange'&gt;
  &gt;&gt;&gt;&gt;&gt;&gt;

  Tím už nyní dosáhnu toho, že se zahodí odkaz 
  na zabudovanou funkci range() a pod tímto jménem
  se podstrčí xrange(). Funguje to ale jenom v daném
  (lokálním) prostoru jmen.

  Aby budoucí verze Pythonu neznemožnila používání
  starších programů, které používají xrange(), může
  provést něco takového (trochu chytřeji):

  def xrange():
      # print 'Varovani...'
      return range()

  To znamená, že všude, kde budu používat
  (v té době již nepodporovanou) funkci xrange(),
  bude potichu nahrazena použitím nové range().
  Jakmile to bude aktuální, dá se najevo
  změna trochu hlasitěji (naznačeno zakomentovaným
  printem).
</pre>
<p>Také se probrala otázka češtiny v programech a její užitečnost, bublinová nápověda, Style guide, a další. Vcelku široký záběr.</p>
<h2>Pak ještě </h2>
<p> byl script ještě upraven a také převeden na pygame platformu:</p>

<pre>
  Přidal jsem funkci sachovniceKlik - překreslení sachovnice. A přidal i
  výpis souřadnice myši, aby případný zájemce viděl podstatu věci. A
  přejmenování ctverec --&gt; bunka. Ženský rod láká více pozornosti ;-) a je
  to méně otřepané. 
</pre>
<h2><a href="Tkinter.html">Tkinter</a></h2>

<pre>
    # -*- coding: cp1250 -*-

    from Tkinter import *
    import random

    KROK = 30   # velikost jedné buňky
    OKRAJ = 20  # velikost okraje
    DELKA = 10  # počet polí
    POZADI = 'white' # barva pozadí
    BARVA = ['white', 'orangered', 'lightgreen', 'yellow']   # barvičky 

    def bunka(souradnice, barva):
        u"""Vytiskne buňku na plátno v souřadnicích (x, y) zadanou barvou."""

        x=souradnice[0]
        y=souradnice[1]

        # výpočet pixelových souřadnic rohů buňky
        levy = x*KROK + OKRAJ
        pravy = levy + KROK
        horni = y*KROK + OKRAJ
        dolni = horni + KROK

        platno.create_rectangle(levy, horni, pravy, dolni, fill=barva)

    def sachovnice():
        u"""Vymalování šachovnice na plátno s náhodnou barvou v buňce."""

        for y in xrange(DELKA):
            for x in xrange(DELKA):
                bakterie = random.randint(0,len(BARVA)-1)
                bunka((x, y), BARVA[bakterie])

    def sachovniceKlik(udalost):
        u"""Pomocná funkce při volání z kliku myši."""

        print u"Souřadnice myši: (%i, %i)" % (udalost.x, udalost.y)
        sachovnice()          

    # Inicializace Tkinter.
    root = Tk()
    root.title(u"Šachovnice")
    root.bind('&lt;Button-1&gt;', sachovniceKlik)
    frame = Frame(root)
    frame.pack()

    # Vytvoření mého plátna, na které se bude kreslit
    platno = Canvas(frame,
                    bg=POZADI, 
                    height=DELKA*KROK+2*OKRAJ,
                    width=DELKA*KROK+2*OKRAJ)
    platno.pack()

    # Vykreslení šachovnice na moje plátno
    sachovnice()

    # Spuštění uživatelského rozhraní
    root.mainloop()
</pre>
<h2>Pygame</h2>

<pre>
    # -*- coding: cp1250 -*-

    import pygame, random
    from pygame.locals import *

    KROK = 30   # velikost jedné buňky
    OKRAJ = 20  # velikost okraje
    DELKA = 10  # počet polí
    POZADI = 'white' # barva pozadí
    BARVA = ['white', 'orangered', 'lightgreen', 'yellow']   # barvičky 

    def bunka(souradnice, barva):
        u"""Vytiskne buňku na plátno v souřadnicích (x, y) zadanou barvou."""

        x=souradnice[0]
        y=souradnice[1]

        # výpočet souřadnic
        poziceX = x*KROK + OKRAJ
        poziceY = y*KROK + OKRAJ
        sirka = KROK + 1
        vyska = KROK + 1
        umisteni = pygame.Rect(poziceX, poziceY, sirka, vyska)

        # Vybarvení plochy buňky
        pygame.draw.rect(platno, barva, umisteni)  
        # Vybarvení černého rámečku kolem buňky
        pygame.draw.rect(platno, pygame.color.Color('black'), umisteni, 1)  

    def sachovnice():
        u"""Vymalování šachovnice na plátno s náhodnou barvou v buňkách."""

        for y in xrange(DELKA):
            for x in xrange(DELKA):
                bakterie = random.randint(0,len(BARVA)-1)
                bunka((x, y), pygame.color.Color(BARVA[bakterie]))

    # Inicializace pygame
    sirkaPlochy = DELKA*KROK+2*OKRAJ
    vyskaPlochy = DELKA*KROK+2*OKRAJ
    platno = pygame.display.set_mode((sirkaPlochy, vyskaPlochy))
    platno.fill(pygame.color.Color(POZADI))
    hodiny=pygame.time.Clock() 

    # Vykreslení šachovnice na plátno
    sachovnice()
    pygame.display.flip()

    # Čekání na události
    opakovat=1
    while opakovat:
        for udalost in  pygame.event.get():
            if udalost.type == pygame.QUIT:
                # Končíme      
                opakovat=0
            if udalost.type == MOUSEBUTTONDOWN:
                # Překreslíme šachovnici
                print u"Souřadnice myši: ", udalost.pos
                sachovnice()
                pygame.display.flip()

    pygame.quit()   # úklid
</pre>
<h2><a href="PyQtPySide.html">PyQt_PySide</a></h2>

<pre>
  # -*- coding: utf-8 -*-
  #
  # Nevim, co je presne zadani, ale tohle je taky mrizka 9x9...

  from qt import *
  from qttable import QTable
  import sys

  # velikost bunky "mrizky"
  SIZE = 30

  class MainForm(QMainWindow):
      def __init__(self,parent = None,name = None,fl = 0):
          # inicializace okna
          QMainWindow.__init__(self,parent,name,fl)
          self.setCaption('Qt Mrizka - at uz je to cokoli...')
          self.setCentralWidget(QWidget(self,"qt_central_widget"))
          mainFromLayout = QGridLayout(self.centralWidget(),1,1,11,6,"mainFromLayout")

          # samotna "mrizka"
          self.mrizka = QTable(self.centralWidget(),"mrizka")
          self.mrizka.setLineWidth(1)
          self.mrizka.setNumRows(9)
          self.mrizka.setNumCols(9)

          # zmena velikosti bunek, to uz je jen jako bonus...
          for i in range(self.mrizka.numRows()):
              self.mrizka.setRowHeight(i, SIZE)
          for j in range(self.mrizka.numCols()):
              self.mrizka.setColumnWidth(j, SIZE)

          # zarovnani v oknu
          mainFromLayout.addWidget(self.mrizka,0,0)

  if __name__ == '__main__':
      app = QApplication(sys.argv)
      app.connect(app, SIGNAL('lastWindowClosed()'), app,
                  SLOT('quit()'))
      mw = MainForm()
      mw.show()
      app.setMainWidget(mw)
      app.exec_loop()
</pre>
<h2><a href="Tkinter.html">Tkinter</a> - jako tlačítka</h2>

<pre>
    from Tkinter import *

    hlavni= Tk()

    pocetBunek=9
    velikost=4  

    for i in range(pocetBunek*pocetBunek):

        radek=i/pocetBunek     # vypocet cisla radky
        sloupec=i%pocetBunek   # vypocet cisla sloupce

        tlacitko=Button(hlavni, text=str(i+1), width=velikost*2, height=velikost)
        tlacitko.grid(row=radek, column=sloupec)    

    hlavni.mainloop()
</pre>
<p>
</p>

      <a name="bottom"></a>
      <br />
      <div>
      <!-- comment form -->
      <br />
      <br />
      <div>
        <form method="post" enctype="multipart/form-data"
              class="commentform"
              style="margin-top:0;margin-bottom:0"
              action="http://www.py.cz/SachovniceMrizka">
          <input name="timeStamp" type="hidden"
                 value="1435224290.63" />
          <input name="page" type="hidden"
                 value="SachovniceMrizka" />
          <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="">
            <tr>
              <td align="left" valign="middle" nowrap="nowrap" colspan="2">
                <small>
                  <span>subject</span>: 
                  <input type="text" name="subject_heading"
                         size="40" maxlength="100"
                         style="font-weight:bold;"
                         class="formfield"
                         title="a subject helps clarify threads and RecentChanges" />
                  
                </small>
              </td>
            </tr>
            <tr>
              <td align="center" valign="bottom" bgcolor="" colspan="2">
                <textarea wrap="virtual" name="text"
                          rows="3" cols="60"
                          style="width:100%;"
                          class="formfield"
                          title="to comment (and cc any subscribers) enter text here and click add"></textarea>
              </td>
            </tr>
            <tr>
              <td align="left" valign="middle">
                &nbsp;
              </td>
              <td align="right" valign="top" nowrap="nowrap"> 
                <input type="hidden" name="in_reply_to" />
                <input type="hidden" name="use_heading" value="1" />
                <span>
                  <small>(
                  <span>
                    <span>
                      <span>110</span> subscribers
                    </span>
                    
                  </span>
                  )</small>
                </span>
                <input type="submit" name="comment:method"
                       value="add a comment"
                       style="font-weight:bold" /></td>
            </tr>
          </table>
        </form>
      </div>
    </div>
    </div>
      <div id="pagefooter">
      <div>
      
      </div>
    </div>
    </div>
    
  </body>

<!-- Mirrored from www.py.cz/SachovniceMrizka by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:00:55 GMT -->
</html>

