<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
                         
  
<!-- Mirrored from www.py.cz/Ukazatele/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:04:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />
    
    <link rel="stylesheet" type="text/css"
          href="../FrontPage/stylesheet.css" />
    <title>PyCZ: Programovací jazyk Python, aplikační servery a frameworky, atd. Ukazatele</title>
    
    
    <meta name="robots" content="noindex,nofollow" />
  
  
  </head>
  <body>
    
    <div>
      <div id="pageheaderall" class="pageheader">
      <div id="accesskeys">
      <a accesskey="0"
         href="http://www.py.cz/Ukazatele/helpaccesskeys"></a>
      <a accesskey="f" href="http://www.py.cz/FrontPage"></a>
      <a accesskey="c"
         href="http://www.py.cz/FrontPage/contents#Ukazatele"></a>
      <a accesskey="r"
         href="http://www.py.cz/FrontPage/recentchanges"></a>
      <a accesskey="" href="http://www.py.cz/FrontPage"></a>
      
      <a accesskey="i"
         href="http://www.py.cz/FrontPage/wikiindex"></a>
      
      <a accesskey="o"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/Ukazatele"></a>
      <a accesskey="h" href="http://www.py.cz/HelpPage"></a>
      
      
      <a accesskey="n"
         href="http://www.py.cz/VstupBezEnteru"></a>
      <a accesskey="p"
         href="http://www.py.cz/TipyTrikyWindows"></a>
      <a accesskey="u" href="http://www.py.cz/TipyTriky"></a>
      <a accesskey="v" href="http://www.py.cz/Ukazatele"></a>
      <a accesskey="m"
         href="http://www.py.cz/Ukazatele/subscribeform"></a>
      <a accesskey="b"
         href="http://www.py.cz/Ukazatele/backlinks"></a>
      <a accesskey="d"
         href="http://www.py.cz/Ukazatele/diff"></a>
      <a accesskey="y"
         href="http://www.py.cz/Ukazatele/history"></a>
      <a accesskey="e"
         href="http://www.py.cz/Ukazatele/editform"></a>
      
    </div>
      <div id="navlinks" class="linkpanel">
      <table class="shade1" width="100%" border="0" cellspacing="0">
        <tr>
          <td align="right">
            
      <a href="http://www.py.cz/FrontPage"
         title="show front page">
      <span>home</span></a>
      <a href="http://www.py.cz/FrontPage/contents#Ukazatele"
         title="show wiki contents">
      <span>contents</span></a>
      <a href="http://www.py.cz/FrontPage/recentchanges"
         title="show wiki recent changes">
      <span>changes</span></a>
      
      <a title="show wiki index"
         href="http://www.py.cz/FrontPage/wikiindex">
      <span>index</span></a>
      
      <a title="show wiki options"
         href="http://www.py.cz/FrontPage/useroptions?redirectURL=http%3A//www.py.cz/Ukazatele">
      <span>options</span></a>
      <a title="show help page"
         href="http://www.py.cz/HelpPage">
      <span>help</span></a>
    
            
      
      <a href="http://www.py.cz/Ukazatele/subscribeform"
         title="configure email subscription to this page or site">
        
      <span>subscribe</span></a>
      
      <a href="http://www.py.cz/Ukazatele/editform"
         title="edit-page (last edited 2 years ago by pepr)">
      <span>edit</span></a>
      
    
          </td>
        </tr>
      </table>
    </div>
      <div id="pageheader">
        <form method="GET"
              action="http://www.py.cz/FrontPage/searchwiki">
          <table width="100%" border="0" cellspacing="0">
            <tr>
              <!-- logo -->
              <td id="logo" width="1%" valign="top"
                  class="logo">
                
                  <a title="go to home page"
                     href="http://www.py.cz/FrontPage">
                    
                    <img src="http://www.py.cz/Ukazatele/logo.jpg" border="0" alt="home" />
                    
                  </a>
                  &nbsp;
                
              </td>
              <!-- page name and context (parent topics) -->
              <td align="left" width="79%">
                
                  <small><ul class="outline expandable">
 <li><a href="http://www.py.cz/PythonRoot" name="PythonRoot">PythonRoot</a>
<ul class="outline expandable">
  <li><a href="http://www.py.cz/TipyTriky" name="TipyTriky">TipyTriky</a>
<ul class="outline expandable">
  <li><h1 style="display:inline;"><a href="http://www.py.cz/Ukazatele/backlinks" title="which pages link to this one ?" name="Ukazatele">Ukazatele</a></h1></li>
</ul>
  </li>
</ul>
 </li>
</ul>
</small>
                
                
              </td>
              <!-- search form & page info -->
              <td class="searchbox" width="20%" align="right">
                
                  <input id="searchinput" class="formfield"
                         name="expr" type="text" size="20"
                         maxlength="100" value=""
                         title="search all pages" /><br />
                  <span class="lasteditor">last edited  <a href="http://www.py.cz/Ukazatele/history" title="show last edit" >2 years</a> ago by <b>pepr</b></span><br>
                  <span class="creator">created 2009-01-16</span>   
                
                
              </td>
            </tr>
          </table>
        </form>
      </div>
      <div id="ratingform" align="right">  
      <!-- page rating form -->
      <div>
        <a name="ratingform"></a>
        <style type="text/css">
          input.rating {border:none;}
        </style>
        <form method="POST" id="ratingform"
              action="http://www.py.cz/Ukazatele/vote">
           <input type="image" name="vote0" value="0"
                  alt="0" class="rating" width="14"
                  height="13"
                  src="http://www.py.cz/p_/sp"
                  style=""
                  title="click to vote 0 (poor) for this page (0 votes)" /><input
    type="image" name="vote1" value="1" alt="1"
    class="rating" src="http://www.py.cz/Ukazatele/misc_/ZWiki/star_icon" style=""
    title="click to vote 1 (average) for this page (0 votes)" /><input
    type="image" name="vote2" value="2" alt="2"
    class="rating" src="http://www.py.cz/Ukazatele/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 2 (above average) for this page (0 votes)" /><input
    type="image" name="vote3" value="3" alt="3"
    class="rating" src="http://www.py.cz/Ukazatele/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 3 (good) for this page (0 votes)" /><input
    type="image" name="vote4" value="4" alt="4"
    class="rating" src="http://www.py.cz/Ukazatele/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 4 (great) for this page (0 votes)" /><input
    type="image" name="vote5" value="5" alt="5"
    class="rating" src="http://www.py.cz/Ukazatele/misc_/ZWiki/blank_star_icon"
    style=""
    title="click to vote 5 (superb) for this page (0 votes)" />
        </form>
      </div>
    </div>
    </div>
      <h1>Edit detail for Ukazatele revision 3 of 1</h1>
      <div class="formcontent">
        <table border="0" cellspacing="0" width="100%">
          <tr valign="top">

            <td align="left">
              <form style="display:inline"
                    action="http://www.py.cz/Ukazatele">
                <input type="submit" name="history:method"
                       value="Return to edit history" />
                
              </form>
            </td>

            <td align="center">
              <form style="display:inline"
                    action="http://www.py.cz/Ukazatele/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &lt; "
                       type="submit" accesskey="," />
              </form>
              <a style="font-weight:bold"
                 href="http://www.py.cz/Ukazatele/diff?rev=3">3</a>
              <form style="display:inline"
                    action="http://www.py.cz/Ukazatele/diff">
                <input type="hidden" name="rev" />
                
                <input disabled="1" value=" &gt; "
                       type="submit" accesskey="." />
              </form>
            </td>

            <td align="right">
              <form style="display:inline"
                    action="http://www.py.cz/Ukazatele">
                <input type="hidden" name="rev" value="3" />
                <input value="Revert to this version"
                       type="submit" name="revert:method"
                       disabled="disabled" />
              </form>
            </td>

          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Editor:</span> pepr
              <br />
              <span>Time:</span> 2013/05/22 19:29:38 GMT+2
            </td>
          </tr>
          <tr valign="top">
            <td colspan="3">
              <span>Note:</span> <span
    style="font-weight:bold; font-style:italic;"></span>
            </td>
          </tr>
        </table>
        <hr />
        <pre>
<b>changed:</b><span style="color:red;text-decoration:line-through">
-</span><span style="color:green">
Python a ukazatele
=================================


Dotaz
----------
Dobrý den, zajímalo by mne, zda Python zná něco jako ukazatele.
Kouknul jsem na pár webových stránek, ale moudřejší z toho nejsem,
vypadá to spíš, jako by toto python neuměl.

Odpověď
-----------

Ukazatele v Pythonu nejsou potreba, to se vyresi tak nejak
samo. V tehle oblasti je dulezite porozumet tomu, co jsou &quot;mutable&quot; a
&quot;immutable&quot; typy (nebudu zkouset to prekladat). Dulezite je to jak se
chovaji pri zmene.

- mutable typy se zmeni na miste, tj. &quot;pointer&quot; na objekt zustane stejny, ale zmeni se objekt (pro ty, kdo prichazeji z jazyku s pointery) - prikladem je treba list
- immutable typy - pri zmene se vyrobi kopie puvodniho objeku &quot;jinde v pameti&quot;, &quot;pointer&quot; se presmeruje na ni a puvodni verze se zapomene.
Prikladem je typ int nebo treba string (to byva pro zacinajici
pythonisty prekvapujici).

Priklad (immutable)::

    &gt;&gt;&gt; a = 1
    &gt;&gt;&gt; b = a
    &gt;&gt;&gt; a is b
    True  &lt;- &quot;stejne pointery&quot;
    &gt;&gt;&gt; a = 2
    &gt;&gt;&gt; a is b
    False &lt;- po zmene je &quot;pointer na a&quot; jiny

Příklad (mutable)::

    &gt;&gt;&gt; c = [1, 2]
    &gt;&gt;&gt; d = c
    &gt;&gt;&gt; c is d
    True &lt;- zase &quot;stejne pointery&quot;
    &gt;&gt;&gt; c.append(3)
    &gt;&gt;&gt; c
    [1, 2, 3]
    &gt;&gt;&gt; d
    [1, 2, 3]
    &gt;&gt;&gt; c is d
    True &lt;- &quot;mutable&quot; objekt se zmenil, ale zustal v pameti na svem miste
    a &quot;c&quot; i &quot;d&quot; stale ukazuji na stejne misto

Dodatečné upřesnění (květen 2013)
-------------------

Proměnná typu ukazatel (v jiných jazycích) je prostor pro uložení adresy. Hodnota typu ukazatel je konkrétní adresa nebo konstanta typu NULL. Při odkazu přes ukazatel se musí použít speciální syntaxe.

Proměnná typu reference se podobá proměnné typu ukazatel, ale nesmí obsahovat speciální konstantu NULL. Odkaz přes referenci se provádí syntakticky stejným způsobem, jako kdybychom přímo pracovali s cílovým objektem. Rozdíl je ten, že se musí udělat jeden skok navíc. Technicky je to tedy rovněž nepřímý odkaz, ale syntakticky se zapisuje jako přímý odkaz.

Pythonovské proměnné nemůžeme chápat jako proměnné v klasických kompilovaných jazycích. Pythonovská proměnná je zachycena jako jméno spojené s referencí na cílový objekt. Technicky se tedy jméno proměnné vezme jako řetězec, použije se jako klíč vyhledávací tabulky (pythonovského slovníku) a z hodnotové části se vezme adresa. Poté se provede automatická dereference a tím se dostaneme na cílový objekt. Syntakticky to tedy vypadá jako přímá práce s pojmenovaným objektem, ale technicky je tam proti klasické referenční proměnné ještě jeden krok navíc -- vyhledávání v systémovém slovníku. Ještě jinak, hodnotová část slovníku může být chápána technicky také jako ukazatelová proměnná -- nebo proměnná typu reference (tady se to nepozná, protože dereference se provede *vnitřně*, což je stejné jako *automaticky*).

Pokud se jméno proměnné objeví na levé straně přiřazovacího příkazu, dochází vždy k okopírování adresy cílového objektu (reference). Obsah objektu se sdílí, nekopíruje se.

Pythonovská reference není vázaná na typ cílového objektu -- všechny reference jsou stejného typu. Typ cílového objektu je svázaný s tím cílovým objektem a vyhodnocuje se až za běhu.

V Pythonu mohou existovat i nepojmenované reference (tedy referenční proměnné, kterým není přiděleno jméno). Tvoří obsah všech zabudovaných kontejnerů, jako je například seznam. Pythonovský seznam je vlastně dynamicky přidělované pole adres. Obsahem seznamu nejsou samotné cílové objekty, ale odkazy na cílové objekty. Navenek se tedy seznam chová jako heterogenní struktura (z logického hlediska může obsahovat objekty rozdílných typů), z technického hlediska je to homogenní pole (adresy). I proto lze pythonovský seznam efektivně používat jako pole.

Vztah proměnná a mutable/immutable s tím tak docela nesouvisí.

Když to shrnu, místo práce s ukazateli se pracuje přímo s cílovým objektem. Technicky to znamená, že se pracuje s kopírováním adresy. Jde sice o referenci (ne o ukazatelovou hodnotu), ale technicky je to stejné a dá se to i stejně použít.
</span>
</pre>
        <hr />
        <div><h1 class="title">Python a ukazatele</h1>
<div class="section" id="dotaz">
<h2>Dotaz</h2>
<p>Dobrý den, zajímalo by mne, zda Python zná něco jako ukazatele.
Kouknul jsem na pár webových stránek, ale moudřejší z toho nejsem,
vypadá to spíš, jako by toto python neuměl.</p>
</div>
<div class="section" id="odpoved">
<h2>Odpověď</h2>
<p>Ukazatele v Pythonu nejsou potreba, to se vyresi tak nejak
samo. V tehle oblasti je dulezite porozumet tomu, co jsou &quot;mutable&quot; a
&quot;immutable&quot; typy (nebudu zkouset to prekladat). Dulezite je to jak se
chovaji pri zmene.</p>
<ul class="simple">
<li>mutable typy se zmeni na miste, tj. &quot;pointer&quot; na objekt zustane stejny, ale zmeni se objekt (pro ty, kdo prichazeji z jazyku s pointery) - prikladem je treba list</li>
<li>immutable typy - pri zmene se vyrobi kopie puvodniho objeku &quot;jinde v pameti&quot;, &quot;pointer&quot; se presmeruje na ni a puvodni verze se zapomene.</li>
</ul>
<p>Prikladem je typ int nebo treba string (to byva pro zacinajici
pythonisty prekvapujici).</p>
<p>Priklad (immutable):</p>
<pre class="literal-block">
&gt;&gt;&gt; a = 1
&gt;&gt;&gt; b = a
&gt;&gt;&gt; a is b
True  &lt;- &quot;stejne pointery&quot;
&gt;&gt;&gt; a = 2
&gt;&gt;&gt; a is b
False &lt;- po zmene je &quot;pointer na a&quot; jiny
</pre>
<p>Příklad (mutable):</p>
<pre class="literal-block">
&gt;&gt;&gt; c = [1, 2]
&gt;&gt;&gt; d = c
&gt;&gt;&gt; c is d
True &lt;- zase &quot;stejne pointery&quot;
&gt;&gt;&gt; c.append(3)
&gt;&gt;&gt; c
[1, 2, 3]
&gt;&gt;&gt; d
[1, 2, 3]
&gt;&gt;&gt; c is d
True &lt;- &quot;mutable&quot; objekt se zmenil, ale zustal v pameti na svem miste
a &quot;c&quot; i &quot;d&quot; stale ukazuji na stejne misto
</pre>
</div>
<div class="section" id="dodatecne-upresneni-kveten-2013">
<h2>Dodatečné upřesnění (květen 2013)</h2>
<p>Proměnná typu ukazatel (v jiných jazycích) je prostor pro uložení adresy. Hodnota typu ukazatel je konkrétní adresa nebo konstanta typu NULL. Při odkazu přes ukazatel se musí použít speciální syntaxe.</p>
<p>Proměnná typu reference se podobá proměnné typu ukazatel, ale nesmí obsahovat speciální konstantu NULL. Odkaz přes referenci se provádí syntakticky stejným způsobem, jako kdybychom přímo pracovali s cílovým objektem. Rozdíl je ten, že se musí udělat jeden skok navíc. Technicky je to tedy rovněž nepřímý odkaz, ale syntakticky se zapisuje jako přímý odkaz.</p>
<p>Pythonovské proměnné nemůžeme chápat jako proměnné v klasických kompilovaných jazycích. Pythonovská proměnná je zachycena jako jméno spojené s referencí na cílový objekt. Technicky se tedy jméno proměnné vezme jako řetězec, použije se jako klíč vyhledávací tabulky (pythonovského slovníku) a z hodnotové části se vezme adresa. Poté se provede automatická dereference a tím se dostaneme na cílový objekt. Syntakticky to tedy vypadá jako přímá práce s pojmenovaným objektem, ale technicky je tam proti klasické referenční proměnné ještě jeden krok navíc -- vyhledávání v systémovém slovníku. Ještě jinak, hodnotová část slovníku může být chápána technicky také jako ukazatelová proměnná -- nebo proměnná typu reference (tady se to nepozná, protože dereference se provede <em>vnitřně</em>, což je stejné jako <em>automaticky</em>).</p>
<p>Pokud se jméno proměnné objeví na levé straně přiřazovacího příkazu, dochází vždy k okopírování adresy cílového objektu (reference). Obsah objektu se sdílí, nekopíruje se.</p>
<p>Pythonovská reference není vázaná na typ cílového objektu -- všechny reference jsou stejného typu. Typ cílového objektu je svázaný s tím cílovým objektem a vyhodnocuje se až za běhu.</p>
<p>V Pythonu mohou existovat i nepojmenované reference (tedy referenční proměnné, kterým není přiděleno jméno). Tvoří obsah všech zabudovaných kontejnerů, jako je například seznam. Pythonovský seznam je vlastně dynamicky přidělované pole adres. Obsahem seznamu nejsou samotné cílové objekty, ale odkazy na cílové objekty. Navenek se tedy seznam chová jako heterogenní struktura (z logického hlediska může obsahovat objekty rozdílných typů), z technického hlediska je to homogenní pole (adresy). I proto lze pythonovský seznam efektivně používat jako pole.</p>
<p>Vztah proměnná a mutable/immutable s tím tak docela nesouvisí.</p>
<p>Když to shrnu, místo práce s ukazateli se pracuje přímo s cílovým objektem. Technicky to znamená, že se pracuje s kopírováním adresy. Jde sice o referenci (ne o ukazatelovou hodnotu), ale technicky je to stejné a dá se to i stejně použít.</p>
<p>
</p>
</div>
</div>
      </div>
    </div>
    
  </body>

<!-- Mirrored from www.py.cz/Ukazatele/diff by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 20 Mar 2016 21:04:08 GMT -->
</html>

